function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("react"),a=e(t);require("react-phone-number-input/style.css"),require("bootstrap/dist/css/bootstrap.min.css"),require("dropzone/dist/min/dropzone.min.css"),require("video-react/dist/video-react.css"),require("rc-time-picker/assets/index.css"),require("react-datepicker/dist/react-datepicker.css"),require("react-input-range/lib/css/index.css");var n=e(require("cleave.js/react")),s=require("lodash"),r=require("react-redux"),i=e(require("react-phone-number-input")),o=e(require("jodit-react")),l=e(require("mousetrap")),p=require("tcomponent"),u=e(require("html-react-parser")),d=require("react-bootstrap");require("@wiris/mathtype-generic");var c=e(require("react-contenteditable")),m=e(require("axios")),h=e(require("react-dropzone-component")),f=require("video-react"),y=require("moment"),g=e(y),E=require("@fortawesome/react-fontawesome"),v=require("@fortawesome/free-solid-svg-icons"),b=e(require("react-spinners/PuffLoader")),Y=e(require("react-datepicker")),N=require("@fortawesome/free-regular-svg-icons"),D=e(require("react-input-range")),S=e(require("react-loading-overlay")),A=e(require("styled-components")),k=require("react-table"),C=require("react-is-visible"),I=e(require("rc-time-picker")),R=e(require("react-tag-autocomplete")),M=e(require("react-select")),T=require("@emotion/react"),w=require("react-color"),x=e(require("react-apexcharts"));function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function V(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return t||(t=e.slice(0)),e.raw=t,e}var U=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleEquationChange=function(e){var t=n.props.onEquationInput,a=window.WirisPlugin.Parser.endParse(e.target.value);t(e.target.value,a)},n.equationEditorRef=a.createRef(),n.toolbarRef=a.createRef(),n}V(t,e);var n=t.prototype;return n.componentDidMount=function(){try{var e={};e.target=this.equationEditorRef.current,e.toolbar=this.toolbarRef.current;var t=new window.WirisPlugin.GenericIntegration(e);t.init(),t.listeners.fire("onTargetReady",{})}catch(e){}},n.render=function(){var e=(this.props||{}).value;return a.createElement("div",null,a.createElement("div",{ref:this.toolbarRef}),a.createElement(c,{suppressContentEditableWarning:!0,className:"form-control",innerRef:this.equationEditorRef,onChange:this.handleEquationChange,html:e||""}))},t}(a.Component),L=function(e){function t(t){var n;(n=e.call(this,t)||this).handleInputChange=function(e){e.preventDefault();var t=e.target.value?String(e.target.value):"";"nik"!=n.state.type&&"kip"!=n.state.type&&"npwp"!=n.state.type&&"postcode"!=n.state.type||(t=t.replace(/\D/g,"")),n.props.maxlength&&(t=t.substring(0,n.props.maxlength)),n.setState({value:t}),n.props.setInput(n.state.props_name,t)},n.openModal=function(){n.setState({open:!0})},n.closeModal=function(){n.setState({open:!1})},n.onChange=function(e){n.setState({value:e}),n.props.setInput(n.state.props_name,e)};var s=n.props.placeholder||"",r={},i=n.props.type?String(n.props.type):"";return"nik"==i.toLowerCase()?(r={delimiter:" ",blocks:[2,2,2,6,4],numericOnly:!0},s=n.props.placeholder||"Nomor Induk Kependudukan"):"kip"==i.toLowerCase()?(r={delimiter:" ",blocks:[4,4,4,4]},s=n.props.placeholder||"Kartu Indonesia Pintar"):"npwp"==i.toLowerCase()?(r={delimiters:[".",".",".","-","."],blocks:[2,3,3,1,3,3],numericOnly:!0},s=n.props.placeholder||"Nomor Pokok Wajib Pajak"):"postcode"==i.toLowerCase()?(r={blocks:[5],delimiter:" ",numericOnly:!0},s=n.props.placeholder||"Kode Pos"):"phone"==i.toLowerCase()&&(s=n.props.placeholder||"Telepon"),n.state={type:i,open:!1,placeholder:s,options_cleave:r,value:n.props.value?String(n.props.value):"",props_name:n.props.name?p.slug(String(n.props.name),"_"):"",config:{readonly:!1,placeholder:" ",toolbarButtonSize:"small"}},n.toolbarRef=a.createRef(),n.editorRef=a.createRef(),n}V(t,e);var r=t.prototype;return r.componentDidUpdate=function(e,t){s.isEqual(this.props.type,e.type)||this.setState({type:this.props.type});try{s.isEqual(p.findArrayName(this.state.props_name,this.props.input),p.findArrayName(this.state.props_name,e.input))||s.isEqual(this.state.value,p.findArrayName(this.state.props_name,this.props.input))||this.setState({value:this.props.input[this.state.props_name]||""})}catch(e){}this.props.value&&e.value!=this.props.value&&this.setState({value:this.props.value||""})},r.componentDidMount=function(){if(this.props.disableCopy||this.props.disablePaste||this.props.disableSelectAll){var e=[];this.props.disableCopy&&(e.push("command+c"),e.push("ctrl+c")),this.props.disablePaste&&(e.push("command+v"),e.push("ctrl+v")),this.props.disableSelectAll&&(e.push("command+a"),e.push("ctrl+a")),e.length>0&&l.bind(e,function(){return!1})}var t="";try{var a=p.findArrayName(this.state.props_name,this.props.input);t=this.props.value?this.props.value:a}catch(e){}this.setState({value:t})},r.render=function(){if(!this.state.props_name)return"Name is Required";if(this.props.disabled||this.props.isReadonly)return!s.isEmpty(this.state.value)&&u(String(this.state.value));if("nik"==this.state.type||"kip"==this.state.type||"npwp"==this.state.type||"postcode"==this.state.type)return a.createElement(n,{placeholder:this.state.placeholder,id:this.props.id,name:this.state.props_name,value:this.state.value,onChange:this.handleInputChange,options:this.state.options_cleave,className:"form-control"});if("textarea"==this.state.type)return a.createElement("textarea",{id:this.props.id,rows:this.props.rows||3,className:"form-control no-resize mousetrap",onChange:this.handleInputChange,name:this.state.props_name,value:this.state.value,placeholder:this.props.placeholder});if("phone"==this.state.type)return a.createElement(i,{international:!0,defaultCountry:"ID",value:this.state.value?String(this.state.value):"",onChange:this.onChange});if("texteditor"==this.state.type)return a.createElement(a.Fragment,null,a.createElement("div",{className:"form-control",style:{minHeight:32},onClick:this.openModal},s.isEmpty(this.state.value)?"":u(String(this.state.value))),a.createElement(d.Modal,{size:"lg",show:this.state.open,onHide:this.closeModal},a.createElement(d.Modal.Header,{onHide:this.closeModal,closeButton:!0},a.createElement(d.Modal.Title,null,this.state.placeholder||"Text Editor")),a.createElement(d.Modal.Body,null,a.createElement(o,{key:this.props.name+"_editor",id:this.props.id,ref:this.editorRef,value:s.isEmpty(this.state.value)?"":String(this.state.value),config:this.state.config,tabIndex:1,onChange:this.onChange}))));if("equation"==this.state.type)return a.createElement(a.Fragment,null,a.createElement("div",{className:"form-control",style:{minHeight:32},onClick:this.openModal},s.isEmpty(this.state.value)?"":u(String(this.state.value))),a.createElement(d.Modal,{size:"lg",show:this.state.open,onHide:this.closeModal},a.createElement(d.Modal.Header,{onHide:this.closeModal,closeButton:!0},a.createElement(d.Modal.Title,null,this.state.placeholder||"Equation Editor")),a.createElement(d.Modal.Body,null,a.createElement("div",{id:this.props.id,ref:this.toolbarRef},a.createElement(U,{id:this.props.id,onEquationInput:this.onChange,toolbarRef:this.toolbarRef,value:this.state.value})))));var e="text"===this.state.type||s.isUndefined(this.state.type)?"search":this.state.type;return a.createElement(d.Form.Control,{id:this.props.id,type:e,placeholder:this.state.placeholder,value:this.state.value,onChange:this.handleInputChange,name:this.state.props_name,className:"form-control mousetrap"})},t}(a.Component),O=r.connect(function(e){return{input:e.core.input||{}}},function(e){return{setInput:function(t,a){return e({type:"SET_INPUT",payload:{key:p.slug(String(t),"_"),value:a}})}}})(L);function z(){return a.createElement(b,{color:"#000",size:25})}var q=y;function B(e){try{if(s.isEqual(e.type.type.substring(0,5),"image"))return a.createElement("img",{key:e.file,className:"img-responsive",style:{maxWidth:"100%"},src:process.env.REACT_APP_API_URL+"/file/stream/"+e.file});if(s.isEqual(e.type.type.substring(0,5),"video"))return a.createElement(f.Player,{key:e.file,autoPlay:!1,src:process.env.REACT_APP_API_URL+"/file/stream/"+e.file});if(s.isEqual(e.type.type,"application/pdf"))return a.createElement("iframe",{key:e.file,width:"100%",height:"480",src:process.env.REACT_APP_API_URL+"/file/stream/"+e.file})}catch(e){}return null}function j(e){var n=e.accept?e.accept:"image/*, video/*, audio/*, .docx, .xlsx, .pptx, .csv, .pdf",i=r.useSelector(function(e){return e.core.input}),o=r.useSelector(function(e){return e.core.parameter}),l=t.useState({}),u=l[0],c=l[1],f=t.useState([]),y=f[0],g=f[1],_=t.useState(!1),b=_[0],Y=_[1],N=r.useSelector(function(e){return e.auth}),D=r.useDispatch();function S(e){if(s.isString(e)&&!s.isEmpty(e)&&"null"!=e&&s.isEmpty(u[e])){var t=process.env.REACT_APP_API_URL+"/file/info",a=p.secureData({token_file:e}),n={method:"POST",headers:p.setAuthHeader(N),url:t,data:a};Y(!0),m(n).then(function(t){t.data.success&&(u[e]=t.data.data,c(u),T[e]=!1,w(T)),Y(!1)}).catch(function(t){u[e]="",c(u),T[e]=!1,w(T)})}}function A(e){return s.isString(e)&&!s.isEmpty(e)&&"null"!=e}function k(e){return s.filter(e,A)||[]}function C(e){return k(String(e).split("|"))}function I(e){var t;w(P({},T,((t={})[e]=!T[e],t)))}function R(e){e!=o.openFile&&D({type:"SET_PARAMETER",payload:{key:"openFile",value:e}})}t.useEffect(function(){var t=e.value?e.value:p.findArrayName(e.name,i);if(t){var a=C(t);g(a)}},[]),t.useEffect(function(){var t=C(p.findArrayName(e.name,i));s.isEqual(t,y)||g(t)},[p.findArrayName(e.name,i)]),t.useEffect(function(){!function(e){try{if(s.isArray(e)&&e.length>0)for(var t=0;t<e.length;t++)A(e[t])&&S(e[t]);else A(e)&&S(e)}catch(e){}}(y)},[y]),t.useEffect(function(){R(b)},[b]);var M=t.useState({}),T=M[0],w=M[1],x=k(y);return process.env.REACT_APP_API_URL?a.createElement("div",null,!b&&!e.isReadonly&&a.createElement("div",null,!e.isMultiple&&a.createElement("div",{style:{display:"inline-block"}},a.createElement(d.Form.Control,{className:e.className,accept:n,label:e.name,type:"file",onChange:function(t){var a,n,r=t.target.files||t.dataTransfer.files;r.length&&(a=r[0],(n=new FileReader).onload=function(t){!function(t,a){var n=e.url||process.env.REACT_APP_API_URL+"/file/upload",r=new FormData,i=t.name;r.append("type",t.type),r.append("name",i),r.append("file",t),r.append("lastModifiedDate",q(t.lastModifiedDate).format("YYYY-MM-DD HH:mm:ss")),r.append("size",t.size),Y(!0),m.post(n,r,{headers:p.setAuthHeader(N,"multipart/form-data; boundary="+r._boundary)}).then(function(t){s.isEmpty(t.data.message)||D({type:"SET_MESSAGE",payload:t.data.message}),t.data.success?(D({type:"SET_INPUT",payload:{key:e.name,value:t.data.data.token}}),g([t.data.data.token])):D({type:"SET_INPUT",payload:{key:e.name,value:""}}),Y(!1)}).catch(function(t){D({type:"SET_INPUT",payload:{key:e.name,value:""}}),D({type:"SET_MESSAGE",payload:"Gagal mengunggah lampiran"}),Y(!1)})}(a)},n.readAsDataURL(a))},onInput:function(e){R(!1)},onClick:function(e){R(!0),setTimeout(function(){R(!1)},6e4)}})),!b&&e.isMultiple&&a.createElement(h,{config:{showFiletypeIcon:!0,postUrl:process.env.REACT_APP_API_URL+"/file/upload_multiple",uploadMultiple:!0,maxFiles:5},eventHandlers:{drop:function(){},complete:function(t){var a=JSON.parse(t.xhr.response),n=y||[];n.push(a.data.token);var r=s.filter(n,function(e){return!s.isEmpty(e)})||[];D({type:"SET_INPUT",payload:{key:e.name,value:r.join("|")}}),g(r)},removedfile:function(e){}},djsConfig:{acceptedFiles:n,params:{token:N.user.token},addRemoveLinks:!0,autoProcessQueue:!0,maxFiles:5}})),!b&&x.length>0&&x.map(function(t,n){return a.createElement("div",{style:{display:"inline-block"},key:t},e.preview&&a.createElement(a.Fragment,null,a.createElement(B,{key:t,type:u[t],file:t}),a.createElement("br",null)),a.createElement(d.ButtonGroup,null,a.createElement(d.Button,{variant:"primary",size:"sm",onClick:function(){return I(t)}},a.createElement(E.FontAwesomeIcon,{icon:v.faSearch})," Lihat"),a.createElement(d.Button,{vendor:"success",onClick:function(){return window.location.href=process.env.REACT_APP_API_URL+"/file/download/"+t},size:"sm"},a.createElement(E.FontAwesomeIcon,{icon:v.faDownload})," Unduh"),!e.isReadonly&&a.createElement(d.Button,{variant:"danger",onClick:function(){return function(t){var a=process.env.REACT_APP_API_URL+"/file/delete",n=p.secureData({token_file:t,token:N.token}),r={method:"POST",headers:p.setAuthHeader(N),url:a,data:n};Y(!0),m(r).then(function(a){s.isEmpty(a.data.message)||D({type:"SET_MESSAGE",payload:a.data.message});var n=s.filter(y,function(e){return!s.isEqual(e,t)});g(n),D({type:"SET_INPUT",payload:{key:e.name,value:n}}),Y(!1)}).catch(function(a){D({type:"SET_MESSAGE",payload:"Gagal menghapus lampiran"});var n=s.filter(y,function(e){return!s.isEqual(e,t)});D({type:"SET_INPUT",payload:{key:e.name,value:n}}),g(n),Y(!1)})}(t)},size:"sm"},a.createElement(E.FontAwesomeIcon,{icon:v.faTimes})," Hapus")),a.createElement(d.Modal,{size:"lg",id:"modal_"+t,show:T[t],onHide:function(){return I(t)}},a.createElement(d.Modal.Header,{closeButton:!0,onHide:function(){return I(t)}},a.createElement(d.Modal.Title,null,"Lampiran ",t)),a.createElement(d.Modal.Body,null,a.createElement(B,{key:t,type:u[t],file:t}))))}),b&&a.createElement(z,null)):a.createElement("span",null,"REACT_APP_API_URL is required for .env")}var G,W=function(e){function t(t){var a;return(a=e.call(this,t)||this).labelGenerate=function(e){var t=[];if(s.isArray(a.props.optionLabel))for(var n=0;n<=a.props.optionLabel.length-1;n++)t.push(e[a.props.optionLabel[n]]);else t.push(e[a.props.optionLabel]);return t},a.onChange=function(e){if(!a.props.isReadonly&&a.props.name)try{if(a.props.isMultiple){for(var t=a.state.defaultValue||[],n=!1,s=[],r=0;r<t.length;r++){var i=t[r];i==e[a.props.optionValue]?n=!0:s.push(i)}n||s.push(e[a.props.optionValue]),a.props.setInput(a.props.name,s)}else{var o=p.findArrayName(a.props.name,a.props.input)||null;a.props.value&&(o=a.props.value);var l=null;o!=e[a.props.optionValue]&&(l=e[a.props.optionValue]),a.props.setInput(a.props.name,l)}}catch(e){a.props.setInput(a.props.name,null)}a.onRefresh()},a.state={defaultValue:null,type:a.props.type||"inline"},a.onRefresh=s.debounce(a.onRefresh.bind(H(a)),200),a}V(t,e);var n=t.prototype;return n.onRefresh=function(){var e,t=null;if(e=this.props.value?this.props.value:p.findArrayName(this.props.name,this.props.input)||null,!s.isNull(e))if(this.props.isMultiple){t=[];for(var a=0;a<this.props.options.length;a++)for(var n=0;n<e.length;n++){var r=this.props.options[a],i=e[n];String(r[this.props.optionValue])==String(i)&&t.push(r[this.props.optionValue])}}else t=s.find(this.props.options,function(t){return String(t[this.props.optionValue])==String(e)}.bind(this));t=s.isUndefined(t)||s.isNull(t)?null:t,this.setState({defaultValue:t})},n.componentDidUpdate=function(e,t){s.isEqual(p.findArrayName(this.props.name,e.input),p.findArrayName(this.props.name,this.props.input))||s.isEqual(this.state.defaultValue,p.findArrayName(this.props.name,this.props.input))||this.onRefresh()},n.componentDidMount=function(){this.onRefresh()},n.render=function(){var e=this,t=[];try{t=this.props.options.length>0?this.props.options:[]}catch(e){}return a.createElement("div",{className:"custom-controls-stacked"},t.map(function(t){var n=!1;try{n=e.props.isMultiple?s.includes(e.state.defaultValue,t[e.props.optionValue]):s.isEqual(t[e.props.optionValue],e.state.defaultValue[e.props.optionValue])}catch(e){}return a.createElement(a.Fragment,null,a.createElement(d.Form.Check,{inline:"inline"==e.state.type,disabled:e.props.disabled||e.props.isReadonly,type:e.props.isMultiple?"checkbox":"radio",name:e.props.name,onChange:e.onChange.bind(e,t),value:t,checked:n,label:e.labelGenerate(t).map(function(t,n){return s.isEqual(String(t).substring(0,3),"AT-")?a.createElement(j,{value:t,isReadonly:!0,preview:!0}):e.props.isHtml?u(String(t)):t})}))}))},t}(a.Component),K=r.connect(function(e){return{input:e.core.input||{}}},function(e){return{setInput:function(t,a){return e({type:"SET_INPUT",payload:{key:p.slug(String(t)),value:a}})}}})(W),X=function(e){return a.createElement(d.InputGroup,{size:"sm"},a.createElement(d.InputGroup.Text,{style:{background:"none"}},a.createElement(E.FontAwesomeIcon,{size:"sm",icon:N.faCalendar})),a.createElement(d.Form.Control,{style:{borderLeft:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:e.disabled,name:e.name,value:e.value||"",onClick:e.onClick}))},J=function(e){function t(t){var a;return(a=e.call(this,t)||this).handleInputChange=function(e){e=g(e,"YYYY-MM-DD").isValid()?g(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,a.props.setInput(a.props.name,e),a.onRefresh()},a.handleInputChangeStart=function(e){e=g(e,"YYYY-MM-DD").isValid()?g(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,a.props.setInput("start_"+a.props.name,e),a.onRefresh()},a.handleInputChangeEnd=function(e){e=g(e,"YYYY-MM-DD").isValid()?g(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,a.props.setInput("end_"+a.props.name,e),a.onRefresh()},a.checkTglMerah=function(e){var t=g(e).format("d");return 0==t||6==t?"tglmerah":void 0},a.state={selected:null,start_selected:null,end_selected:null},a.onRefresh=s.debounce(a.onRefresh.bind(H(a)),200),a}V(t,e);var n=t.prototype;return n.onRefresh=function(){if(this.props.isRange){var e=null,t=null;try{e=g(this.props.start_selected,"YYYY-MM-DD").isValid()?g(this.props.start_selected,"YYYY-MM-DD").toDate():g(p.findArrayName("start_"+this.props.name,this.props.input),"YYYY-MM-DD").isValid()?g(p.findArrayName("start_"+this.props.name,this.props.input),"YYYY-MM-DD").toDate():null}catch(e){}try{t=g(this.props.end_selected,"YYYY-MM-DD").isValid()?g(this.props.end_selected,"YYYY-MM-DD").toDate():g(p.findArrayName("end_"+this.props.name,this.props.input),"YYYY-MM-DD").isValid()?g(p.findArrayName("end_"+this.props.name,this.props.input),"YYYY-MM-DD").toDate():null}catch(e){}this.setState({start_selected:e,end_selected:t})}else{var a=null;try{a=g(this.props.selected,"YYYY-MM-DD").isValid()?g(this.props.selected,"YYYY-MM-DD").toDate():g(p.findArrayName(this.props.name,this.props.input),"YYYY-MM-DD").isValid()?g(p.findArrayName(this.props.name,this.props.input),"YYYY-MM-DD").toDate():null}catch(e){}this.setState({selected:a})}},n.componentDidMount=function(){this.onRefresh()},n.componentDidUpdate=function(e,t){this.props.isRange||p.findArrayName(this.props.name,e.input)==p.findArrayName(this.props.name,this.props.input)||p.findArrayName(this.props.name,this.props.input)==this.state.selected||this.onRefresh(),this.props.isRange&&p.findArrayName("start_"+this.props.name,e.input)!=p.findArrayName("start_"+this.props.name,this.props.input)&&p.findArrayName("start_"+this.props.name,this.props.input)!=this.state.start_selected&&this.onRefresh(),this.props.isRange&&p.findArrayName("end_"+this.props.name,e.input)!=p.findArrayName("end_"+this.props.name,this.props.input)&&p.findArrayName("end_"+this.props.name,this.props.input)!=this.state.end_selected&&this.onRefresh()},n.render=function(){var e=this.props.dateFormat?this.props.dateFormat:this.props.yearOnly?"yyyy":"yyyy-MM-dd";return this.props.isRange?this.props.disabled||this.props.isReadonly?(g(this.state.start_selected,"YYYY-MM-DD").isValid()?g(this.state.start_selected,"YYYY-MM-DD").format("DD-MM-YYYY"):"")+" - "+(g(this.state.end_selected,"YYYY-MM-DD").isValid()?g(this.state.end_selected,"YYYY-MM-DD").format("DD-MM-YYYY"):""):a.createElement("div",{className:"input-daterange input-group"},a.createElement(Y,{minDate:g(this.props.minDate,"YYYY-MM-DD").isValid()?g(this.props.minDate,"YYYY-MM-DD").toDate():null,maxDate:g(this.props.maxDate,"YYYY-MM-DD").isValid()?g(this.props.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:e,placeholder:this.props.placeholder?this.props.placeholder:"Tanggal",selected:this.state.start_selected,isClearable:!this.props.disabled&&!this.props.isReadonly,customInput:a.createElement(X,{value:this.state.start_selected,name:"start_"+this.props.name}),onChange:this.handleInputChangeStart,selectsStart:!this.props.yearOnly,peekNextMonth:!this.props.yearOnly,withPortal:!0,showMonthDropdown:!this.props.yearOnly,showYearDropdown:!this.props.yearOnly,showYearPicker:this.props.yearOnly,name:"start_"+this.props.name,todayButton:this.props.yearOnly?null:"Hari ini",dayClassName:this.checkTglMerah,dropdownMode:"select",disabled:this.props.disabled||this.props.isReadonly,readOnly:this.props.disabled||this.props.isReadonly,startDate:this.state.start_selected,endDate:this.state.end_selected,shouldCloseOnSelect:!1}),a.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),a.createElement(Y,{minDate:g(this.state.start_selected,"YYYY-MM-DD").isValid()?g(this.state.start_selected,"YYYY-MM-DD").toDate():g(this.props.minDate,"YYYY-MM-DD").isValid()?g(this.props.minDate,"YYYY-MM-DD").toDate():null,maxDate:g(this.props.maxDate,"YYYY-MM-DD").isValid()?g(this.props.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:e,placeholder:this.props.placeholder?this.props.placeholder:"Tanggal",selected:this.state.end_selected,isClearable:!this.props.disabled&&!this.props.isReadonly,name:"end_"+this.props.name,selectsEnd:!0,customInput:a.createElement(X,{value:this.state.end_selected,name:"end_"+this.props.name}),onChange:this.handleInputChangeEnd,selectsStart:!this.props.yearOnly,peekNextMonth:!this.props.yearOnly,withPortal:!0,showMonthDropdown:!this.props.yearOnly,showYearDropdown:!this.props.yearOnly,showYearPicker:this.props.yearOnly,dayClassName:this.checkTglMerah,todayButton:this.props.yearOnly?null:"Hari ini",dropdownMode:"select",startDate:this.state.start_selected,endDate:this.state.end_selected,disabled:this.props.disabled||this.props.isReadonly,readOnly:this.props.disabled||this.props.isReadonly,shouldCloseOnSelect:!1})):this.props.disabled||this.props.isReadonly?g(this.props.input[this.props.name],"YYYY-MM-DD").isValid()?g(this.props.input[this.props.name],"YYYY-MM-DD").format(this.props.yearOnly?"YYYY":"DD-MM-YYYY"):"":a.createElement(Y,{minDate:g(this.props.minDate,"YYYY-MM-DD").isValid()?g(this.props.minDate,"YYYY-MM-DD").toDate():null,maxDate:g(this.props.maxDate,"YYYY-MM-DD").isValid()?g(this.props.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:e,placeholder:this.props.placeholder?this.props.placeholder:"Tanggal",customInput:a.createElement(X,{value:this.state.selected,name:this.props.name}),selected:this.state.selected,isClearable:!this.props.disabled&&!this.props.isReadonly,id:this.props.name,className:"form-control",dayClassName:this.checkTglMerah,onChange:this.handleInputChange,selectsStart:!this.props.yearOnly,peekNextMonth:!this.props.yearOnly,withPortal:!0,showMonthDropdown:!this.props.yearOnly,showYearDropdown:!this.props.yearOnly,showYearPicker:this.props.yearOnly,todayButton:this.props.yearOnly?null:"Hari ini",dropdownMode:"select",disabled:this.props.disabled||this.props.isReadonly,readOnly:this.props.disabled||this.props.isReadonly,shouldCloseOnSelect:!1})},t}(a.Component),Q=r.connect(function(e){return{input:e.core.input||{}}},function(e){return{setInput:function(t,a){return e({type:"SET_INPUT",payload:{key:p.slug(String(t),"_"),value:a}})}}})(J),Z=function(e){function t(t){var a;return(a=e.call(this,t)||this).handleInputChange=function(e){var t=null;t="decimal"==a.props.type?Number(e.target.value.replace(/[^0-9.-]+/g,"")):"percent"==a.props.type?a.validate_min_max(e.target.value.replace(/[^0-9.-]+/g,""),0,100):"range_three"==a.props.type?a.validate_min_max(e.target.value.replace(/[^0-9.-]+/g,""),1,3):"range_hundred"==a.props.type?a.validate_min_max(e.target.value.replace(/[^0-9.-]+/g,""),1,100):"range_depend"==a.props.type?a.validate_min_max(e.target.value.replace(/[^0-9.-]+/g,""),0,100):e.target.value.replace(/[^0-9.-]+/g,"");var n=a.props.minValue?Number(a.props.minValue):null,s=a.props.maxValue?Number(a.props.maxValue):null;s&&n?t=a.validate_min_max(t,n,s):!s&&n?t=a.validate_min_max(t,n,999999999999):s&&!n&&(t=a.validate_min_max(t,0,s)),t=t||0,a.state.props_name&&a.props.setInput(a.state.props_name,t);var r=e.target.rawValue||null;isNaN(parseFloat(r))||isNaN(parseFloat(t))||parseFloat(r)===parseFloat(t)||a.state.event.setRawValue(t)},a.onChange=function(e){a.setState({value:e}),a.state.props_name&&a.props.setInput(a.state.props_name,e)},a.onRefresh=function(){var e="";try{var t=p.findArrayName(a.state.props_name,a.props.input);e=a.props.value?a.props.value:t}catch(e){}var n=a.props.minValue?Number(a.props.minValue):null,s=a.props.maxValue?Number(a.props.maxValue):null,r=e?parseInt(e):n;("decimal"==a.props.type||"percent"==a.props.type||"range_three"==a.props.type||s||n)&&(r=e?parseFloat(e):n),isNaN(r)&&(r=n),a.setState({value:r});try{parseFloat(a.state.event.lastInputValue||null)!==parseFloat(r)&&a.state.event.setRawValue(r)}catch(e){}},a.checkType=function(){var e={numeral:!0,numeralPositiveOnly:!0};"decimal"==a.props.type||"percent"==a.props.type||"range_three"==a.props.type||(e.numeralThousandsGroupStyle="thousand"),a.setState({options:e,rawValue:p.findArrayName(a.state.props_name,a.props.input),value:p.findArrayName(a.state.props_name,a.props.input)}),a.onRefresh()},a.state={defaultValue:null,options:{numeral:!0},event:null,value:null,props_name:p.slug(a.props.name,"_")},a.onRefresh=s.debounce(a.onRefresh.bind(H(a)),200),a}V(t,e);var r=t.prototype;return r.validate_min_max=function(e,t,a){return void 0===t&&(t=0),void 0===a&&(a=100),this.props.enableNegative&&e<0&&(t=-a),isNaN(e)&&(e=t),(e=parseFloat(e))>=a?e=a:e<=t&&(e=t),e?Number(e):null},r.componentDidUpdate=function(e,t,a){if(s.isEqual(this.props.type,e.type)||this.checkType(),s.isEqual(p.findArrayName(this.state.props_name,e.input),p.findArrayName(this.state.props_name,this.props.input))||s.isEqual(this.state.value,p.findArrayName(this.state.props_name,this.props.input))||(this.setState({rawValue:p.findArrayName(this.state.props_name,this.props.input)||null,value:p.findArrayName(this.state.props_name,this.props.input)||null}),this.onRefresh()),this.props.value&&e.value!=this.props.value&&this.props.value!=this.state.value){var n=this.props.value||null;this.setState({rawValue:n,value:n}),this.onRefresh()}},r.componentDidMount=function(){this.checkType()},r.onInit=function(e){this.setState({event:e})},r.render=function(){return this.props.disabled||this.props.isReadonly?s.isNull(this.state.value)||s.isUndefined(this.state.value)?null:p.numberFormat(this.state.value,""):"range"==this.props.type?a.createElement(D,{maxValue:this.props.maxValue,minValue:this.props.minValue,value:this.state.value,onChange:this.onChange}):a.createElement(n,{placeholder:this.props.placeholder?this.props.placeholder:"",id:this.state.props_name,name:this.state.props_name,onInit:this.onInit.bind(this),value:this.state.value,onChange:this.handleInputChange,options:this.state.options,className:"form-control"})},t}(a.Component),$=r.connect(function(e){return{input:e.core.input||{}}},function(e){return{setInput:function(t,a){e({type:"SET_INPUT",payload:{key:p.slug(String(t),"_"),value:a}})}}})(Z),ee=A(S)(G||(G=F(["\n  overflow: hidden;\n\n  ._loading_overlay_overlay {\n    background: rgba(255, 255, 255, 0.5);\n  }\n  &._loading_overlay_wrapper--active {\n    overflow: hidden;\n  }\n"])));function te(e){return a.createElement(ee,{fadeSpeed:250,active:e.isLoading,spinner:a.createElement(z,null)},e.children)}var ae=function(e){return null},ne=function(e){var n=e.column.filterValue,s=e.column.id,i=e.name,o=r.useDispatch(),l=a.useState(n),u=l[0],c=l[1],m=p.slug("search_"+i+"_"+s,"_"),h=r.useSelector(function(e){return e.core.filter});return t.useEffect(function(){c(h[m])},[]),a.createElement(d.Form.Control,{key:m,id:m,name:m,value:u,style:{zIndex:0},onChange:function(e){var t;e.preventDefault(),c(e.target.value),o({type:"SET_MULTI_FILTER",payload:(t={},t[m]=e.target.value,t[p.slug("loaded_"+i,"_")]=!1,t)})},placeholder:"Pencarian"})};function se(e){for(var n=e.columns,i=e.data,o=e.renderRowSubComponent,l=e.customPageIndex,u=e.customPageSize,c=e.customPageCount,m=e.loading,h=e.isColumnsSearchable,f=e.primaryKey,y=e.name,g=e.customPageTotal,_=r.useSelector(function(e){return e.core.filter})||{},b=[],Y=0;Y<n.length;Y++)try{var D=p.slug("sort_"+y+"_"+n[Y][f],"_"),S=_[D];s.isEmpty(S)||s.isNull(S)||s.isUndefined(S)||b.push({id:n[Y][f],desc:"desc"==S})}catch(e){}var A=k.useTable({columns:n,data:i,defaultColumn:{Filter:function(e){return a.createElement(ne,P({},e,{name:y}))}},initialState:{pageIndex:l,pageSize:u,sortBy:b},manualPagination:!0,pageCount:c,manualSortBy:!0,defaultCanSort:!0,isMultiSortEvent:function(){}},k.useFilters,k.useSortBy,k.useExpanded,k.usePagination),C=A.getTableProps,I=A.getTableBodyProps,R=A.headerGroups,M=A.page,T=A.prepareRow,w=A.visibleColumns,x=A.gotoPage,V=A.setPageSize,H=A.state,F=H.pageIndex,U=H.pageSize,L=R[0].headers||[];p.useDebounce(function(){for(var e,t={},a=0;a<L.length;a++){var n=L[a];if(n){var r=p.slug("sort_"+y+"_"+n[f],"_"),i=n.isSorted?n.isSortedDesc?"desc":"asc":null;i!=_[r]&&(t[r]=i)}}s.isEmpty(t)||W({type:"SET_MULTI_FILTER",payload:P({},t,(e={},e[p.slug("loaded_"+y,"_")]=!1,e))})},500,[L]);var O=t.useState(m),z=O[0],q=O[1],B=t.useState(F),j=B[0],G=B[1],W=r.useDispatch(),K=function(e){var t;V(Number(e.target.value)),W({type:"SET_MULTI_FILTER",payload:(t={},t[p.slug("load_"+y,"_")]=Number(e.target.value),t[p.slug("page_"+y,"_")]=j,t)})},X=function(e){var t=e.target.value?Number(e.target.value):0;ee(t)},J=l<c,Q=l>=2,Z=function(){j<c&&ee(j+1)},$=function(){j>=2&&ee(j-1)},ee=function(e){G(e)};return p.useDebounce(function(){var e;x(j),W({type:"SET_MULTI_FILTER",payload:(e={},e[p.slug("load_"+y,"_")]=U,e[p.slug("page_"+y,"_")]=j,e)})},500,[j]),t.useEffect(function(){q&&!m?setTimeout(function(){return q(m)},500):q(m)},[m]),s.isEmpty(y)?a.createElement("p",null,"Props name is Required"):a.createElement("div",null,a.createElement("div",{className:"custom-scroll",style:{overflow:"auto"}},a.createElement(d.InputGroup,null,a.createElement(d.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return ee(1)},disabled:!Q||m},a.createElement(E.FontAwesomeIcon,{icon:v.faAngleDoubleLeft})),a.createElement(d.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:$,disabled:!Q||m},a.createElement(E.FontAwesomeIcon,{icon:v.faAngleLeft})),a.createElement(d.InputGroup.Text,{style:{background:"none"}},a.createElement(E.FontAwesomeIcon,{icon:N.faFile}),"   Hal :"," "),a.createElement(d.Form.Control,{style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},type:"number",min:1,max:c,value:j,onChange:X}),a.createElement(d.InputGroup.Text,{style:{background:"none"}},a.createElement(E.FontAwesomeIcon,{icon:v.faBars}),"   Lihat :"," "),a.createElement(d.Form.Control,{type:"number",min:1,style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},max:50,value:U,onChange:K}),a.createElement(d.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:Z,disabled:!J||m},a.createElement(E.FontAwesomeIcon,{icon:v.faAngleRight})),a.createElement(d.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return ee(c)},disabled:!J||m},a.createElement(E.FontAwesomeIcon,{icon:v.faAngleDoubleRight})))),a.createElement("div",{className:"text-center mt-2 mb-2"},a.createElement("strong",null,p.numberFormat(l,""))," dari"," ",a.createElement("strong",null,p.numberFormat(c,""))," hal. Total"," : ",a.createElement("strong",null,p.numberFormat(g,""))," baris"),a.createElement(d.Table,P({style:{margin:0,zIndex:0},responsive:!0,bordered:!0,hover:!0,striped:!0,vcenter:!0},C()),a.createElement("thead",null,R.map(function(e){return a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(function(e){return a.createElement("th",P({style:{padding:"4px 8px",borderTop:"1px solid #dee2e6"}},e.getHeaderProps()),a.createElement("div",e.getSortByToggleProps(),a.createElement("span",{style:{display:"inline-block"}},e.render("Header")),a.createElement("span",{style:{display:"inline-block",fontWeight:"bold"}},function(e){return e.isSorted?e.isSortedDesc?" ↓":" ↑":""}(e))),h&&a.createElement(ae,{column:e}))}))})),a.createElement("tbody",I(),M.length>0&&!z&&parseInt(l)===parseInt(j)?M.map(function(e){return T(e),a.createElement(a.Fragment,{key:e.getRowProps().key},a.createElement("tr",null,e.cells.map(function(e,t){return a.createElement("td",P({style:{padding:"4px 8px",width:0==t?"10px":"auto"}},e.getCellProps()),e.render("Cell"))})),e.isExpanded&&a.createElement("tr",null,a.createElement("td",{style:{padding:"4px 8px"},colSpan:w.length},o(e))))}):R.map(function(e){return a.createElement("tr",null,a.createElement("td",{style:{padding:"12px 0",textAlign:"center"},colSpan:e.headers.length},z||parseInt(l)!==parseInt(j)?"Memproses":"Tidak ada data"))}))),a.createElement("div",{className:"text-center mt-2 mb-2"},a.createElement("strong",null,p.numberFormat(l,""))," dari"," ",a.createElement("strong",null,p.numberFormat(c,""))," hal. Total"," : ",a.createElement("strong",null,p.numberFormat(g,""))," baris"),a.createElement("div",{className:"custom-scroll",style:{overflow:"auto"}},a.createElement(d.InputGroup,null,a.createElement(d.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return ee(1)},disabled:!Q||m},a.createElement(E.FontAwesomeIcon,{icon:v.faAngleDoubleLeft})),a.createElement(d.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:$,disabled:!Q||m},a.createElement(E.FontAwesomeIcon,{icon:v.faAngleLeft})),a.createElement(d.InputGroup.Text,{style:{background:"none"}},a.createElement(E.FontAwesomeIcon,{icon:N.faFile}),"   Hal :"," "),a.createElement(d.Form.Control,{style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},type:"number",min:1,max:c,value:j,onChange:X}),a.createElement(d.InputGroup.Text,{style:{background:"none"}},a.createElement(E.FontAwesomeIcon,{icon:v.faBars}),"   Lihat :"," "),a.createElement(d.Form.Control,{type:"number",min:1,style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},max:50,value:U,onChange:K}),a.createElement(d.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:Z,disabled:!J||m},a.createElement(E.FontAwesomeIcon,{icon:v.faAngleRight})),a.createElement(d.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return ee(c)},disabled:!J||m},a.createElement(E.FontAwesomeIcon,{icon:v.faAngleDoubleRight})))))}function re(e){var n,i=t.useState(!1),o=i[0],l=i[1],u=t.useState(""),c=u[0],m=u[1],h=t.useState([]),f=h[0],y=h[1],g=t.useState([]),_=g[0],b=g[1],Y=t.useState({}),D=Y[0],S=Y[1],A=t.useState(!1),k=A[0],I=A[1],R=t.useState(!1),M=R[0],T=R[1],w=r.useDispatch(),x=(r.useSelector(function(e){return e.core.parameter}),r.useSelector(function(e){return e.core.input})||{}),P=(r.useSelector(function(e){return e.auth.user}),r.useSelector(function(e){return e.core.filter})||{}),V=p.slug("selected_"+e.name,"_"),H=e.primaryKey?e.primaryKey:"id",F={Header:"#",id:"select",width:"10px",Cell:function(t){var n=r.useSelector(function(e){return e.core.input}),i=!1;try{i="single"==e.selectable?p.findArrayName(V,n)==t.row.original[H]:s.findIndex(p.findArrayName(V,n),function(e){return e==t.row.original[H]})>-1}catch(e){}return a.createElement(d.Form.Check,{inline:!0,id:p.slug(e.name+"_check_"+t.row.original[H],"_"),name:p.slug(e.name+"_check_"+t.row.original[H],"_"),type:"single"==e.selectable?"radio":"checkbox",value:1,checked:i,disabled:e.isReadonly,onChange:function(){return function(t,a,n){void 0===n&&(n=!1);var r=t.row.original||{};if("single"==e.selectable)w({type:"SET_PARAMETER",payload:{key:V,value:r}}),w({type:"SET_INPUT",payload:{key:V,value:r[H]}});else{var i=[];n?i=s.filter(p.findArrayName(V,a),function(e){return e&&r&&parseInt(e)!=parseInt(r[H])})||[]:(i=p.findArrayName(V,a)||[],s.isArray(i)||(i=[]),i.push(r[H])),i=s.uniq(i),w({type:"SET_INPUT",payload:{key:V,value:i}})}}(t,n,i)}})}},U=t.useRef(),L=C.useIsVisible(U),O=s.isEmpty(e.selectable)?[].concat(e.columns):[F].concat(e.columns);if(e.action){var z={Header:"Aksi",id:"aksi_"+e.name,sortable:!1,Cell:function(t){var n=r.useSelector(function(e){return e.core.parameter}),i=t.row.original[H];return a.createElement(d.DropdownButton,{key:"dropdown_"+e.name+"_"+i,size:"sm",id:"dropdown_"+e.name+"_"+i,isOpen:s.isEqual(n.dropdown,i),toggle:function(){return function(e){var t=s.isEqual(n.dropdown,e)?null:e;w({type:"SET_PARAMETER",payload:{key:"dropdown",value:t}})}(i)},drop:"end",variant:"primary",title:""},s.filter(e.action,function(e){return s.isUndefined(e.show)||e.show}).map(function(n,r){var o=!!s.isBoolean(n.disabled)&&n.disabled;return a.createElement(d.Dropdown.Item,{key:"dropdownitem_"+e.name+"_"+i+"_"+r,onClick:function(){return n.onClick(t.row.original)},disabled:o},n.label)}))}};O=s.isEmpty(e.selectable)?[z].concat(e.columns):[z,F].concat(e.columns)}function q(){o&&(m(window.location.href),e.onReload(),p.findArrayName(p.slug("loaded_"+e.name,"_"),P)||w({type:"SET_FILTER",payload:{key:p.slug("loaded_"+e.name,"_"),value:!0}}))}t.useEffect(function(){L!=o&&l(L)}),t.useEffect(function(){w({type:"SET_FILTER",payload:{key:p.slug("loaded_"+e.name,"_"),value:!1}})},[]),p.useDebounce(function(){!o||s.isEqual(window.location.href,c)&&!s.isEmpty(c)||q()},500,[o,window.location.href]),p.useDebounce(q,500,[p.findArrayName(p.slug("keyword_"+e.name,"_"),P),p.findArrayName(p.slug("page_"+e.name,"_"),P),p.findArrayName(p.slug("load_"+e.name,"_"),P),p.findArrayName(p.slug("loaded_"+e.name,"_"),P)]),p.useDebounce(function(){b(function(e){return s.uniqBy([].concat(e,f),H)}),p.findArrayName(V,x)&&function(){var t=null,a=null;if("single"==e.selectable)t=t=s.find(_,function(e){return e&&parseInt(e[H])==a})||{},a=p.findArrayName(V,x)||null;else{t=[],a=p.findArrayName(V,x)||[];for(var n=function(e){var n=s.find(_,function(t){return t&&parseInt(t[H])==a[e]})||{};s.isEmpty(n)||t.push(n)},r=0;r<a.length;r++)n(r)}w({type:"SET_PARAMETER",payload:{key:V,value:t}})}()},500,[p.findArrayName(V,x),P]),p.useDebounce(function(){try{y(e.data.data||[])}catch(e){}b(function(e){return s.uniqBy([].concat(e,f),H)});try{S(e.data.meta||{})}catch(e){}},500,[e.data]);var B=a.useMemo(function(){return O},[]);return a.createElement(te,{isLoading:e.isLoading},a.createElement("div",{style:{padding:"8px 12px"},ref:U},a.createElement("div",{style:{marginBottom:"12px"}},a.createElement(d.Row,null,a.createElement(d.Col,{xs:"12",sm:"12",md:"8",lg:"8"},a.createElement("div",null,e.renderFilter?e.renderFilter:null))),a.createElement(d.Row,{style:{justifyContent:"flex-end"}},a.createElement(d.Col,{xs:"12",sm:"12",md:"4",lg:"4"},a.createElement("div",null,e.isSearchable&&a.createElement("div",null,a.createElement(d.InputGroup,null,a.createElement(d.InputGroup.Text,{style:{background:"none"}},a.createElement(E.FontAwesomeIcon,{icon:v.faSearch})),a.createElement(d.Form.Control,((n={id:p.slug("keyword_"+e.name,"_"),key:p.slug("keyword_"+e.name,"_"),style:{borderLeft:"none"},className:"form-control",value:p.findArrayName(p.slug("keyword_"+e.name,"_"),P),onChange:function(t){var a;w({type:"SET_MULTI_FILTER",payload:(a={},a[p.slug("keyword_"+e.name,"_")]=t.target.value,a[p.slug("page_"+e.name,"_")]=1,a.loaded=!1,a)})},type:"text"}).id=p.slug("keyword_"+V),n.name=p.slug("keyword_"+e.name,"_"),n.placeholder="Pencarian",n)),a.createElement(d.Button,{style:{zIndex:0},variant:"primary",onClick:q,type:"button",disabled:e.isLoading},a.createElement(E.FontAwesomeIcon,{icon:v.faSync,spin:e.isLoading})),(e.export||e.import)&&a.createElement(a.Fragment,null,e.export&&a.createElement(d.Button,{id:"exportFile",style:{zIndex:0},variant:"primary",className:"mr-1",onClick:e.exportReload,type:"button",disabled:e.disabledButton},a.createElement(E.FontAwesomeIcon,{icon:N.faArrowAltCircleDown}),a.createElement(d.Tooltip,{placement:"top",isOpen:k,autohide:!1,target:"exportFile",toggle:function(){return I(!k)}},"Export")),e.import&&a.createElement(d.Button,{id:"importFile",style:{zIndex:0},variant:"primary",className:"mr-1",onClick:e.importReload,type:"button",disabled:e.disabledButton},a.createElement(E.FontAwesomeIcon,{icon:N.faArrowAltCircleUp}),a.createElement(d.Tooltip,{placement:"top",isOpen:M,autohide:!1,target:"importFile",toggle:function(){return T(!M)}},"Import"))))))))),a.createElement(se,{name:p.slug(e.name,"_"),columns:B,data:f,primaryKey:H,isColumnsSearchable:e.isColumnsSearchable,fetchData:q,loading:e.isLoading,customPageTotal:D&&!s.isEmpty(D)?D.total:0,customPageCount:D&&!s.isEmpty(D)?D.last_page:1,customPageSize:D&&!s.isEmpty(D)?D.per_page:p.findArrayName(p.slug("load_"+e.name,"_"),P)?p.findArrayName(p.slug("load_"+e.name,"_"),P):10,customPageIndex:D&&!s.isEmpty(D)?D.current_page:p.findArrayName(p.slug("page_"+e.name,"_"),P)?p.findArrayName(p.slug("page_"+e.name,"_"),P):1})))}var ie="YYYY-MM-DD HH:mm:ss",oe=function(e){return a.createElement(d.InputGroup,{size:"sm"},a.createElement(d.InputGroup.Text,{style:{background:"none"}},a.createElement(E.FontAwesomeIcon,{size:"sm",icon:N.faCalendar})),a.createElement(d.Form.Control,{style:{borderLeft:"none",borderRight:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:e.disabled,name:e.name,value:e.value||"",onClick:e.onClick}),a.createElement(d.InputGroup.Text,{style:{background:"none"}},a.createElement(E.FontAwesomeIcon,{size:"sm",icon:N.faClock})))},le=function(e){function t(t){var a;return(a=e.call(this,t)||this).handleInputChange=function(e){e=g(e,ie).isValid()?g(e,ie).format(ie):null,a.props.setInput(a.props.name,e),a.onRefresh()},a.handleInputChangeStart=function(e){e=g(e,ie).isValid()?g(e,ie).format(ie):null,a.props.setInput("start_"+a.props.name,e),a.onRefresh()},a.handleInputChangeEnd=function(e){e=g(e,ie).isValid()?g(e,ie).format(ie):null,a.props.setInput("end_"+a.props.name,e),a.onRefresh()},a.checkTglMerah=function(e){var t=g(e).format("d");return 5==t||6==t?"tglmerah":void 0},a.state={selected:null,start_selected:null,end_selected:null},a.onRefresh=_.debounce(a.onRefresh.bind(H(a)),200),a}V(t,e);var n=t.prototype;return n.onRefresh=function(){if(this.props.isRange){var e=null,t=null;try{e=g(this.props.start_selected,ie).isValid()?g(this.props.start_selected,ie).toDate():g(p.findArrayName("start_"+this.props.name,this.props.input),ie).isValid()?g(p.findArrayName("start_"+this.props.name,this.props.input),ie).toDate():null}catch(e){}try{t=g(this.props.end_selected,ie).isValid()?g(this.props.end_selected,ie).toDate():g(p.findArrayName("end_"+this.props.name,this.props.input),ie).isValid()?g(p.findArrayName("end_"+this.props.name,this.props.input),ie).toDate():null}catch(e){}this.setState({start_selected:e,end_selected:t})}else{var a=null;try{a=g(this.props.selected,ie).isValid()?g(this.props.selected,ie).toDate():g(p.findArrayName(this.props.name,this.props.input),ie).isValid()?g(p.findArrayName(this.props.name,this.props.input),ie).toDate():null}catch(e){}this.setState({selected:a})}},n.componentDidMount=function(){this.onRefresh()},n.componentDidUpdate=function(e,t){this.props.isRange||p.findArrayName(this.props.name,e.input)==p.findArrayName(this.props.name,this.props.input)||p.findArrayName(this.props.name,this.props.input)==this.state.selected||this.onRefresh(),this.props.isRange&&p.findArrayName("start_"+this.props.name,e.input)!=p.findArrayName("start_"+this.props.name,this.props.input)&&p.findArrayName("start_"+this.props.name,this.props.input)!=this.state.start_selected&&this.onRefresh(),this.props.isRange&&p.findArrayName("end_"+this.props.name,e.input)!=p.findArrayName("end_"+this.props.name,this.props.input)&&p.findArrayName("end_"+this.props.name,this.props.input)!=this.state.end_selected&&this.onRefresh()},n.render=function(){return this.props.isRange?this.props.disabled||this.props.isReadonly?a.createElement("div",{className:"input-daterange input-group"},g(this.state.start_selected,ie).isValid()?g(this.state.start_selected,ie).format("DD-MM-YYYY HH:mm:ss"):null,a.createElement("span",{style:{background:"none"}},"  s/d  "),g(this.state.end_selected,ie).isValid()?g(this.state.end_selected,ie).format("DD-MM-YYYY HH:mm:ss"):null):a.createElement("div",{className:"input-daterange input-group",style:{background:"none"}},a.createElement(Y,{minDate:g(this.props.minDate,ie).isValid()?g(this.props.minDate,ie).toDate():null,maxDate:g(this.props.maxDate,ie).isValid()?g(this.props.maxDate,ie).toDate():null,dateFormat:this.props.dateFormat?this.props.dateFormat:"yyyy-MM-dd HH:mm:ss",placeholder:this.props.placeholder?this.props.placeholder:"Tanggal & Waktu",selected:this.state.start_selected,isClearable:!0,customInput:a.createElement(oe,{value:this.state.start_selected,name:"start_"+this.props.name}),onChange:this.handleInputChangeStart,timeInputLabel:"Waktu : ",showTimeInput:!0,selectsStart:!0,peekNextMonth:!0,withPortal:!0,showMonthDropdown:!0,showYearDropdown:!0,name:"start_"+this.props.name,todayButton:"Hari ini",dayClassName:this.checkTglMerah,dropdownMode:"select",startDate:this.state.start_selected,endDate:this.state.end_selected,shouldCloseOnSelect:!1}),a.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),a.createElement(Y,{minDate:g(this.state.start_selected,ie).isValid()?g(this.state.start_selected,ie).toDate():g(this.props.minDate,ie).isValid()?g(this.props.minDate,ie).toDate():null,maxDate:g(this.props.maxDate,ie).isValid()?g(this.props.maxDate,ie).toDate():null,dateFormat:this.props.dateFormat?this.props.dateFormat:"yyyy-MM-dd HH:mm:ss",placeholder:this.props.placeholder?this.props.placeholder:"Tanggal & Waktu",selected:this.state.end_selected,isClearable:!0,name:"end_"+this.props.name,selectsEnd:!0,timeInputLabel:"Waktu : ",showTimeInput:!0,customInput:a.createElement(oe,{value:this.state.end_selected,name:"end_"+this.props.name}),onChange:this.handleInputChangeEnd,peekNextMonth:!0,withPortal:!0,showMonthDropdown:!0,showYearDropdown:!0,dayClassName:this.checkTglMerah,todayButton:"Hari ini",dropdownMode:"select",startDate:this.state.start_selected,endDate:this.state.end_selected,shouldCloseOnSelect:!1})):this.props.disabled||this.props.isReadonly?a.createElement("div",{className:"input-daterange input-group"},g(this.state.selected,ie).isValid()?g(this.state.selected,ie).format("DD-MM-YYYY HH:mm:ss"):null):a.createElement(Y,{minDate:g(this.props.minDate,ie).isValid()?g(this.props.minDate,ie).toDate():null,maxDate:g(this.props.maxDate,ie).isValid()?g(this.props.maxDate,ie).toDate():null,dateFormat:this.props.dateFormat?this.props.dateFormat:"yyyy-MM-dd HH:mm:ss",placeholder:this.props.placeholder?this.props.placeholder:"Tanggal & Waktu",selected:this.state.selected,isClearable:!0,id:this.props.name,className:"form-control",customInput:a.createElement(oe,{value:this.state.selected,name:this.props.name}),dayClassName:this.checkTglMerah,onChange:this.handleInputChange,peekNextMonth:!0,timeInputLabel:"Waktu : ",showTimeInput:!0,withPortal:!0,showMonthDropdown:!0,showYearDropdown:!0,todayButton:"Hari ini",dropdownMode:"select",shouldCloseOnSelect:!1})},t}(a.Component),pe=r.connect(function(e){return{input:e.core.input||{}}},function(e){return{setInput:function(t,a){return e({type:"SET_INPUT",payload:{key:p.slug(String(t),"_"),value:a}})}}})(le);function ue(){return a.createElement(E.FontAwesomeIcon,{style:{position:"absolute",left:6,top:6},icon:N.faClock,size:"sm"})}g();var de,ce=function(e){function t(t){var a;return(a=e.call(this,t)||this).handleInputChange=function(e){e=g(e,"HH:mm:ss").isValid()?g(e,"HH:mm:ss").format("HH:mm:ss"):null,a.props.setInput(a.props.name,e),a.onRefresh()},a.handleInputChangeStart=function(e){e=g(e,"HH:mm:ss").isValid()?g(e,"HH:mm:ss").format("HH:mm:ss"):null,a.props.setInput("start_"+a.props.name,e),a.onRefresh()},a.handleInputChangeEnd=function(e){e=g(e,"HH:mm:ss").isValid()?g(e,"HH:mm:ss").format("HH:mm:ss"):null,a.props.setInput("end_"+a.props.name,e),a.onRefresh()},a.state={selected:null,start_selected:null,end_selected:null},a.onRefresh=s.debounce(a.onRefresh.bind(H(a)),200),a}V(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.isRange||p.findArrayName(this.props.name,e.input)==p.findArrayName(this.props.name,this.props.input)||p.findArrayName(this.props.name,this.props.input)==this.state.selected||this.onRefresh(),this.props.isRange&&p.findArrayName("start_"+this.props.name,e.input)!=p.findArrayName("start_"+this.props.name,this.props.input)&&p.findArrayName("start_"+this.props.name,this.props.input)!=this.state.start_selected&&this.onRefresh(),this.props.isRange&&p.findArrayName("end_"+this.props.name,e.input)!=p.findArrayName("end_"+this.props.name,this.props.input)&&p.findArrayName("end_"+this.props.name,this.props.input)!=this.state.end_selected&&this.onRefresh()},n.onRefresh=function(){if(this.props.isRange){var e=g(),t=g();try{e=g(this.props.start_selected,"HH:mm:ss").isValid()?g(this.props.start_selected,"HH:mm:ss"):g(p.findArrayName("start_"+this.props.name,this.props.input),"HH:mm:ss").isValid()?g(p.findArrayName("start_"+this.props.name,this.props.input),"HH:mm:ss"):null}catch(e){}try{t=g(this.props.end_selected,"HH:mm:ss").isValid()?g(this.props.end_selected,"HH:mm:ss"):g(p.findArrayName("end_"+this.props.name,this.props.input),"HH:mm:ss").isValid()?g(p.findArrayName("end_"+this.props.name,this.props.input),"HH:mm:ss"):null}catch(e){}this.setState({start_selected:e,end_selected:t})}else{var a=g();try{a=g(this.props.selected,"HH:mm:ss").isValid()?g(this.props.selected,"HH:mm:ss"):g(p.findArrayName(this.props.name,this.props.input),"HH:mm:ss").isValid()?g(p.findArrayName(this.props.name,this.props.input),"HH:mm:ss"):null}catch(e){}this.setState({selected:a})}},n.componentDidMount=function(){this.onRefresh()},n.render=function(){return this.props.isRange?this.props.disabled||this.props.isReadonly?a.createElement("div",{className:"input-daterange input-group"},g(this.state.start_selected,"HH:mm:ss").isValid()?g(this.state.start_selected,"HH:mm:ss").format("HH:mm:ss"):"",a.createElement("span",{style:{background:"none"}},"  s/d  "),g(this.state.end_selected,"HH:mm:ss").isValid()?g(this.state.end_selected,"HH:mm:ss").format("HH:mm:ss"):""):a.createElement("div",{className:"input-daterange input-group"},a.createElement(I,{value:this.state.start_selected,disabled:this.props.disabled||this.props.isReadonly,inputIcon:a.createElement(ue,null),format:"HH:mm:ss",onChange:this.handleInputChangeStart}),a.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),a.createElement(I,{value:this.state.end_selected,disabled:this.props.disabled||this.props.isReadonly,inputIcon:a.createElement(ue,null),format:"HH:mm:ss",onChange:this.handleInputChangeEnd})):this.props.disabled||this.props.isReadonly?a.createElement("div",{className:"input-daterange input-group"},g(this.state.selected,"HH:mm:ss").isValid()?g(this.state.selected,"HH:mm:ss").format("HH:mm:ss"):""):a.createElement(I,{value:this.state.selected,disabled:this.props.disabled||this.props.isReadonly,inputIcon:a.createElement(ue,null),format:"HH:mm:ss",onChange:this.handleInputChange})},t}(a.Component),me=r.connect(function(e){return{input:e.core.input||{}}},function(e){return{setInput:function(t,a){return e({type:"SET_INPUT",payload:{key:p.slug(String(t),"_"),value:a}})}}})(ce),he=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={tags:[],suggestions:[],separator:"|"},n.reactTags=a.createRef(),n}V(t,e);var n=t.prototype;return n.onDelete=function(e){var t=this.state.tags.slice(0);t.splice(e,1),this.setState({tags:t}),this.props.name&&this.props.setInput(this.props.name,_.map(t,"name").join(this.state.separator))},n.onAddition=function(e){var t=[].concat(this.state.tags,e);this.setState({tags:_.uniqBy(t,"name")}),this.props.name&&this.props.setInput(this.props.name,_.map(t,"name").join(this.state.separator))},n.onFocus=function(e){},n.onValidate=function(e){return _.findIndex(this.state.tags,["name",e.name])<0},n.componentDidMount=function(){for(var e=[],t=[],a=0;a<this.props.options.length;a++){var n=this.props.options[a];_.isEmpty(n[this.props.optionValue])||e.push({name:n[this.props.optionValue]})}var s="";try{s=this.props.value?this.props.value:this.props.input[this.props.name]?this.props.input[this.props.name]:""}catch(e){}for(var r=s?String(s).split(this.state.separator):[],i=0;i<r.length;i++){var o=r[i];_.isEmpty(o)||t.push({name:o})}this.setState({suggestions:e,tags:t})},n.render=function(){return a.createElement(R,{minQueryLength:1,noSuggestionsText:"Tidak ada usulan",ref:this.reactTags,tags:this.state.tags,id:this.props.name,removeButtonText:"Klik untuk menghapus",delimiters:["Enter","Tab"],placeholderText:this.props.placeholder?this.props.placeholder:"Dipisah dengan spasi / enter",allowNew:this.props.isCreateable,suggestions:this.state.suggestions,onDelete:this.onDelete.bind(this),onValidate:this.onValidate.bind(this),onFocus:this.onFocus.bind(this),onAddition:this.onAddition.bind(this)})},t}(a.Component),fe=r.connect(function(e){return{input:e.core.input||{}}},function(e){return{setInput:function(t,a){return e({type:"SET_INPUT",payload:{key:p.slug(String(t),"_"),value:a}})}}})(he),ye=function(e){function t(t){var a;return(a=e.call(this,t)||this).labelGenerate=function(e){if(!s.isEmpty(e)){if(s.isArray(a.props.optionLabel)){for(var t=[],n=a.props.separator?a.props.separator:" | ",r=0;r<=a.props.optionLabel.length-1;r++)t.push(e[a.props.optionLabel[r]]);return t.join(n)}return e[a.props.optionLabel]}return null},a.onChange=function(e){if(a.props.name)try{a.props.setInput(a.props.name,a.props.isMultiple?s.map(e,a.props.optionValue):e[a.props.optionValue])}catch(e){a.props.setInput(a.props.name,null)}a.onRefresh()},a.openModal=function(){a.setState({show:!a.state.show})},a.state={defaultValue:null,options:[],show:!1},a.onRefresh=s.debounce(a.onRefresh.bind(H(a)),200),a}V(t,e);var n=t.prototype;return n.onRefresh=function(){var e=null,t=null;if(this.props.value)e=this.props.value;else if(e=p.findArrayName(this.props.name,this.props.input)||[],this.props.isMultiple){t=[];for(var a=0;a<this.props.options.length;a++)for(var n=0;n<e.length;n++){var r=this.props.options[a],i=e[n];String(r[this.props.optionValue])==String(i)&&t.push(r)}}else t=s.find(this.props.options,function(t){return String(t[this.props.optionValue])==e}.bind(this));t=s.isUndefined(t)||s.isNull(t)?null:t,this.setState({defaultValue:t})},n.componentDidUpdate=function(e,t){s.isEqual(p.findArrayName(this.props.name,e.input),p.findArrayName(this.props.name,this.props.input))||s.isEqual(this.state.defaultValue,p.findArrayName(this.props.name,this.props.input))||this.onRefresh()},n.componentDidMount=function(){this.onRefresh()},n.render=function(){var e=this,t=[];try{for(var n=0;n<this.props.options.length;n++){var r=this.props.options[n];this.props.isHtml&&(r[this.props.name]=u(String(r[this.props.name]))),t.push(r)}}catch(e){}return this.props.disabled||this.props.isReadonly?this.labelGenerate(this.state.defaultValue):this.props.withModal?a.createElement(a.Fragment,null,a.createElement(Row,null,!this.props.isReadonly&&a.createElement(Col,{lg:"1",md:"1",sm:"3",xs:"1"},a.createElement(Button,{type:"button",className:"btn btn-icon btn-primary btn-sm",onClick:this.openModal},a.createElement(E.FontAwesomeIcon,{size:"sm",icon:v.faSearch})," Pilih")),a.createElement(Col,{lg:"11",md:"11",sm:"9",xs:"11"},!this.state.defaultValue||s.isUndefined(this.state.defaultValue)||s.isEmpty(this.state.defaultValue)?"":this.labelGenerate(this.state.defaultValue))),a.createElement(Modal,{size:"lg",show:this.state.show,onHide:this.openModal},a.createElement(ModalHeader,{closeButton:!0,toggle:this.openModal},a.createElement(Modal.Title,null,this.props.placeholder||"Pilih")),a.createElement(ModalBody,null,a.createElement(M,{isClearable:!0,id:this.props.id?this.props.id:this.props.name,isSearchable:!0,isHtml:this.props.isHtml,isMulti:this.props.isMultiple,placeholder:this.props.placeholder?this.props.placeholder:"Pilih",getOptionLabel:this.labelGenerate,getOptionValue:function(t){return t[e.props.optionValue]},noOptionsMessage:function(){return"Data tidak ditemukan"},value:this.state.defaultValue,onChange:this.onChange,options:t,isDisabled:this.props.disabled})))):a.createElement(M,{menuPortalTarget:document.body,menuPosition:"fixed",styles:{menuPortal:function(e){return P({},e,{fontFamily:"inherit",fontSize:"inherit",zIndex:9999})},menu:function(e){return P({},e,{fontFamily:"inherit",fontSize:"inherit",zIndex:"9999 !important"})},multiValueRemove:function(e){return P({},e,{color:"#db2828",cursor:"pointer"})},placeholder:function(e){return P({},e,{fontFamily:"inherit",fontSize:"inherit"})},multiValue:function(e){return P({},e,{background:"none"})},multiValueLabel:function(e){return P({},e,{fontFamily:"inherit",fontSize:"inherit"})},option:function(e){return P({},e,{fontFamily:"inherit",fontSize:"inherit"})},clearIndicator:function(e,t){return P({},e,{cursor:"pointer",color:"#db2828"})}},className:"tcomponent-select",isClearable:!0,id:this.props.id?this.props.id:this.props.name,isSearchable:!0,isHtml:this.props.isHtml,isMulti:this.props.isMultiple,placeholder:this.props.placeholder?this.props.placeholder:"Pilih",getOptionLabel:this.labelGenerate,getOptionValue:function(t){return t[e.props.optionValue]},noOptionsMessage:function(){return"Data tidak ditemukan"},value:this.state.defaultValue,onChange:this.onChange,options:t,isDisabled:this.props.disabled})},t}(a.Component),ge=r.connect(function(e){return{input:e.core.input||{}}},function(e){return{setInput:function(t,a){return e({type:"SET_INPUT",payload:{key:p.slug(String(t),"_"),value:a}})}}})(ye),Ee=function(e){return a.createElement(d.InputGroup,{size:"sm"},a.createElement(d.InputGroup.Text,{style:{background:"none"}},a.createElement(E.FontAwesomeIcon,{size:"sm",icon:N.faCalendar})),a.createElement(d.Form.Control,{style:{borderLeft:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:e.disabled,name:e.name,value:e.value||"",onClick:e.onClick}))},ve=function(e){function t(t){var a;return(a=e.call(this,t)||this).handleInputChange=function(e){e=g(e,"YYYY").isValid()?g(e,"YYYY").format("YYYY"):null,a.props.setInput(a.props.name,e),a.onRefresh()},a.handleInputChangeStart=function(e){e=g(e,"YYYY").isValid()?g(e,"YYYY").format("YYYY"):null,a.props.setInput("start_"+a.props.name,e),a.onRefresh()},a.handleInputChangeEnd=function(e){e=g(e,"YYYY").isValid()?g(e,"YYYY").format("YYYY"):null,a.props.setInput("end_"+a.props.name,e),a.onRefresh()},a.checkTglMerah=function(e){var t=g(e).format("d");return 0==t||6==t?"tglmerah":void 0},a.state={selected:null,start_selected:null,end_selected:null},a.onRefresh=s.debounce(a.onRefresh.bind(H(a)),200),a}V(t,e);var n=t.prototype;return n.onRefresh=function(){if(this.props.isRange){var e=null,t=null;try{e=g(this.props.start_selected,"YYYY").isValid()?g(this.props.start_selected,"YYYY").toDate():g(p.findArrayName("start_"+this.props.name,this.props.input),"YYYY").isValid()?g(p.findArrayName("start_"+this.props.name,this.props.input),"YYYY").toDate():null}catch(e){}try{t=g(this.props.end_selected,"YYYY").isValid()?g(this.props.end_selected,"YYYY").toDate():g(p.findArrayName("end_"+this.props.name,this.props.input),"YYYY").isValid()?g(p.findArrayName("end_"+this.props.name,this.props.input),"YYYY").toDate():null}catch(e){}this.setState({start_selected:e,end_selected:t})}else{var a=null;try{a=g(this.props.selected,"YYYY").isValid()?g(this.props.selected,"YYYY").toDate():g(p.findArrayName(this.props.name,this.props.input),"YYYY").isValid()?g(p.findArrayName(this.props.name,this.props.input),"YYYY").toDate():null}catch(e){}this.setState({selected:a})}},n.componentDidMount=function(){this.onRefresh()},n.componentDidUpdate=function(e,t){this.props.isRange||p.findArrayName(this.props.name,e.input)==p.findArrayName(this.props.name,this.props.input)||p.findArrayName(this.props.name,this.props.input)==this.state.selected||this.onRefresh(),this.props.isRange&&p.findArrayName("start_"+this.props.name,e.input)!=p.findArrayName("start_"+this.props.name,this.props.input)&&p.findArrayName("start_"+this.props.name,this.props.input)!=this.state.start_selected&&this.onRefresh(),this.props.isRange&&p.findArrayName("end_"+this.props.name,e.input)!=p.findArrayName("end_"+this.props.name,this.props.input)&&p.findArrayName("end_"+this.props.name,this.props.input)!=this.state.end_selected&&this.onRefresh()},n.render=function(){var e=this.props.dateFormat?this.props.dateFormat:"yyyy";return this.props.isRange?this.props.disabled||this.props.isReadonly?(g(this.state.start_selected,"YYYY").isValid()?g(this.state.start_selected,"YYYY").format("YYYY"):"")+" - "+(g(this.state.end_selected,"YYYY").isValid()?g(this.state.end_selected,"YYYY").format("YYYY"):""):a.createElement("div",{className:"input-daterange input-group"},a.createElement(Y,{minDate:g(this.props.minDate,"YYYY").isValid()?g(this.props.minDate,"YYYY").toDate():null,maxDate:g(this.props.maxDate,"YYYY").isValid()?g(this.props.maxDate,"YYYY").toDate():null,dateFormat:e,placeholder:this.props.placeholder?this.props.placeholder:"Tahun",selected:this.state.start_selected,isClearable:!this.props.disabled&&!this.props.isReadonly,customInput:a.createElement(Ee,{value:this.state.start_selected,name:"start_"+this.props.name}),onChange:this.handleInputChangeStart,withPortal:!0,showYearPicker:!0,name:"start_"+this.props.name,todayButton:null,dayClassName:this.checkTglMerah,dropdownMode:"select",disabled:this.props.disabled||this.props.isReadonly,readOnly:this.props.disabled||this.props.isReadonly,startDate:this.state.start_selected,endDate:this.state.end_selected,shouldCloseOnSelect:!1}),a.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),a.createElement(Y,{minDate:g(this.state.start_selected,"YYYY").isValid()?g(this.state.start_selected,"YYYY").toDate():g(this.props.minDate,"YYYY").isValid()?g(this.props.minDate,"YYYY").toDate():null,maxDate:g(this.props.maxDate,"YYYY").isValid()?g(this.props.maxDate,"YYYY").toDate():null,dateFormat:e,placeholder:this.props.placeholder?this.props.placeholder:"Tahun",selected:this.state.end_selected,isClearable:!this.props.disabled&&!this.props.isReadonly,name:"end_"+this.props.name,selectsEnd:!0,customInput:a.createElement(Ee,{value:this.state.end_selected,name:"end_"+this.props.name}),onChange:this.handleInputChangeEnd,withPortal:!0,showYearPicker:!0,dayClassName:this.checkTglMerah,todayButton:null,dropdownMode:"select",startDate:this.state.start_selected,endDate:this.state.end_selected,disabled:this.props.disabled||this.props.isReadonly,readOnly:this.props.disabled||this.props.isReadonly,shouldCloseOnSelect:!1})):this.props.disabled||this.props.isReadonly?g(this.props.input[this.props.name],"YYYY").isValid()?g(this.props.input[this.props.name],"YYYY").format("YYYY"):"":a.createElement(Y,{minDate:g(this.props.minDate,"YYYY").isValid()?g(this.props.minDate,"YYYY").toDate():null,maxDate:g(this.props.maxDate,"YYYY").isValid()?g(this.props.maxDate,"YYYY").toDate():null,dateFormat:e,placeholder:this.props.placeholder?this.props.placeholder:"Tahun",customInput:a.createElement(Ee,{value:this.state.selected,name:this.props.name}),selected:this.state.selected,isClearable:!this.props.disabled&&!this.props.isReadonly,id:this.props.name,className:"form-control",dayClassName:this.checkTglMerah,onChange:this.handleInputChange,withPortal:!0,showYearPicker:!0,todayButton:null,dropdownMode:"select",disabled:this.props.disabled||this.props.isReadonly,readOnly:this.props.disabled||this.props.isReadonly,shouldCloseOnSelect:!1})},t}(a.Component),_e=r.connect(function(e){return{input:e.core.input||{}}},function(e){return{setInput:function(t,a){return e({type:"SET_INPUT",payload:{key:p.slug(String(t),"_"),value:a}})}}})(ve),be=T.css(de||(de=F(["\n   position: absolute;\n   top: 50%;\n   left: 50%;\n   margin-top: -25px;\n   margin-left: -50px;\n"]))),Ye=function(e){function t(t){var a;return(a=e.call(this,t)||this).handleInputChange=function(e){a.props.setInput(a.props.name,e.hex),a.props.setParameter("selected_"+a.props.name,e)},a.toggle=function(){a.setState({open:!a.state.open})},a.state={open:!1},a}V(t,e);var n=t.prototype;return n.componentDidMount=function(){try{this.props.setInput(this.props.name,this.props.parameter["selected_"+this.props.name].hex)}catch(e){}},n.render=function(){var e="";try{e=p.findArrayName(this.props.name,this.props.input)||""}catch(e){}return a.createElement(a.Fragment,null,this.state.open?a.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:999}},a.createElement(w.SketchPicker,{color:e,onChangeComplete:this.handleInputChange}),a.createElement(d.Button,{style:{marginTop:10,backgroundColor:e,border:0},className:"btn btn-primary",onClick:this.toggle,type:"button"},"Pilih")):a.createElement(d.Button,{style:{zIndex:0,backgroundColor:e,border:0},className:"btn btn-primary",onClick:this.toggle,type:"button"},"Pilih"))},t}(a.Component),Ne=r.connect(function(e){return{input:e.core.input||{},parameter:e.core.parameter||{}}},function(e){return{setInput:function(t,a){return e({type:"SET_INPUT",payload:{key:p.slug(String(t),"_"),value:a}})},setParameter:function(t,a){return e({type:"SET_PARAMETER",payload:{key:p.slug(String(t),"_"),value:a}})}}})(Ye);function De(e){var n=t.useState({}),i=n[0],o=n[1],l=t.useState(!1),u=l[0],c=l[1],h=e.isMultiple,f=e.optionLabel,y=e.separator,g=e.primaryKey,_=e.id,b=e.param,Y=p.slug(e.name,"_"),N=p.slug("selected_"+Y,"_"),D=r.useDispatch(),S=r.useSelector(function(e){return e.auth})||{},A=r.useSelector(function(e){return e.core.input})||{},k=r.useSelector(function(e){return e.core.filter})||{},C=r.useSelector(function(e){return e.core.parameter})||{};return t.useEffect(function(){var t=process.env.REACT_APP_API_URL+"/"+e.url,a=p.defaultFilterData(k,[],Y),n=p.secureData(P({pkey:g,selected:[_],keyword:a.keyword,load:1,page:1},b)),s={method:"POST",headers:p.setAuthHeader(S),url:t,data:n};c(!0),m(s).then(function(e){o(e.data.data.data[0]),c(!1)}).catch(function(e){c(!1)})},[_]),a.createElement(a.Fragment,null,!i||s.isUndefined(i)||s.isEmpty(i)?u?a.createElement(z,null):"":[function(e){if(s.isArray(f)){var t=[];y=y||" | ";for(var a=0;a<=f.length-1;a++)e[f[a]]&&!s.isUndefined(e[f[a]])&&t.push(e[f[a]]);return t.join(y)}return e[f]?e[f]:""}(i),!e.isReadonly&&a.createElement(d.Button,{variant:"link",size:"sm",onClick:function(t){if(o(null),s.isObject(e.optionValue)&&Object.keys(e.optionValue).map(function(t,a){D({type:"SET_INPUT",payload:{key:e.optionValue[t],value:null}})}),h){var a=s.filter(p.findArrayName(Y,A),function(e){return e!=t}),n=s.filter(p.findArrayName(N,A),function(e){return e!=t}),r=s.filter(p.findArrayName(N,C),function(e){return e[g]!=t});D({type:"SET_INPUT",payload:{key:Y,value:a}}),D({type:"SET_INPUT",payload:{key:N,value:n}}),D({type:"SET_PARAMETER",payload:{key:N,value:r}})}else D({type:"SET_INPUT",payload:{key:Y,value:null}}),D({type:"SET_INPUT",payload:{key:N,value:null}}),D({type:"SET_PARAMETER",payload:{key:N,value:{}}})}.bind(null,i[g]),style:{borderRadius:100,zIndex:0}},a.createElement(E.FontAwesomeIcon,{size:"sm",color:"#db2828",icon:v.faTimes}))])}function Se(e){var t={chart:{width:"auto"}},n=e.series||[];if((s.isUndefined(e.series)||s.isNull(e.series)||!s.isArray(e.series))&&s.isArray(e.options)&&!s.isUndefined(e.optionValue)&&!s.isNull(e.optionValue))for(var r=0;r<e.options.length;r++)if(s.isString(e.optionValue))n.push(e.options[r][e.optionValue]);else if(s.isPlainObject(e.optionValue))!function(){var t={};Object.keys(e.optionValue).map(function(a,n){t[e.optionValue[a]]=e.options[r][a]}),n.push(t)}();else if(s.isArray(e.optionValue)){for(var i=[],o=0;o<e.optionValue.length;o++)i.push(e.options[r][e.optionValue[o]]);n.push(i)}s.isUndefined(e.dataLabels)||s.isNull(e.dataLabels)||!s.isPlainObject(e.dataLabels)||(t.dataLabels=e.dataLabels);var l,u=" ";if(s.isUndefined(e.separator)||s.isNull(e.separator)||!s.isPlainObject(e.separator)||(u=e.separator),s.isUndefined(e.labels)||s.isNull(e.labels)||!s.isArray(e.labels)){if(s.isArray(e.options)&&!s.isUndefined(e.optionLabel)&&!s.isNull(e.optionLabel))for(t.labels=[],r=0;r<e.options.length;r++)if(s.isString(e.optionLabel))t.labels.push(e.options[r][e.optionLabel]);else if(s.isArray(e.optionLabel)){var d=[];for(o=0;o<e.optionLabel.length;o++)d.push(e.options[r][e.optionLabel[o]]);t.labels.push(d.join(u))}}else t.labels=e.labels;if(s.isUndefined(e.colors)||s.isNull(e.colors)||!s.isArray(e.colors)){if(s.isArray(e.options)&&!s.isUndefined(e.optionColor)&&!s.isNull(e.optionColor)&&s.isString(e.optionColor))for(t.colors=[],r=0;r<e.options.length;r++)t.colors.push(e.options[r][e.optionColor])}else t.colors=e.colors;return s.isUndefined(e.locales)||s.isNull(e.locales)||!s.isArray(e.locales)||(t.chart.locales=e.locales),s.isUndefined(e.type)||s.isNull(e.type)||!s.isString(e.type)||(t.chart.type=e.type),s.isUndefined(e.animations)||s.isNull(e.animations)||!s.isPlainObject(e.animations)||(t.chart.animations=e.animations),s.isUndefined(e.background)||s.isNull(e.background)||!s.isString(e.background)||(t.chart.background=e.background),s.isUndefined(e.brush)||s.isNull(e.brush)||!s.isPlainObject(e.brush)||(t.chart.brush=e.brush),s.isUndefined(e.defaultLocale)||s.isNull(e.defaultLocale)||!s.isString(e.defaultLocale)||(t.chart.defaultLocale=e.defaultLocale),s.isUndefined(e.dropShadow)||s.isNull(e.dropShadow)||!s.isPlainObject(e.defaultLocale)||(t.chart.dropShadow=e.dropShadow),s.isUndefined(e.fontFamily)||s.isNull(e.fontFamily)||!s.isString(e.fontFamily)||(t.chart.fontFamily=e.fontFamily),s.isUndefined(e.foreColor)||s.isNull(e.foreColor)||!s.isString(e.foreColor)||(t.chart.foreColor=e.foreColor),s.isUndefined(e.group)||s.isNull(e.group)||!s.isString(e.group)||(t.chart.group=e.group),s.isUndefined(e.events)||s.isNull(e.events)||!s.isPlainObject(e.events)||(t.chart.events=e.events),s.isUndefined(e.height)||s.isNull(e.height)||!s.isString(e.height)&&!s.isNumber(e.height)||(t.chart.height=e.height),s.isUndefined(e.id)||s.isNull(e.id)||!s.isString(e.id)||(t.chart.id=p.slug(e.id)),s.isUndefined(e.name)||s.isNull(e.name)||!s.isString(e.name)||(t.chart.id=p.slug(e.name)),s.isUndefined(e.offsetX)||s.isNull(e.offsetX)||!s.isNumber(e.offsetX)||(t.chart.offsetX=e.offsetX),s.isUndefined(e.offsetY)||s.isNull(e.offsetY)||!s.isNumber(e.offsetY)||(t.chart.offsetY=e.offsetY),s.isUndefined(e.parentHeightOffset)||s.isNull(e.parentHeightOffset)||!s.isNumber(e.parentHeightOffset)||(t.chart.parentHeightOffset=e.parentHeightOffset),s.isUndefined(e.redrawOnParentResize)||s.isNull(e.redrawOnParentResize)||!s.isBoolean(e.redrawOnParentResize)||(t.chart.redrawOnParentResize=e.redrawOnParentResize),s.isUndefined(e.redrawOnWindowResize)||s.isNull(e.redrawOnWindowResize)||!s.isBoolean(e.redrawOnWindowResize)||(t.chart.redrawOnWindowResize=e.redrawOnWindowResize),s.isUndefined(e.selection)||s.isNull(e.selection)||!s.isPlainObject(e.selection)||(t.chart.selection=e.selection),s.isUndefined(e.sparkline)||s.isNull(e.sparkline)||!s.isBoolean(e.sparkline)||(t.chart.sparkline=e.sparkline),s.isUndefined(e.stacked)||s.isNull(e.stacked)||!s.isBoolean(e.stacked)||(t.chart.stacked=e.stacked),s.isUndefined(e.stackType)||s.isNull(e.stackType)||!s.isString(e.stackType)||(t.chart.stackType=e.stackType),s.isUndefined(e.toolbar)||s.isNull(e.toolbar)||!s.isPlainObject(e.toolbar)||(t.chart.toolbar=e.toolbar),s.isUndefined(e.width)||s.isNull(e.width)||!s.isString(e.width)&&!s.isNumber(e.width)||(t.chart.width=e.width),s.isUndefined(e.zoom)||s.isNull(e.zoom)||!s.isPlainObject(e.zoom)||(t.chart.zoom=e.zoom),s.isUndefined(e.fill)||s.isNull(e.fill)||!s.isPlainObject(e.fill)||(t.fill=e.fill),s.isUndefined(e.forecastDataPoints)||s.isNull(e.forecastDataPoints)||!s.isPlainObject(e.forecastDataPoints)||(t.forecastDataPoints=e.forecastDataPoints),s.isUndefined(e.grid)||s.isNull(e.grid)||!s.isPlainObject(e.grid)||(t.grid=e.grid),s.isUndefined(e.legend)||s.isNull(e.legend)||!s.isPlainObject(e.legend)||(t.legend=e.legend),s.isUndefined(e.markers)||s.isNull(e.markers)||!s.isPlainObject(e.markers)||(t.markers=e.markers),s.isUndefined(e.noData)||s.isNull(e.noData)||!s.isPlainObject(e.noData)||(t.noData=e.noData),s.isUndefined(e.states)||s.isNull(e.states)||!s.isPlainObject(e.states)||(t.states=e.states),s.isUndefined(e.stroke)||s.isNull(e.stroke)||!s.isPlainObject(e.stroke)||(t.stroke=e.stroke),s.isUndefined(e.subtitle)||s.isNull(e.subtitle)||!s.isPlainObject(e.subtitle)||(t.subtitle=e.subtitle),s.isUndefined(e.theme)||s.isNull(e.theme)||!s.isPlainObject(e.theme)||(t.theme=e.theme),s.isUndefined(e.title)||s.isNull(e.title)||!s.isPlainObject(e.title)||(t.title=e.title),s.isUndefined(e.tooltip)||s.isNull(e.tooltip)||!s.isPlainObject(e.tooltip)||(t.tooltip=e.tooltip),s.isUndefined(e.xaxis)||s.isNull(e.xaxis)||!s.isPlainObject(e.xaxis)||(t.xaxis=e.xaxis),s.isUndefined(e.yaxis)||s.isNull(e.yaxis)||!s.isPlainObject(e.yaxis)||(t.yaxis=e.yaxis),s.isUndefined(e.plotOptions)||s.isNull(e.plotOptions)||!s.isPlainObject(e.plotOptions)||(t.plotOptions=((l={})[t.chart.type]=e.plotOptions,l)),a.createElement(x,{options:t,series:n,type:t.chart.type})}exports.ChartArea=function(e){return a.createElement(Se,P({},e,{type:"area"}))},exports.ChartBar=function(e){return a.createElement(Se,P({},e,{type:"bar"}))},exports.ChartBoxPlot=function(e){return a.createElement(Se,P({},e,{type:"boxPlot"}))},exports.ChartBubble=function(e){return a.createElement(Se,P({},e,{type:"bubble"}))},exports.ChartCandleStick=function(e){return a.createElement(Se,P({},e,{type:"candlestick"}))},exports.ChartDonut=function(e){return a.createElement(Se,P({},e,{type:"donut"}))},exports.ChartHeatMap=function(e){return a.createElement(Se,P({},e,{type:"heatmap"}))},exports.ChartHistogram=function(e){return a.createElement(Se,P({},e,{type:"histogram"}))},exports.ChartLine=function(e){return a.createElement(Se,P({},e,{type:"line"}))},exports.ChartPie=function(e){return a.createElement(Se,P({},e,{type:"pie"}))},exports.ChartPolarArea=function(e){return a.createElement(Se,P({},e,{type:"polarArea"}))},exports.ChartRadar=function(e){return a.createElement(Se,P({},e,{type:"radar"}))},exports.ChartRadial=function(e){return a.createElement(Se,P({},e,{type:"radialBar"}))},exports.ChartRange=function(e){return a.createElement(Se,P({},e,{type:"rangeBar"}))},exports.ChartScatter=function(e){return a.createElement(Se,P({},e,{type:"scatter"}))},exports.ChartTreeMap=function(e){return a.createElement(Se,P({},e,{type:"treemap"}))},exports.DataTable=re,exports.DataTableContainer=se,exports.Field=function(e){var t=[];if(s.isArray(e.errorMessage))for(var n=0;n<e.errorMessage.length;n++){var r=e.errorMessage[n];if(s.isArray(r))for(var i=0;i<r.length;i++)t.push(r[i]);else t.push(r)}else t.push(e.errorMessage);return a.createElement(d.Form.Group,{as:d.Row},a.createElement(d.Form.Label,{column:!0,md:e.labelSize?e.labelSize:3},e.label?e.label:"Label",e.isRequired&&a.createElement("span",{className:"text-danger"}," *"),e.hint&&a.createElement("small",{className:"form-text text-muted"},e.hint)),a.createElement(d.Col,{md:e.inputSize?e.inputSize:9},e.children,a.createElement(d.Form.Text,{className:"text-danger"},t.length>0&&t.join(", "))))},exports.InputChoose=K,exports.InputColor=Ne,exports.InputDate=Q,exports.InputDateTime=pe,exports.InputFile=j,exports.InputNumber=$,exports.InputSelect=ge,exports.InputSelectFetch=function(e){var n=e.isMultiple,i=e.defaultValue,o=e.optionLabel,l=e.separator,u=r.useDispatch(),c=r.useSelector(function(e){return e.auth})||{},h=r.useSelector(function(e){return e.core.input})||{},f=r.useSelector(function(e){return e.core.filter})||{},y=r.useSelector(function(e){return e.core.parameter})||{},g=t.useState(!1),_=g[0],b=g[1],Y=(t.useState(!1),t.useState(!1)),N=Y[0],D=Y[1],S=t.useState(!1),A=S[0],k=S[1],I=t.useState({}),R=I[0],M=I[1],T=(t.useState(n?[]:{}),t.useState(0)[1]),w=t.useState(!1),x=w[0],V=w[1],H=(t.useState(1),p.slug(e.name,"_")),F=p.slug("selected_"+H,"_"),U=(t.useState(e.label?e.label:p.findArrayName(H,h)),t.useRef()),L=C.useIsVisible(U),O=t.useState([]),q=O[0],B=O[1],j=t.useState({}),G=j[0],W=j[1],K=e.primaryKey?e.primaryKey:"id";function X(e){var t=[];if(l=l||" | ",s.isArray(o)){for(var a=0;a<=o.length-1;a++)e[o[a]]&&!s.isUndefined(e[o[a]])&&t.push(e[o[a]]);return t.join(l)}return e[o]?e[o]:""}var J=[{Header:"#",id:H+"_check",Cell:function(t){var i=r.useSelector(function(e){return e.core.input}),o=!1,l=p.findArrayName(F,i);try{o=n?s.findIndex(l,function(e){return e===t.row.original[K]})>-1:l===t.row.original[K]}catch(e){}return t.row.original[K]?a.createElement(d.Form.Check,{inline:!0,id:p.slug(H+"_check_"+t.row.original[K],"_"),name:p.slug(H+"_check_"+t.row.original[K],"_"),style:{zIndex:100},type:n?"checkbox":"radio",value:1,checked:o,disabled:e.isReadonly,onChange:function(){return function(e,t,a){void 0===a&&(a=!1);var r=e.row.original||{};if(n){var i=[],o=p.findArrayName(F,t);a?i=s.filter(o,function(e){return e&&r&&String(e)!=String(r[K])})||[]:(s.isArray(i=o||[])||(i=[]),r[K]&&i.push(r[K])),i=s.uniq(i),i=s.filter(i,function(e){return!s.isNull(e)&&!s.isUndefined(e)})||[],u({type:"SET_INPUT",payload:{key:F,value:i}})}else u({type:"SET_INPUT",payload:{key:F,value:r[K]}})}(t,i,o)}}):null}}].concat([{Header:"Keterangan",id:"label",accessor:function(e){return X(e)}}]);function Q(){x&&ee()}p.useDebounce(function(){if(n){var t=s.filter(p.findArrayName(F,h),function(e){return!s.isNull(e)&&!s.isUndefined(e)})||[];if(t.length>0){var a=process.env.REACT_APP_API_URL+"/"+e.url,r=p.defaultFilterData(f,[],H),i=p.secureData(P({pkey:K,selected:t,keyword:r.keyword,load:t.length,page:1},e.parameter)),o={method:"POST",headers:p.setAuthHeader(c),url:a,data:i};D(!0),m(o).then(function(e){u({type:"SET_PARAMETER",payload:{key:F,value:e.data.data.data}}),ae(e.data.data.data),D(!1)}).catch(function(e){D(!1)})}else u({type:"SET_PARAMETER",payload:{key:F,value:null}})}else{var l=p.findArrayName(F,h)||null;if(l){var d=process.env.REACT_APP_API_URL+"/"+e.url,y=p.defaultFilterData(f,[],H),g=p.secureData(P({pkey:K,selected:[l],keyword:y.keyword,load:1,page:1},e.parameter)),E={method:"POST",headers:p.setAuthHeader(c),url:d,data:g};D(!0),m(E).then(function(e){var t=e.data.data.data[0]||{};u({type:"SET_PARAMETER",payload:{key:F,value:t}}),ae(t),D(!1)}).catch(function(e){D(!1)})}else u({type:"SET_PARAMETER",payload:{key:F,value:null}})}},500,[p.findArrayName(F,h)]),p.useDebounce(Q,500,[p.findArrayName("keyword_"+H,f),p.findArrayName("page_"+H,f),p.findArrayName("load_"+H,f)]);var Z=a.useMemo(function(){return J},[]);function $(){V(!1)}function ee(){var t=process.env.REACT_APP_API_URL+"/"+e.url,a=p.defaultFilterData(f,[],H),n=p.secureData(P({pkey:K,page:a.page,load:a.load,keyword:a.keyword,sorted:a.sorted,search:a.search},e.parameter)),s={method:"POST",headers:p.setAuthHeader(c),url:t,data:n};return k(!0),m(s).then(function(e){var t=e.data||{};if(void 0!==t.data.data){T(t.data.meta.last_page);try{B(t.data.data||[])}catch(e){}try{W(t.data.meta||{})}catch(e){}}else if(void 0!==t.data){T(t.meta.last_page);try{B(t.data||[])}catch(e){}try{W(t.meta||{})}catch(e){}}k(!1)}).catch(function(e){k(!1)})}function ae(t){n?function(t){if(s.isObject(e.optionValue))Object.keys(e.optionValue).map(function(a,n){var r=e.optionValue[a],i=null;if(t)try{i=s.uniq(s.map(t,a))}catch(e){}s.isEqual(p.findArrayName(r,h),i)||u({type:"SET_INPUT",payload:{key:r,value:i}})});else{var a=H,n=null;t&&(n=s.uniq(s.map(t,K))),s.isEqual(p.findArrayName(a,h),n)||u({type:"SET_INPUT",payload:{key:a,value:n}})}}(t):function(t){if(s.isObject(e.optionValue))Object.keys(e.optionValue).map(function(a,n){var r=e.optionValue[a],i=null;if(t)try{i=t[a]}catch(e){}s.isEqual(p.findArrayName(r,h),i)||u({type:"SET_INPUT",payload:{key:r,value:i}})});else{var a=H,n=null;t&&(n=t[K]),s.isEqual(p.findArrayName(a,h),n)||u({type:"SET_INPUT",payload:{key:a,value:n}})}}(t)}t.useEffect(function(){s.isEqual(e.parameter,R)||(M(e.parameter),Q()),L!=_&&b(L)}),t.useEffect(function(){if(_){var e=null;try{n?(e=s.map(i,"value"),e=s.filter(e,function(e){return e})||[]):e=i.value||null}catch(e){}var t=p.findArrayName(F,h)||null;s.isEqual(e,t)||(s.isNull(e)&&!s.isNull(t)?u({type:"SET_INPUT",payload:{key:F,value:t}}):!s.isNull(e)&&s.isNull(t)?u({type:"SET_INPUT",payload:{key:F,value:e}}):s.isNull(e)||s.isNull(t)?u({type:"SET_INPUT",payload:{key:F,value:null}}):u({type:"SET_INPUT",payload:{key:F,value:e}}))}},[_]),t.useEffect(function(){var e=null;try{e=n?s.filter(s.map(i,"value"),function(e){return e})||null:i.value||null}catch(e){}e&&u({type:"SET_INPUT",payload:{key:F,value:e}})},[]);var ne=[],re=p.findArrayName(F,h);try{ne=n?s.isArray(re)?re:[]:re?[re]:[]}catch(e){}var ie=p.findArrayName(F,y),oe=null;try{oe=n?s.isArray(ie)?ie:[]:s.isObject(ie)?ie:{}}catch(e){}return a.createElement("div",{ref:U},a.createElement(d.Row,null,!e.isReadonly&&a.createElement(d.Col,{lg:"2",md:"2",sm:"4",xs:"12"},a.createElement(d.Button,{style:{zIndex:0},size:"sm",variant:"primary",type:"button",className:"btn-icon",onClick:function(){u({type:"SET_FILTER",payload:{key:p.slug("page_"+H,"_"),value:1}}),V(function(e){return!e}),ee()}},a.createElement(E.FontAwesomeIcon,{icon:v.faSearch}))),a.createElement(d.Col,{lg:"10",md:"10",sm:"8",xs:"12"},N?a.createElement(z,null):ne.map(function(t,s){return a.createElement(a.Fragment,null,a.createElement(De,{isReadonly:e.isReadonly,name:H,optionLabel:o,separator:l,param:e.parameter,url:e.url,primaryKey:K,isMultiple:n,id:t}),e.isReadonly?ne.length-1==s?null:", ":null)}))),a.createElement(d.Modal,{size:"lg",show:x,onHide:$},a.createElement(d.Modal.Header,{onHide:$,closeButton:!0},a.createElement(d.Modal.Title,null,e.placeholder||"Pilih")),a.createElement(d.Modal.Body,null,a.createElement(te,{isLoading:A},a.createElement("div",null,a.createElement(d.InputGroup,{style:{marginBottom:12}},a.createElement(d.InputGroup.Text,{style:{background:"none"}},a.createElement(E.FontAwesomeIcon,{icon:v.faSearch})),a.createElement(d.Form.Control,{style:{borderLeft:"none",zIndex:0},className:"form-control",value:p.findArrayName("keyword_"+H,f),onChange:function(e){var t;u({type:"SET_MULTI_FILTER",payload:(t={},t["keyword_"+H]=e.target.value,t["page_"+H]=1,t)})},type:"text",id:"search_"+F,name:"search_"+H,placeholder:"Pencarian"}),a.createElement(d.Button,{style:{zIndex:0},variant:"primary",onClick:Q,type:"button",disabled:e.isLoading},a.createElement(E.FontAwesomeIcon,{icon:v.faSync,spin:e.isLoading}))),a.createElement(se,{name:H,columns:Z,data:q,primaryKey:K,isColumnsSearchable:!0,fetchData:Q,loading:A,customPageTotal:G&&!s.isEmpty(G)?G.total:0,customPageCount:G&&!s.isEmpty(G)?G.last_page:1,customPageSize:G&&!s.isEmpty(G)?G.per_page:f["load_"+H]?f["load_"+H]:5,customPageIndex:G&&!s.isEmpty(G)?G.current_page:f["page_"+H]?f["page_"+H]:1}))),!A&&a.createElement("div",{style:{marginTop:12}},a.createElement("p",null,"Dipilih : "),N&&a.createElement(z,null),a.createElement("ul",null,n?oe&&oe.map(function(e,t){return a.createElement("li",null,s.isUndefined(e)||s.isEmpty(e)?"":X(e))}):oe&&a.createElement("li",null,s.isUndefined(oe)||s.isEmpty(oe)?"":X(oe)))))))},exports.InputTag=fe,exports.InputText=O,exports.InputTime=me,exports.InputWorkflow=function(e){var n=t.useState(!1),i=n[0],o=n[1],l=t.useState(!1),u=l[0],c=l[1],h=t.useState(!1),f=h[0],y=h[1],E=t.useState(!1),v=E[0],_=E[1],b=r.useSelector(function(e){return e.auth})||{},Y=r.useSelector(function(e){return e.core.input})||{},N=r.useSelector(function(e){return e.core.validation})||[],D=(r.useSelector(function(e){return e.core.parameter}),r.useSelector(function(e){return e.core.filter})||{}),S=r.useDispatch(),A=t.useState({}),k=A[0],C=A[1],I=t.useState({activity:{},role:"",response:[]}),R=I[0],M=I[1],T=e.doAfterSubmit,w=e.isLoading,x=e.doSubmit,V=e.doCancel,H=e.isReadonly,F=e.relation,U=e.id,L=e.isDelete,q=t.useState(H),B=q[0],G=q[1];return t.useEffect(function(){G(H)},[H]),t.useEffect(function(){var e,t;e=process.env.REACT_APP_API_URL+"/komentar_respon?",t={data:p.secureData({relation:F,id:U}),method:"POST",headers:p.setAuthHeader(b),url:e},_(!0),m(t).then(function(e){var t=e.data.data||{};L&&(t.response=s.filter(t.response,function(e){return"HAPUS"==e.code})),M(t),_(!1)}).catch(function(e){p.fetchErrorDispatch(e,S),_(!1)})},[]),t.useEffect(function(){var e=[];try{e=R.role.split(",")}catch(e){}var t=[];try{t=b.user.role.split(",")}catch(e){}for(var a=!1,n=!1,r=0;r<t.length;r++)!n&&t[r]&&s.isEqual(String(t[r]).trim().toLowerCase(),"admin")&&(n=!0,a=!0,S({type:"SET_INPUT",payload:{key:"response_role",value:String(t[r]).trim().toLowerCase()}}));if(!n)for(var i=0;i<e.length;i++)for(var o=0;o<t.length;o++)e[i]&&t[o]&&String(e[i]).trim().toLowerCase()==String(t[o]).trim().toLowerCase()&&!a&&(a=!0,S({type:"SET_INPUT",payload:{key:"response_role",value:String(t[o]).trim().toLowerCase()}}));!s.isEmpty(R.activity)&&R.response.length>0&&a&&B&&!H?(G(!1),S({type:"SET_INPUT",payload:{key:"activity",value:R.activity.code}})):G(!0)},[R]),t.useEffect(function(){f&&!s.isEmpty(N)&&y(!1)},[N]),t.useEffect(function(){!f||w||i||(y(!1),s.isEmpty(N)&&T&&T())},[i,N,w]),v?a.createElement(z,null):a.createElement(te,{isLoading:w||f},a.createElement(d.Card,null,a.createElement(d.Card.Body,null,a.createElement(d.Card.Title,{tag:"h5"},R.activity.name||"Alur tidak ditemukan"),a.createElement(d.Card.Text,null,!B&&a.createElement(d.Row,null,a.createElement(d.Col,{lg:"6"},a.createElement(d.Form.Group,{as:d.Row},a.createElement(d.Col,{lg:"3"},a.createElement(d.Form.Label,null,"Respon ",a.createElement("span",{className:"text-danger"},"*"))),a.createElement(d.Col,{lg:"9"},a.createElement(ge,{name:"response_activity",options:R.response,separator:" | ",optionLabel:["name"],optionValue:"code"}))),a.createElement(d.Form.Group,{as:d.Row},a.createElement(d.Col,{lg:"3"},a.createElement(d.Form.Label,null,"Lampiran")),a.createElement(d.Col,{lg:"5"},a.createElement(j,{value:Y.attachment,name:"response_attachment",id:"response_attachment"})))),a.createElement(d.Col,{lg:"6"},a.createElement(d.Form.Group,{as:d.Row},a.createElement(d.Col,{lg:"3",style:{marginBottom:35}},a.createElement(d.Form.Label,null,"Komentar")),a.createElement(d.Col,{lg:"9"},a.createElement(O,{type:"textarea",required:!0,name:"response_comment",id:"response_comment",rows:"3"}))))),a.createElement(re,{data:k,isLoading:u,name:p.slug(e.relation,"_"),primaryKey:"id",isSearchable:!0,isColumnsSearchable:!0,onReload:function(){var t=process.env.REACT_APP_API_URL+"/komentar?",a={};try{a=p.defaultFilterData(D,["user","role","activity","comment","due_datetime","start_datetime","end_datetime"],p.slug(e.relation,"_"))}catch(e){}var n=P({relation:F,id:U},a),s={data:p.secureData(n),method:"POST",headers:p.setAuthHeader(b),url:t};c(!0),m(s).then(function(e){C(e.data.data),c(!1)}).catch(function(e){p.fetchErrorDispatch(e,S),c(!1)})},columns:[{Header:"Nama",id:"user",accessor:function(e){return e.user}},{Header:"Jabatan",id:"role",accessor:function(e){return e.role}},{Header:"Aktifitas",id:"activity",accessor:function(e){return e.activity}},{Header:"Respon",id:"response",accessor:function(e){return e.response}},{Header:"Komentar",id:"comment",accessor:function(e){return e.comment}},{Header:"Tenggat",id:"due_datetime",accessor:function(e){return e.due_datetime&&g(e.due_datetime).format("DD-MM-YYYY HH:mm")}},{Header:"Mulai",id:"start_datetime",accessor:function(e){return e.start_datetime&&g(e.start_datetime).format("DD-MM-YYYY HH:mm")}},{Header:"Selesai",id:"end_datetime",accessor:function(e){return e.end_datetime&&g(e.end_datetime).format("DD-MM-YYYY HH:mm")}},{Header:"Lampiran",id:"attachment",accessor:function(e){return a.createElement(j,{value:e.attachment,isReadonly:!0})}}]})),a.createElement(d.Row,{className:"mt-2"},a.createElement(d.Col,null,a.createElement(d.Button,{type:"button",className:"btn btn-icon btn-primary btn-sm float-left",onClick:function(e){V&&V()}},"Kembali"),!B&&a.createElement(d.Button,{type:"button",className:"btn btn-icon btn-primary btn-sm float-right",onClick:function(e){!Y.response_activity||s.isEmpty(Y.response_activity)?S({type:"SET_MESSAGE",payload:"Respon wajib diisi"}):(y(!0),o(!0),setTimeout(function(){return o(!1)},1e3),x&&x())}},"Proses"))))))},exports.InputYear=_e,exports.Loading=z,exports.LoadingOverlay=te,exports.LoadingPage=function(){return a.createElement(b,{color:"#000",css:be,size:50})};
//# sourceMappingURL=index.js.map
