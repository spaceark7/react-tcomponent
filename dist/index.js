function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("react"),n=e(t);require("react-phone-number-input/style.css"),require("bootstrap/dist/css/bootstrap.min.css"),require("dropzone/dist/min/dropzone.min.css"),require("video-react/dist/video-react.css"),require("rc-time-picker/assets/index.css"),require("react-datepicker/dist/react-datepicker.css"),require("react-input-range/lib/css/index.css");var a=e(require("cleave.js/react")),r=require("lodash"),l=e(require("react-phone-number-input")),o=e(require("jodit-react")),i=e(require("mousetrap")),s=require("tcomponent"),u=e(require("html-react-parser")),c=require("react-bootstrap");require("@wiris/mathtype-generic");var d=e(require("react-contenteditable")),m=require("react-redux"),p=e(require("axios")),f=e(require("react-dropzone-component")),y=require("video-react"),g=require("moment"),h=e(g),E=require("react-doc-viewer"),v=e(E),b=require("@fortawesome/react-fontawesome"),Y=require("@fortawesome/free-solid-svg-icons"),S=e(require("react-spinners/PuffLoader")),D=e(require("react-datepicker")),k=require("@fortawesome/free-regular-svg-icons"),N=e(require("react-input-range")),w=e(require("react-loading-overlay")),C=e(require("styled-components")),A=require("react-table"),T=require("react-is-visible"),x=e(require("rc-time-picker")),I=e(require("react-tag-autocomplete")),P=e(require("react-select")),M=require("@emotion/react"),R=require("react-color"),F=e(require("react-apexcharts"));function U(e){var p=r.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),f=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},y=s.findArrayName(p,f)||"",g=m.useDispatch(),h=r.isUndefined(null==e?void 0:e.type)?"":String(null==e?void 0:e.type),E="text"===h||r.isUndefined(h)?"search":h,v=t.useState(!1),b=v[0],Y=v[1],_=t.useState(""),S=_[0],D=_[1],k=(null==e?void 0:e.placeholder)||"",N={};"nik"==E.toLowerCase()?(N={delimiter:" ",blocks:[2,2,2,6,4],numericOnly:!0},k=(null==e?void 0:e.placeholder)||"Nomor Induk Kependudukan"):"kip"==E.toLowerCase()?(N={delimiter:" ",blocks:[4,4,4,4]},k=(null==e?void 0:e.placeholder)||"Kartu Indonesia Pintar"):"npwp"==E.toLowerCase()?(N={delimiters:[".",".",".","-","."],blocks:[2,3,3,1,3,3],numericOnly:!0},k=(null==e?void 0:e.placeholder)||"Nomor Pokok Wajib Pajak"):"postcode"==E.toLowerCase()?(N={blocks:[5],delimiter:" ",numericOnly:!0},k=(null==e?void 0:e.placeholder)||"Kode Pos"):"phone"==E.toLowerCase()&&(k=(null==e?void 0:e.placeholder)||"Telepon");var w=t.useState({readonly:!1,placeholder:" ",toolbarButtonSize:"small"}),C=t.useRef(),A=t.useRef(),T=t.useRef();function x(t){t.preventDefault();var n=t.target.value?String(t.target.value):"";"nik"!=h&&"kip"!=h&&"npwp"!=h&&"postcode"!=h||(n=n.replace(/\D/g,"")),null!=e&&e.maxlength&&(n=n.substring(0,null==e?void 0:e.maxlength)),P(n)}function I(){Y(!1)}function P(e){var t;t=e,g({type:"SET_INPUT",payload:{key:s.slug(String(p),"_"),value:t}})}return t.useEffect(function(){r.isUndefined(null==e?void 0:e.value)||P(null==e?void 0:e.value)},[null==e?void 0:e.value]),t.useEffect(function(){if(null!=e&&e.disableCopy||null!=e&&e.disablePaste||null!=e&&e.disableSelectAll){var t=[];null!=e&&e.disableCopy&&(t.push("command+c"),t.push("ctrl+c")),null!=e&&e.disablePaste&&(t.push("command+v"),t.push("ctrl+v")),null!=e&&e.disableSelectAll&&(t.push("command+a"),t.push("ctrl+a")),t.length>0&&i.bind(t,function(){return!1})}if("equation"==h)try{var n={};n.target=T.current,n.toolbar=C.current;var a=new window.WirisPlugin.GenericIntegration(n);a.init(),a.listeners.fire("onTargetReady",{}),WirisPlugin.currentInstance=a}catch(e){}},[]),p?null!=e&&e.disabled||null!=e&&e.isReadonly?!r.isEmpty(y)&&u(String(y)):"nik"==h||"kip"==h||"npwp"==h||"postcode"==h?n.createElement(a,{placeholder:k,id:null==e?void 0:e.id,name:p,value:y,onChange:x,options:N,className:"form-control"}):"textarea"==h?n.createElement("textarea",{id:null==e?void 0:e.id,rows:(null==e?void 0:e.rows)||3,className:"form-control no-resize mousetrap",onChange:x,name:p,value:y,placeholder:k}):"phone"==h?n.createElement(l,{international:!0,defaultCountry:"ID",numberInputProps:{className:"form-control"},value:y?String(y):"",onChange:P}):"texteditor"==h?n.createElement(n.Fragment,null,n.createElement("div",{className:"form-control",style:{minHeight:32},onClick:function(){D(""),Y(!0)}},r.isEmpty(y)?"":u(String(y))),n.createElement(c.Modal,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",show:b,onHide:I},n.createElement(c.Modal.Body,null,n.createElement(o,{key:(null==e?void 0:e.name)+"_editor",id:null==e?void 0:e.id,ref:A,value:r.isEmpty(y)?"":String(y),config:w,tabIndex:1,onChange:function(e){return D(e)}})),n.createElement(c.Modal.Footer,{style:{justifyContent:"space-between"}},n.createElement(c.Button,{onClick:I,variant:"secondary"},"Kembali"),n.createElement(c.Button,{onClick:function(){P(S),I()},variant:"primary"},"Simpan")))):"equation"==h?n.createElement(c.InputGroup,null,n.createElement(c.InputGroup.Text,null,n.createElement("div",{ref:C})),n.createElement(d,{suppressContentEditableWarning:!0,className:"form-control",innerRef:T,onChange:function(e){window.WirisPlugin.Parser.endParse(e.target.value),P(e.target.value)},html:y||""})):n.createElement(c.Form.Control,{id:null==e?void 0:e.id,type:E,placeholder:k,value:y,onChange:x,name:p,className:"form-control mousetrap"}):"Name is Required"}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function V(e,t){return t||(t=e.slice(0)),e.raw=t,e}function O(){return n.createElement(S,{color:"#000",size:25})}var H=g;function B(e){var t=[{uri:process.env.REACT_APP_API_URL+"/file/stream/"+e.file}];try{if(r.isEqual(e.type.type.substring(0,5),"video"))return n.createElement(y.Player,{key:e.file,autoPlay:!1,src:process.env.REACT_APP_API_URL+"/file/stream/"+e.file})}catch(e){}return n.createElement(v,{style:{width:"100%",height:480},pluginRenderers:E.DocViewerRenderers,documents:t})}function z(e){var a=e.accept?e.accept:"image/*, video/*, audio/*, .docx, .xlsx, .pptx, .csv, .pdf",l=m.useSelector(function(e){return e.core.input}),o=m.useSelector(function(e){return e.core.parameter}),i=t.useState({}),u=i[0],d=i[1],y=t.useState([]),g=y[0],h=y[1],E=t.useState(!1),v=E[0],_=E[1],S=m.useSelector(function(e){return e.auth}),D=m.useDispatch();function k(e){if(console.log("fetchInfo",e),r.isString(e)&&!r.isEmpty(e)&&"null"!=e&&!function(e){var t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}(e)&&r.isEmpty(u[e])){console.log("GO");var t=process.env.REACT_APP_API_URL+"/file/info",n=s.secureData({token_file:e}),a={method:"POST",headers:s.setAuthHeader(S),url:t,data:n};_(!0);try{p(a).then(function(t){t.data.success&&(u[e]=t.data.data,d(u),I[e]=!1,P(I)),_(!1)}).catch(function(t){u[e]="",d(u),I[e]=!1,P(I)})}catch(e){}}}function N(e){return r.isString(e)&&!r.isEmpty(e)&&"null"!=e}function w(e){return r.filter(e,N)||[]}function C(e){return w(String(e).split("|"))}function A(e){var t;P(L({},I,((t={})[e]=!I[e],t)))}function T(e){e!=o.openFile&&D({type:"SET_PARAMETER",payload:{key:"openFile",value:e}})}t.useEffect(function(){var t=e.value?e.value:s.findArrayName(e.name,l);if(t){var n=C(t);h(n)}},[]),t.useEffect(function(){var t=C(s.findArrayName(e.name,l));r.isEqual(t,g)||h(t)},[s.findArrayName(e.name,l)]),t.useEffect(function(){!function(e){try{if(r.isArray(e)&&e.length>0)for(var t=0;t<e.length;t++)N(e[t])&&k(e[t]);else N(e)&&k(e)}catch(e){}}(g)},[g]),t.useEffect(function(){T(v)},[v]);var x=t.useState({}),I=x[0],P=x[1],M=w(g);return process.env.REACT_APP_API_URL?n.createElement("div",null,!v&&!e.isReadonly&&n.createElement("div",null,!e.isMultiple&&n.createElement("div",{style:{display:"inline-block"}},n.createElement(c.Form.Control,{className:e.className,accept:a,label:e.name,type:"file",onChange:function(t){var n,a,l=t.target.files||t.dataTransfer.files;l.length&&(n=l[0],(a=new FileReader).onload=function(t){!function(t,n){var a=e.url||process.env.REACT_APP_API_URL+"/file/upload",l=new FormData,o=t.name;l.append("type",t.type),l.append("name",o),l.append("file",t),l.append("lastModifiedDate",H(t.lastModifiedDate).format("YYYY-MM-DD HH:mm:ss")),l.append("size",t.size),_(!0),p.post(a,l,{headers:s.setAuthHeader(S,"multipart/form-data; boundary="+l._boundary)}).then(function(t){r.isEmpty(t.data.message)||D({type:"SET_MESSAGE",payload:t.data.message}),t.data.success?(D({type:"SET_INPUT",payload:{key:e.name,value:t.data.data.token}}),h([t.data.data.token])):D({type:"SET_INPUT",payload:{key:e.name,value:""}}),_(!1)}).catch(function(t){D({type:"SET_INPUT",payload:{key:e.name,value:""}}),D({type:"SET_MESSAGE",payload:"Gagal mengunggah lampiran"}),_(!1)})}(n)},a.readAsDataURL(n))},onInput:function(e){T(!1)},onClick:function(e){T(!0),setTimeout(function(){T(!1)},6e4)}})),!v&&e.isMultiple&&n.createElement(f,{config:{showFiletypeIcon:!0,postUrl:process.env.REACT_APP_API_URL+"/file/upload_multiple",uploadMultiple:!0,maxFiles:5},eventHandlers:{drop:function(){},complete:function(t){var n=JSON.parse(t.xhr.response),a=g||[];a.push(n.data.token);var l=r.filter(a,function(e){return!r.isEmpty(e)})||[];D({type:"SET_INPUT",payload:{key:e.name,value:l.join("|")}}),h(l)},removedfile:function(e){}},djsConfig:{acceptedFiles:a,params:{token:S.user.token},addRemoveLinks:!0,autoProcessQueue:!0,maxFiles:5}})),!v&&M.length>0&&M.map(function(t,a){return n.createElement("div",{style:{display:"inline-block"},key:t},e.preview&&n.createElement(n.Fragment,null,n.createElement(B,{key:t,type:u[t],file:t}),n.createElement("br",null)),n.createElement(c.ButtonGroup,null,n.createElement(c.Button,{variant:"primary",onClick:function(){return A(t)}},n.createElement(b.FontAwesomeIcon,{icon:Y.faSearch})," Lihat"),n.createElement(c.Button,{vendor:"success",onClick:function(){return window.location.href=process.env.REACT_APP_API_URL+"/file/download/"+t}},n.createElement(b.FontAwesomeIcon,{icon:Y.faDownload})," Unduh"),!e.isReadonly&&n.createElement(c.Button,{variant:"danger",onClick:function(){return function(t){var n=process.env.REACT_APP_API_URL+"/file/delete",a=s.secureData({token_file:t,token:S.token}),l={method:"POST",headers:s.setAuthHeader(S),url:n,data:a};_(!0),p(l).then(function(n){r.isEmpty(n.data.message)||D({type:"SET_MESSAGE",payload:n.data.message});var a=r.filter(g,function(e){return!r.isEqual(e,t)});h(a),D({type:"SET_INPUT",payload:{key:e.name,value:a}}),_(!1)}).catch(function(n){D({type:"SET_MESSAGE",payload:"Gagal menghapus lampiran"});var a=r.filter(g,function(e){return!r.isEqual(e,t)});D({type:"SET_INPUT",payload:{key:e.name,value:a}}),h(a),_(!1)})}(t)}},n.createElement(b.FontAwesomeIcon,{icon:Y.faTimes})," Hapus")),n.createElement(c.Modal,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",id:"modal_"+t,show:I[t],onHide:function(){return A(t)}},n.createElement(c.Modal.Body,null,n.createElement(B,{key:t,type:u[t],file:t})),n.createElement(c.Modal.Footer,null,n.createElement(c.Button,{variant:"primary",onClick:function(){return A(t)}},n.createElement(b.FontAwesomeIcon,{icon:Y.faTimes})," Tutup"))))}),v&&n.createElement(O,null)):n.createElement("span",null,"REACT_APP_API_URL is required for .env")}var q,j=function(e){return n.createElement(c.InputGroup,null,n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:k.faCalendar})),n.createElement(c.Form.Control,{style:{borderLeft:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:e.disabled,name:e.name,value:e.value||"",onClick:e.onClick}))},G=C(w)(q||(q=V(["\n  overflow: hidden;\n\n  ._loading_overlay_overlay {\n    background: rgba(255, 255, 255, 0.5);\n  }\n  &._loading_overlay_wrapper--active {\n    overflow: hidden;\n  }\n"])));function W(e){return n.createElement(G,{fadeSpeed:250,active:e.isLoading,spinner:n.createElement(O,null)},e.children)}var K=function(e){return null},X=function(e){var a=e.column.filterValue,r=e.column.id,l=e.name,o=m.useDispatch(),i=n.useState(a),u=i[0],d=i[1],p=s.slug("search_"+l+"_"+r,"_"),f=m.useSelector(function(e){return e.core.filter});return t.useEffect(function(){d(f[p])},[]),n.createElement(c.Form.Control,{key:p,id:p,name:p,value:u,style:{zIndex:0},onChange:function(e){var t;e.preventDefault(),d(e.target.value),setCurPage(1),o({type:"SET_MULTI_FILTER",payload:(t={},t[p]=e.target.value,t[s.slug("loaded_"+l,"_")]=!1,t)})},placeholder:"Pencarian"})};function J(e){for(var a=e.columns,l=e.data,o=e.renderRowSubComponent,i=e.customPageIndex,u=e.customPageSize,d=e.customPageCount,p=e.loading,f=e.isColumnsSearchable,y=e.primaryKey,g=e.name,h=e.customPageTotal,E=m.useSelector(function(e){return e.core.filter})||{},v=[],_=0;_<a.length;_++)try{var S=s.slug("sort_"+g+"_"+a[_][y],"_"),D=E[S];r.isEmpty(D)||r.isNull(D)||r.isUndefined(D)||v.push({id:a[_][y],desc:"desc"==D})}catch(e){}var N=A.useTable({columns:a,data:l,defaultColumn:{Filter:function(e){return n.createElement(X,L({},e,{name:g}))}},initialState:{pageIndex:i,pageSize:u,sortBy:v},manualPagination:!0,pageCount:d,manualSortBy:!0,defaultCanSort:!0,isMultiSortEvent:function(){}},A.useFilters,A.useSortBy,A.useExpanded,A.usePagination),w=N.getTableProps,C=N.getTableBodyProps,T=N.headerGroups,x=N.page,I=N.prepareRow,P=N.visibleColumns,M=N.gotoPage,R=N.setPageSize,F=N.state,U=F.pageIndex,V=F.pageSize,O=T[0].headers||[];s.useDebounce(function(){for(var e,t={},n=0;n<O.length;n++){var a=O[n];if(a){var l=s.slug("sort_"+g+"_"+a[y],"_"),o=a.isSorted?a.isSortedDesc?"desc":"asc":null;o!=E[l]&&(t[l]=o)}}r.isEmpty(t)||W({type:"SET_MULTI_FILTER",payload:L({},t,(e={},e[s.slug("loaded_"+g,"_")]=!1,e))})},400,[O]);var H=t.useState(p),B=H[0],z=H[1],q=t.useState(U),j=q[0],G=q[1],W=m.useDispatch(),J=function(e){var t;R(Number(e.target.value)),W({type:"SET_MULTI_FILTER",payload:(t={},t[s.slug("load_"+g,"_")]=Number(e.target.value),t[s.slug("page_"+g,"_")]=j,t)})},Q=function(e){var t=e.target.value?Number(e.target.value):0;ne(t)},Z=i<d,$=i>=2,ee=function(){j<d&&ne(j+1)},te=function(){j>=2&&ne(j-1)},ne=function(e){G(e)};return s.useDebounce(function(){var e;M(j),W({type:"SET_MULTI_FILTER",payload:(e={},e[s.slug("load_"+g,"_")]=V,e[s.slug("page_"+g,"_")]=j,e)})},400,[j]),s.useDebounce(function(){ne(E[s.slug("page_"+g,"_")])},400,[E[s.slug("page_"+g,"_")]]),t.useEffect(function(){z&&!p?setTimeout(function(){return z(p)},400):z(p)},[p]),r.isEmpty(g)?n.createElement("p",null,"Props name is Required"):(console.log("pages",parseInt(i),parseInt(j)),n.createElement("div",null,n.createElement("div",{className:"custom-scroll",style:{overflow:"auto"}},n.createElement(c.InputGroup,null,n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return ne(1)},disabled:!$||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleDoubleLeft})),n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:te,disabled:!$||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleLeft})),n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:k.faFile}),"   Hal :"," "),n.createElement(c.Form.Control,{style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},type:"number",min:1,max:d,value:j,onChange:Q}),n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:Y.faBars}),"   Lihat :"," "),n.createElement(c.Form.Control,{type:"number",min:1,style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},max:50,value:V,onChange:J}),n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:ee,disabled:!Z||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleRight})),n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return ne(d)},disabled:!Z||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleDoubleRight})))),n.createElement("div",{className:"text-center mt-2 mb-2"},n.createElement("strong",null,s.numberFormat(i,""))," dari"," ",n.createElement("strong",null,s.numberFormat(d,""))," hal. Total"," : ",n.createElement("strong",null,s.numberFormat(h,""))," baris"),n.createElement(c.Table,L({style:{margin:0,zIndex:0},responsive:!0,bordered:!0,hover:!0,striped:!0,vcenter:!0},w()),n.createElement("thead",null,T.map(function(e){return n.createElement("tr",e.getHeaderGroupProps(),e.headers.map(function(e){return n.createElement("th",L({style:{padding:"4px 8px",borderTop:"1px solid #dee2e6"}},e.getHeaderProps()),n.createElement("div",e.getSortByToggleProps(),n.createElement("span",{style:{display:"inline-block"}},e.render("Header")),n.createElement("span",{style:{display:"inline-block",fontWeight:"bold"}},function(e){return e.isSorted?e.isSortedDesc?" ↓":" ↑":""}(e))),f&&n.createElement(K,{column:e}))}))})),n.createElement("tbody",C(),x.length>0&&!B&&parseInt(i)===parseInt(j)?x.map(function(e){return I(e),n.createElement(n.Fragment,{key:e.getRowProps().key},n.createElement("tr",null,e.cells.map(function(e,t){return n.createElement("td",L({style:{padding:"4px 8px",width:0==t?"10px":"auto"}},e.getCellProps()),e.render("Cell"))})),e.isExpanded&&n.createElement("tr",null,n.createElement("td",{style:{padding:"4px 8px"},colSpan:P.length},o(e))))}):T.map(function(e){return n.createElement("tr",null,n.createElement("td",{style:{padding:"12px 0",textAlign:"center"},colSpan:e.headers.length},B||parseInt(i)!==parseInt(j)?"Memproses":"Tidak ada data"))}))),n.createElement("div",{className:"text-center mt-2 mb-2"},n.createElement("strong",null,s.numberFormat(i,""))," dari"," ",n.createElement("strong",null,s.numberFormat(d,""))," hal. Total"," : ",n.createElement("strong",null,s.numberFormat(h,""))," baris"),n.createElement("div",{className:"custom-scroll",style:{overflow:"auto"}},n.createElement(c.InputGroup,null,n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return ne(1)},disabled:!$||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleDoubleLeft})),n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:te,disabled:!$||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleLeft})),n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:k.faFile}),"   Hal :"," "),n.createElement(c.Form.Control,{style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},type:"number",min:1,max:d,value:j,onChange:Q}),n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:Y.faBars}),"   Lihat :"," "),n.createElement(c.Form.Control,{type:"number",min:1,style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},max:50,value:V,onChange:J}),n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:ee,disabled:!Z||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleRight})),n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return ne(d)},disabled:!Z||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleDoubleRight}))))))}function Q(e){var a,l=t.useState(!1),o=l[0],i=l[1],u=t.useState(""),d=u[0],p=u[1],f=t.useState([]),y=f[0],g=f[1],h=t.useState([]),E=h[0],v=h[1],_=t.useState({}),S=_[0],D=_[1],N=t.useState(!1),w=N[0],C=N[1],A=t.useState(!1),x=A[0],I=A[1],P=m.useDispatch(),M=(m.useSelector(function(e){return e.core.parameter}),m.useSelector(function(e){return e.core.input})||{}),R=(m.useSelector(function(e){return e.auth.user}),m.useSelector(function(e){return e.core.filter})||{}),F=s.slug("selected_"+e.name,"_"),U=e.primaryKey?e.primaryKey:"id",L=t.useRef(),V=T.useIsVisible(L),O={Header:"#",id:"select",width:"10px",Cell:function(t){var a=m.useSelector(function(e){return e.core.input}),l=!1;try{l="single"==e.selectable?s.findArrayName(F,a)==t.row.original[U]:r.findIndex(s.findArrayName(F,a),function(e){return e==t.row.original[U]})>-1}catch(e){}return n.createElement(c.Form.Check,{inline:!0,id:s.slug(e.name+"_check_"+t.row.original[U],"_"),name:s.slug(e.name+"_check_"+t.row.original[U],"_"),type:"single"==e.selectable?"radio":"checkbox",value:1,checked:l,disabled:e.isReadonly,onChange:function(){return function(t,n,a){void 0===a&&(a=!1);var l=t.row.original||{};if("single"==e.selectable)P({type:"SET_PARAMETER",payload:{key:F,value:l}}),P({type:"SET_INPUT",payload:{key:F,value:l[U]}});else{var o=[];a?o=r.filter(s.findArrayName(F,n),function(e){return e&&l&&parseInt(e)!=parseInt(l[U])})||[]:(o=s.findArrayName(F,n)||[],r.isArray(o)||(o=[]),o.push(l[U])),o=r.uniq(o),P({type:"SET_INPUT",payload:{key:F,value:o}})}}(t,a,l)}})}},H=r.isEmpty(e.selectable)?[].concat(e.columns):[O].concat(e.columns);if(e.action){var B={Header:"Aksi",id:"aksi_"+e.name,sortable:!1,Cell:function(t){var a=m.useSelector(function(e){return e.core.parameter}),l=t.row.original[U];return n.createElement(c.DropdownButton,{key:"dropdown_"+e.name+"_"+l,id:"dropdown_"+e.name+"_"+l,isOpen:r.isEqual(a.dropdown,l),toggle:function(){return function(e){var t=r.isEqual(a.dropdown,e)?null:e;P({type:"SET_PARAMETER",payload:{key:"dropdown",value:t}})}(l)},drop:"end",variant:"primary",title:""},r.filter(e.action,function(e){return r.isUndefined(e.show)||e.show}).map(function(a,o){var i=!!r.isBoolean(a.disabled)&&a.disabled;return n.createElement(c.Dropdown.Item,{key:"dropdownitem_"+e.name+"_"+l+"_"+o,onClick:function(){return a.onClick(t.row.original)},disabled:i},a.label)}))}};H=r.isEmpty(e.selectable)?[B].concat(e.columns):[B,O].concat(e.columns)}function z(){o&&(p(window.location.href),e.onReload(),s.findArrayName(s.slug("loaded_"+e.name,"_"),R)||P({type:"SET_FILTER",payload:{key:s.slug("loaded_"+e.name,"_"),value:!0}}))}t.useEffect(function(){V!=o&&i(V)}),t.useEffect(function(){P({type:"SET_FILTER",payload:{key:s.slug("loaded_"+e.name,"_"),value:!1}})},[]),s.useDebounce(function(){!o||r.isEqual(window.location.href,d)&&!r.isEmpty(d)||z()},400,[o,window.location.href]),s.useDebounce(z,400,[s.findArrayName(s.slug("keyword_"+e.name,"_"),R),s.findArrayName(s.slug("page_"+e.name,"_"),R),s.findArrayName(s.slug("load_"+e.name,"_"),R),s.findArrayName(s.slug("loaded_"+e.name,"_"),R)]),s.useDebounce(function(){v(function(e){return r.uniqBy([].concat(e,y),U)}),s.findArrayName(F,M)&&function(){var t=null,n=null;if("single"==e.selectable)t=t=r.find(E,function(e){return e&&parseInt(e[U])==n})||{},n=s.findArrayName(F,M)||null;else{t=[],n=s.findArrayName(F,M)||[];for(var a=function(e){var a=r.find(E,function(t){return t&&parseInt(t[U])==n[e]})||{};r.isEmpty(a)||t.push(a)},l=0;l<n.length;l++)a(l)}P({type:"SET_PARAMETER",payload:{key:F,value:t}})}()},400,[s.findArrayName(F,M),R]),s.useDebounce(function(){try{g(e.data.data||[])}catch(e){}v(function(e){return r.uniqBy([].concat(e,y),U)});try{D(e.data.meta||{})}catch(e){}},400,[e.data]);var q=n.useMemo(function(){return H},[]);return n.createElement(W,{isLoading:e.isLoading},n.createElement("div",{style:{padding:"8px 12px"},ref:L},n.createElement("div",{style:{marginBottom:"12px"}},n.createElement(c.Row,null,n.createElement(c.Col,{xs:"12",sm:"12",md:"8",lg:"8"},n.createElement("div",null,e.renderFilter?e.renderFilter:null))),n.createElement(c.Row,{style:{justifyContent:"flex-end"}},n.createElement(c.Col,{xs:"12",sm:"12",md:"4",lg:"4"},n.createElement("div",null,e.isSearchable&&n.createElement("div",null,n.createElement(c.InputGroup,null,n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:Y.faSearch})),n.createElement(c.Form.Control,((a={id:s.slug("keyword_"+e.name,"_"),key:s.slug("keyword_"+e.name,"_"),style:{borderLeft:"none"},className:"form-control",value:s.findArrayName(s.slug("keyword_"+e.name,"_"),R),onChange:function(t){var n;P({type:"SET_MULTI_FILTER",payload:(n={},n[s.slug("keyword_"+e.name,"_")]=t.target.value,n[s.slug("page_"+e.name,"_")]=1,n.loaded=!1,n)})},type:"text"}).id=s.slug("keyword_"+F),a.name=s.slug("keyword_"+e.name,"_"),a.placeholder="Pencarian",a)),n.createElement(c.Button,{style:{zIndex:0},variant:"primary",onClick:z,type:"button",disabled:e.isLoading},n.createElement(b.FontAwesomeIcon,{icon:Y.faSync,spin:e.isLoading})),(e.export||e.import)&&n.createElement(n.Fragment,null,e.export&&n.createElement(c.Button,{id:"exportFile",style:{zIndex:0},variant:"primary",className:"mr-1",onClick:e.exportReload,type:"button",disabled:e.disabledButton},n.createElement(b.FontAwesomeIcon,{icon:k.faArrowAltCircleDown}),n.createElement(c.Tooltip,{placement:"top",isOpen:w,autohide:!1,target:"exportFile",toggle:function(){return C(!w)}},"Export")),e.import&&n.createElement(c.Button,{id:"importFile",style:{zIndex:0},variant:"primary",className:"mr-1",onClick:e.importReload,type:"button",disabled:e.disabledButton},n.createElement(b.FontAwesomeIcon,{icon:k.faArrowAltCircleUp}),n.createElement(c.Tooltip,{placement:"top",isOpen:x,autohide:!1,target:"importFile",toggle:function(){return I(!x)}},"Import"))))))))),n.createElement(J,{name:s.slug(e.name,"_"),columns:q,data:y,primaryKey:U,isColumnsSearchable:e.isColumnsSearchable,fetchData:z,loading:e.isLoading,customPageTotal:S&&!r.isEmpty(S)?S.total:0,customPageCount:S&&!r.isEmpty(S)?S.last_page:1,customPageSize:S&&!r.isEmpty(S)?S.per_page:s.findArrayName(s.slug("load_"+e.name,"_"),R)?s.findArrayName(s.slug("load_"+e.name,"_"),R):10,customPageIndex:S&&!r.isEmpty(S)?S.current_page:s.findArrayName(s.slug("page_"+e.name,"_"),R)?s.findArrayName(s.slug("page_"+e.name,"_"),R):1})))}var Z,$="YYYY-MM-DD HH:mm:ss",ee=function(e){return n.createElement(c.InputGroup,null,n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:k.faCalendar})),n.createElement(c.Form.Control,{style:{borderLeft:"none",borderRight:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:e.disabled,name:e.name,value:e.value||"",onClick:e.onClick}),n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:k.faClock})))};function te(){return n.createElement(b.FontAwesomeIcon,{style:{position:"absolute",left:8,top:11},icon:k.faClock})}function ne(e){var a=r.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),l=t.useState([])[0],o=m.useDispatch(),i=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},c=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.parameter})||{},d=s.findArrayName(a,i)||null,p=s.findArrayName("selected_"+a,c)||null,f=[];try{if(r.isArray(e.options))for(var y=0;y<e.options.length;y++){var g=e.options[y];e.isHtml&&(g[e.name]=u(String(g[e.name]))),f.push(g)}}catch(e){}function h(t){var n=[];if(r.isArray(e.optionLabel))for(var a=0;a<=e.optionLabel.length-1;a++)n.push(t[e.optionLabel[a]]);else n.push(t[e.optionLabel]);return n}function E(e,t){o({type:"SET_INPUT",payload:{key:s.slug(String(e),"_"),value:t}})}function v(t){if(console.log("onChange",t),a)try{E(a,e.isMultiple?r.map(t,e.optionValue):t[e.optionValue])}catch(e){E(a,null)}}function _(){setshow(!l)}return t.useEffect(function(){!function(t){var n=null;if(e.isMultiple){n=[];try{if(r.isArray(f)&&r.isArray(t))for(var l=0;l<f.length;l++)for(var i=0;i<t.length;i++){var s=f[l],u=t[i];String(s[e.optionValue])==String(u)&&n.push(s)}}catch(e){}0==n.length&&(n=null)}else n=r.find(f,function(n){return String(n[e.optionValue])==String(t)}.bind(this))||{},r.isEmpty(n)&&(n=null);r.isUndefined(n)||o({type:"SET_PARAMETER",payload:{key:"selected_"+a,value:n}})}(d)},[d]),e.disabled||e.isReadonly?h(p):e.withModal?n.createElement(n.Fragment,null,n.createElement(Row,null,!e.isReadonly&&n.createElement(Col,{lg:"1",md:"1",sm:"3",xs:"1"},n.createElement(Button,{type:"button",className:"btn btn-icon btn-primary",onClick:_},n.createElement(b.FontAwesomeIcon,{icon:Y.faSearch})," Pilih")),n.createElement(Col,{lg:"11",md:"11",sm:"9",xs:"11"},!p||r.isUndefined(p)||r.isEmpty(p)?"":h(p))),n.createElement(Modal,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",show:l,onHide:_},n.createElement(ModalHeader,{closeButton:!0,toggle:_},n.createElement(Modal.Title,null,e.placeholder||"Pilih")),n.createElement(ModalBody,null,n.createElement(P,{isClearable:!0,id:a,isSearchable:!0,isHtml:e.isHtml,isMulti:e.isMultiple,placeholder:e.placeholder?e.placeholder:"Pilih",getOptionLabel:h,getOptionValue:function(t){return t[e.optionValue]},noOptionsMessage:function(){return"Data tidak ditemukan"},value:p,onChange:v,options:f,isDisabled:e.disabled})))):n.createElement(P,{menuPortalTarget:document.body,menuPosition:"fixed",styles:{menuPortal:function(e){return L({},e,{fontFamily:"inherit",fontSize:"inherit",zIndex:9999})},menu:function(e){return L({},e,{fontFamily:"inherit",fontSize:"inherit",zIndex:"9999 !important"})},multiValueRemove:function(e){return L({},e,{color:"#db2828",cursor:"pointer"})},placeholder:function(e){return L({},e,{fontFamily:"inherit",fontSize:"inherit"})},multiValue:function(e){return L({},e,{background:"none"})},multiValueLabel:function(e){return L({},e,{fontFamily:"inherit",fontSize:"inherit"})},option:function(e){return L({},e,{fontFamily:"inherit",fontSize:"inherit"})},clearIndicator:function(e,t){return L({},e,{cursor:"pointer",color:"#db2828"})}},className:"tcomponent-select",isClearable:!0,id:a,isSearchable:!0,isHtml:e.isHtml,isMulti:e.isMultiple,placeholder:e.placeholder?e.placeholder:"Pilih",getOptionLabel:h,getOptionValue:function(t){return t[e.optionValue]},noOptionsMessage:function(){return"Data tidak ditemukan"},value:p,onChange:v,options:f,isDisabled:e.disabled})}function ae(e){return n.createElement(c.InputGroup,null,n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:k.faCalendar})),n.createElement(c.Form.Control,{style:{borderLeft:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:e.disabled,name:e.name,value:e.value||"",onClick:e.onClick}))}h();var re=M.css(Z||(Z=V(["\n   position: absolute;\n   top: 50%;\n   left: 50%;\n   margin-top: -25px;\n   margin-left: -50px;\n"])));function le(e){var a=t.useState({}),l=a[0],o=a[1],i=t.useState(!1),u=i[0],d=i[1],f=e.isMultiple,y=e.optionLabel,g=e.separator,h=e.primaryKey,E=e.id,v=e.param,_=s.slug(e.name,"_"),S=s.slug("selected_"+_,"_"),D=m.useDispatch(),k=m.useSelector(function(e){return e.auth})||{},N=m.useSelector(function(e){return e.core.input})||{},w=m.useSelector(function(e){return e.core.filter})||{},C=m.useSelector(function(e){return e.core.parameter})||{};return t.useEffect(function(){var t=process.env.REACT_APP_API_URL+"/"+e.url,n=s.defaultFilterData(w,[],_),a=s.secureData(L({pkey:h,selected:[E],keyword:n.keyword,load:1,page:1},v)),r={method:"POST",headers:s.setAuthHeader(k),url:t,data:a};d(!0),p(r).then(function(e){o(e.data.data.data[0]),d(!1)}).catch(function(e){d(!1)})},[E]),n.createElement(n.Fragment,null,!l||r.isUndefined(l)||r.isEmpty(l)?u?n.createElement(O,null):"":[function(e){if(r.isArray(y)){var t=[];g=g||" | ";for(var n=0;n<=y.length-1;n++)e[y[n]]&&!r.isUndefined(e[y[n]])&&t.push(e[y[n]]);return t.join(g)}return e[y]?e[y]:""}(l),!e.isReadonly&&n.createElement(c.Button,{variant:"link",onClick:function(t){if(o(null),r.isObject(e.optionValue)&&Object.keys(e.optionValue).map(function(t,n){D({type:"SET_INPUT",payload:{key:e.optionValue[t],value:null}})}),f){var n=r.filter(s.findArrayName(_,N),function(e){return e!=t}),a=r.filter(s.findArrayName(S,N),function(e){return e!=t}),l=r.filter(s.findArrayName(S,C),function(e){return e[h]!=t});D({type:"SET_INPUT",payload:{key:_,value:n}}),D({type:"SET_INPUT",payload:{key:S,value:a}}),D({type:"SET_PARAMETER",payload:{key:S,value:l}})}else D({type:"SET_INPUT",payload:{key:_,value:null}}),D({type:"SET_INPUT",payload:{key:S,value:null}}),D({type:"SET_PARAMETER",payload:{key:S,value:{}}})}.bind(null,l[h]),style:{borderRadius:100,zIndex:0}},n.createElement(b.FontAwesomeIcon,{color:"#db2828",icon:Y.faTimes}))])}function oe(e){var t={chart:{width:"auto"}},a=e.series||[];if((r.isUndefined(e.series)||r.isNull(e.series)||!r.isArray(e.series))&&r.isArray(e.options)&&!r.isUndefined(e.optionValue)&&!r.isNull(e.optionValue))for(var l=0;l<e.options.length;l++)if(r.isString(e.optionValue))a.push(e.options[l][e.optionValue]);else if(r.isPlainObject(e.optionValue))!function(){var t={};Object.keys(e.optionValue).map(function(n,a){t[e.optionValue[n]]=e.options[l][n]}),a.push(t)}();else if(r.isArray(e.optionValue)){for(var o=[],i=0;i<e.optionValue.length;i++)o.push(e.options[l][e.optionValue[i]]);a.push(o)}r.isUndefined(e.dataLabels)||r.isNull(e.dataLabels)||!r.isPlainObject(e.dataLabels)||(t.dataLabels=e.dataLabels);var u,c=" ";if(r.isUndefined(e.separator)||r.isNull(e.separator)||!r.isPlainObject(e.separator)||(c=e.separator),r.isUndefined(e.labels)||r.isNull(e.labels)||!r.isArray(e.labels)){if(r.isArray(e.options)&&!r.isUndefined(e.optionLabel)&&!r.isNull(e.optionLabel))for(t.labels=[],l=0;l<e.options.length;l++)if(r.isString(e.optionLabel))t.labels.push(e.options[l][e.optionLabel]);else if(r.isArray(e.optionLabel)){var d=[];for(i=0;i<e.optionLabel.length;i++)d.push(e.options[l][e.optionLabel[i]]);t.labels.push(d.join(c))}}else t.labels=e.labels;if(r.isUndefined(e.colors)||r.isNull(e.colors)||!r.isArray(e.colors)){if(r.isArray(e.options)&&!r.isUndefined(e.optionColor)&&!r.isNull(e.optionColor)&&r.isString(e.optionColor))for(t.colors=[],l=0;l<e.options.length;l++)t.colors.push(e.options[l][e.optionColor])}else t.colors=e.colors;return r.isUndefined(e.locales)||r.isNull(e.locales)||!r.isArray(e.locales)||(t.chart.locales=e.locales),r.isUndefined(e.type)||r.isNull(e.type)||!r.isString(e.type)||(t.chart.type=e.type),r.isUndefined(e.animations)||r.isNull(e.animations)||!r.isPlainObject(e.animations)||(t.chart.animations=e.animations),r.isUndefined(e.background)||r.isNull(e.background)||!r.isString(e.background)||(t.chart.background=e.background),r.isUndefined(e.brush)||r.isNull(e.brush)||!r.isPlainObject(e.brush)||(t.chart.brush=e.brush),r.isUndefined(e.defaultLocale)||r.isNull(e.defaultLocale)||!r.isString(e.defaultLocale)||(t.chart.defaultLocale=e.defaultLocale),r.isUndefined(e.dropShadow)||r.isNull(e.dropShadow)||!r.isPlainObject(e.defaultLocale)||(t.chart.dropShadow=e.dropShadow),r.isUndefined(e.fontFamily)||r.isNull(e.fontFamily)||!r.isString(e.fontFamily)||(t.chart.fontFamily=e.fontFamily),r.isUndefined(e.foreColor)||r.isNull(e.foreColor)||!r.isString(e.foreColor)||(t.chart.foreColor=e.foreColor),r.isUndefined(e.group)||r.isNull(e.group)||!r.isString(e.group)||(t.chart.group=e.group),r.isUndefined(e.events)||r.isNull(e.events)||!r.isPlainObject(e.events)||(t.chart.events=e.events),r.isUndefined(e.height)||r.isNull(e.height)||!r.isString(e.height)&&!r.isNumber(e.height)||(t.chart.height=e.height),r.isUndefined(e.id)||r.isNull(e.id)||!r.isString(e.id)||(t.chart.id=s.slug(e.id)),r.isUndefined(e.name)||r.isNull(e.name)||!r.isString(e.name)||(t.chart.id=s.slug(e.name)),r.isUndefined(e.offsetX)||r.isNull(e.offsetX)||!r.isNumber(e.offsetX)||(t.chart.offsetX=e.offsetX),r.isUndefined(e.offsetY)||r.isNull(e.offsetY)||!r.isNumber(e.offsetY)||(t.chart.offsetY=e.offsetY),r.isUndefined(e.parentHeightOffset)||r.isNull(e.parentHeightOffset)||!r.isNumber(e.parentHeightOffset)||(t.chart.parentHeightOffset=e.parentHeightOffset),r.isUndefined(e.redrawOnParentResize)||r.isNull(e.redrawOnParentResize)||!r.isBoolean(e.redrawOnParentResize)||(t.chart.redrawOnParentResize=e.redrawOnParentResize),r.isUndefined(e.redrawOnWindowResize)||r.isNull(e.redrawOnWindowResize)||!r.isBoolean(e.redrawOnWindowResize)||(t.chart.redrawOnWindowResize=e.redrawOnWindowResize),r.isUndefined(e.selection)||r.isNull(e.selection)||!r.isPlainObject(e.selection)||(t.chart.selection=e.selection),r.isUndefined(e.sparkline)||r.isNull(e.sparkline)||!r.isBoolean(e.sparkline)||(t.chart.sparkline=e.sparkline),r.isUndefined(e.stacked)||r.isNull(e.stacked)||!r.isBoolean(e.stacked)||(t.chart.stacked=e.stacked),r.isUndefined(e.stackType)||r.isNull(e.stackType)||!r.isString(e.stackType)||(t.chart.stackType=e.stackType),r.isUndefined(e.toolbar)||r.isNull(e.toolbar)||!r.isPlainObject(e.toolbar)||(t.chart.toolbar=e.toolbar),r.isUndefined(e.width)||r.isNull(e.width)||!r.isString(e.width)&&!r.isNumber(e.width)||(t.chart.width=e.width),r.isUndefined(e.zoom)||r.isNull(e.zoom)||!r.isPlainObject(e.zoom)||(t.chart.zoom=e.zoom),r.isUndefined(e.fill)||r.isNull(e.fill)||!r.isPlainObject(e.fill)||(t.fill=e.fill),r.isUndefined(e.forecastDataPoints)||r.isNull(e.forecastDataPoints)||!r.isPlainObject(e.forecastDataPoints)||(t.forecastDataPoints=e.forecastDataPoints),r.isUndefined(e.grid)||r.isNull(e.grid)||!r.isPlainObject(e.grid)||(t.grid=e.grid),r.isUndefined(e.legend)||r.isNull(e.legend)||!r.isPlainObject(e.legend)||(t.legend=e.legend),r.isUndefined(e.markers)||r.isNull(e.markers)||!r.isPlainObject(e.markers)||(t.markers=e.markers),r.isUndefined(e.noData)||r.isNull(e.noData)||!r.isPlainObject(e.noData)||(t.noData=e.noData),r.isUndefined(e.states)||r.isNull(e.states)||!r.isPlainObject(e.states)||(t.states=e.states),r.isUndefined(e.stroke)||r.isNull(e.stroke)||!r.isPlainObject(e.stroke)||(t.stroke=e.stroke),r.isUndefined(e.subtitle)||r.isNull(e.subtitle)||!r.isPlainObject(e.subtitle)||(t.subtitle=e.subtitle),r.isUndefined(e.theme)||r.isNull(e.theme)||!r.isPlainObject(e.theme)||(t.theme=e.theme),r.isUndefined(e.title)||r.isNull(e.title)||!r.isPlainObject(e.title)||(t.title=e.title),r.isUndefined(e.tooltip)||r.isNull(e.tooltip)||!r.isPlainObject(e.tooltip)||(t.tooltip=e.tooltip),r.isUndefined(e.xaxis)||r.isNull(e.xaxis)||!r.isPlainObject(e.xaxis)||(t.xaxis=e.xaxis),r.isUndefined(e.yaxis)||r.isNull(e.yaxis)||!r.isPlainObject(e.yaxis)||(t.yaxis=e.yaxis),r.isUndefined(e.plotOptions)||r.isNull(e.plotOptions)||!r.isPlainObject(e.plotOptions)||(t.plotOptions=((u={})[t.chart.type]=e.plotOptions,u)),n.createElement(F,{options:t,series:a,type:t.chart.type})}exports.ChartArea=function(e){return n.createElement(oe,L({},e,{type:"area"}))},exports.ChartBar=function(e){return n.createElement(oe,L({},e,{type:"bar"}))},exports.ChartBoxPlot=function(e){return n.createElement(oe,L({},e,{type:"boxPlot"}))},exports.ChartBubble=function(e){return n.createElement(oe,L({},e,{type:"bubble"}))},exports.ChartCandleStick=function(e){return n.createElement(oe,L({},e,{type:"candlestick"}))},exports.ChartDonut=function(e){return n.createElement(oe,L({},e,{type:"donut"}))},exports.ChartHeatMap=function(e){return n.createElement(oe,L({},e,{type:"heatmap"}))},exports.ChartHistogram=function(e){return n.createElement(oe,L({},e,{type:"histogram"}))},exports.ChartLine=function(e){return n.createElement(oe,L({},e,{type:"line"}))},exports.ChartPie=function(e){return n.createElement(oe,L({},e,{type:"pie"}))},exports.ChartPolarArea=function(e){return n.createElement(oe,L({},e,{type:"polarArea"}))},exports.ChartRadar=function(e){return n.createElement(oe,L({},e,{type:"radar"}))},exports.ChartRadial=function(e){return n.createElement(oe,L({},e,{type:"radialBar"}))},exports.ChartRange=function(e){return n.createElement(oe,L({},e,{type:"rangeBar"}))},exports.ChartScatter=function(e){return n.createElement(oe,L({},e,{type:"scatter"}))},exports.ChartTreeMap=function(e){return n.createElement(oe,L({},e,{type:"treemap"}))},exports.DataTable=Q,exports.DataTableContainer=J,exports.Field=function(e){var t=[];if(r.isArray(e.errorMessage))for(var a=0;a<e.errorMessage.length;a++){var l=e.errorMessage[a];if(r.isArray(l))for(var o=0;o<l.length;o++)t.push(l[o]);else t.push(l)}else t.push(e.errorMessage);return n.createElement(c.Form.Group,{as:c.Row},n.createElement(c.Form.Label,{column:!0,md:e.labelSize?e.labelSize:3},e.label?e.label:"Label",e.isRequired&&n.createElement("span",{className:"text-danger"}," *"),e.hint&&n.createElement("small",{className:"form-text text-muted"},e.hint)),n.createElement(c.Col,{md:e.inputSize?e.inputSize:9},e.children,n.createElement(c.Form.Text,{className:"text-danger"},t.length>0&&t.join(", "))))},exports.InputChoose=function(e){var t=r.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),a=m.useDispatch(),l=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},o=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.parameter})||{},i=s.findArrayName(t,l)||null,d=(s.findArrayName("selected_"+t,o),e.type||"inline"),p=[];try{p=e.options.length>0?e.options:[]}catch(e){}function f(t){var n=[];if(r.isArray(e.optionLabel))for(var a=0;a<=e.optionLabel.length-1;a++)n.push(t[e.optionLabel[a]]);else n.push(t[e.optionLabel]);return n}function y(n,l){a({type:"SET_INPUT",payload:{key:s.slug(String(n),"_"),value:l}});var o=null;if(e.isMultiple){o=[];try{if(r.isArray(p)&&r.isArray(l))for(var i=0;i<p.length;i++)for(var u=0;u<l.length;u++){var c=p[i],d=l[u];String(c[e.optionValue])==String(d)&&o.push(c)}}catch(e){}0==o.length&&(o=null)}else o=r.find(p,function(t){return String(t[e.optionValue])==String(l)}.bind(this))||{},r.isEmpty(o)&&(o=null);r.isUndefined(o)||a({type:"SET_PARAMETER",payload:{key:"selected_"+t,value:o}})}function g(n){if(!e.isReadonly&&t)try{if(e.isMultiple){for(var a=i||[],r=!1,l=[],o=0;o<a.length;o++){var s=a[o];s==n[e.optionValue]?r=!0:l.push(s)}r||l.push(n[e.optionValue]),y(t,l)}else{var u=i;e.value&&(u=e.value);var c=null;u!=n[e.optionValue]&&(c=n[e.optionValue]),y(t,c)}}catch(e){console.log(e),y(t,null)}}return n.createElement("div",{className:"custom-controls-stacked"},p.map(function(a){var l=!1;try{l=e.isMultiple?r.includes(i,a[e.optionValue]):r.isEqual(i,a[e.optionValue])}catch(e){}return n.createElement(n.Fragment,null,n.createElement(c.Form.Check,{inline:"inline"===d,disabled:e.disabled||e.isReadonly,type:e.isMultiple?"checkbox":"radio",name:t,onChange:function(e){return g(a)},value:a,checked:l,label:f(a).map(function(t,a){return r.isEqual(String(t).substring(0,3),"AT-")?n.createElement(z,{value:t,isReadonly:!0,preview:!0}):e.isHtml?u(String(t)):t})}))}))},exports.InputColor=function(e){var a=t.useState(!1),l=a[0],o=a[1],i=r.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),u=m.useDispatch(),d=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},p=(m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.parameter}),s.findArrayName(i,d)||"");function f(){o(!l)}return n.createElement(n.Fragment,null,l?n.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:999}},n.createElement(R.SketchPicker,{color:p,onChangeComplete:function(e){var t;t=e.hex,u({type:"SET_INPUT",payload:{key:s.slug(String(i),"_"),value:t}}),function(e,t){u({type:"SET_PARAMETER",payload:{key:s.slug(String(e),"_"),value:t}})}("selected_"+i,e)}}),n.createElement(c.Button,{style:{marginTop:10,backgroundColor:p,border:0},className:"btn btn-primary",onClick:f,type:"button"},"Pilih")):n.createElement(c.Button,{style:{zIndex:0,backgroundColor:p,border:0},className:"btn btn-primary",onClick:f,type:"button"},"Pilih"))},exports.InputDate=function(e){var t=r.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),a=m.useDispatch(),l=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},o=s.findArrayName(t,l)||null,i=s.findArrayName("start_"+t,l)||null,u=s.findArrayName("end_"+t,l)||null;if(e.isRange){try{i=h(i,"YYYY-MM-DD").isValid()?h(i,"YYYY-MM-DD").toDate():null}catch(e){}try{u=h(u,"YYYY-MM-DD").isValid()?h(u,"YYYY-MM-DD").toDate():null}catch(e){}}else try{o=h(o,"YYYY-MM-DD").isValid()?h(o,"YYYY-MM-DD").toDate():null}catch(e){}function c(e,t){a({type:"SET_INPUT",payload:{key:s.slug(String(e),"_"),value:h(t,"YYYY-MM-DD").isValid()?h(t,"YYYY-MM-DD").format("YYYY-MM-DD"):""}})}var d=e.dateFormat?e.dateFormat:"yyyy-MM-dd";function p(e){var t=h(e).format("d");return 5==t||6==t?"weekend":void 0}return e.isRange?e.disabled||e.isReadonly?(h(i,"YYYY-MM-DD").isValid()?h(i,"YYYY-MM-DD").format("DD-MM-YYYY"):"")+" - "+(h(u,"YYYY-MM-DD").isValid()?h(u,"YYYY-MM-DD").format("DD-MM-YYYY"):""):n.createElement("div",{className:"input-daterange input-group"},n.createElement(D,{minDate:h(e.minDate,"YYYY-MM-DD").isValid()?h(e.minDate,"YYYY-MM-DD").toDate():null,maxDate:h(e.maxDate,"YYYY-MM-DD").isValid()?h(e.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:d,placeholder:e.placeholder?e.placeholder:"Tanggal",selected:i,isClearable:!e.disabled&&!e.isReadonly,customInput:n.createElement(j,{value:i,name:"start_"+t}),onChange:function(e){e=h(e,"YYYY-MM-DD").isValid()?h(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,c("start_"+t,e)},selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,showYearPicker:!1,name:"start_"+t,todayButton:"Hari ini",dayClassName:p,dropdownMode:"select",disabled:e.disabled||e.isReadonly,readOnly:e.disabled||e.isReadonly,startDate:i,endDate:u,shouldCloseOnSelect:!0}),n.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),n.createElement(D,{minDate:h(i,"YYYY-MM-DD").isValid()?h(i,"YYYY-MM-DD").toDate():h(e.minDate,"YYYY-MM-DD").isValid()?h(e.minDate,"YYYY-MM-DD").toDate():null,maxDate:h(e.maxDate,"YYYY-MM-DD").isValid()?h(e.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:d,placeholder:e.placeholder?e.placeholder:"Tanggal",selected:u,isClearable:!e.disabled&&!e.isReadonly,name:"end_"+t,selectsEnd:!0,customInput:n.createElement(j,{value:u,name:"end_"+t}),onChange:function(e){e=h(e,"YYYY-MM-DD").isValid()?h(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,c("end_"+t,e)},selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,showYearPicker:!1,dayClassName:p,todayButton:"Hari ini",dropdownMode:"select",startDate:i,endDate:u,disabled:e.disabled||e.isReadonly,readOnly:e.disabled||e.isReadonly,shouldCloseOnSelect:!0})):e.disabled||e.isReadonly?h(e.input[t],"YYYY-MM-DD").isValid()?h(e.input[t],"YYYY-MM-DD").format("DD-MM-YYYY"):"":n.createElement(D,{minDate:h(e.minDate,"YYYY-MM-DD").isValid()?h(e.minDate,"YYYY-MM-DD").toDate():null,maxDate:h(e.maxDate,"YYYY-MM-DD").isValid()?h(e.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:d,placeholder:e.placeholder?e.placeholder:"Tanggal",customInput:n.createElement(j,{value:o,name:t}),selected:o,isClearable:!e.disabled&&!e.isReadonly,id:t,className:"form-control",dayClassName:p,onChange:function(e){e=h(e,"YYYY-MM-DD").isValid()?h(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,c(t,e)},selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,showYearPicker:!1,todayButton:"Hari ini",dropdownMode:"select",disabled:e.disabled||e.isReadonly,readOnly:e.disabled||e.isReadonly,shouldCloseOnSelect:!0})},exports.InputDateTime=function(e){var t=r.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),a=m.useDispatch(),l=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},o=s.findArrayName(t,l)||null,i=s.findArrayName("start_"+t,l)||null,u=s.findArrayName("end_"+t,l)||null;if(e.isRange){try{i=h(i,$).isValid()?h(i,$).toDate():null}catch(e){}try{u=h(u,$).isValid()?h(u,$).toDate():null}catch(e){}}else try{o=h(o,$).isValid()?h(o,$).toDate():null}catch(e){}function c(e,t){a({type:"SET_INPUT",payload:{key:s.slug(String(e),"_"),value:h(t,$).isValid()?h(t,$).format($):""}})}var d=e.dateFormat?e.dateFormat:"yyyy-MM-dd HH:mm:ss";function p(e){var t=h(e).format("d");return 5==t||6==t?"weekend":void 0}return e.isRange?e.disabled||e.isReadonly?n.createElement("div",{className:"input-daterange input-group"},h(i,$).isValid()?h(i,$).format("DD-MM-YYYY HH:mm:ss"):null,n.createElement("span",{style:{background:"none"}},"  s/d  "),h(u,$).isValid()?h(u,$).format("DD-MM-YYYY HH:mm:ss"):null):n.createElement("div",{className:"input-daterange input-group",style:{background:"none"}},n.createElement(D,{minDate:h(e.minDate,$).isValid()?h(e.minDate,$).toDate():null,maxDate:h(e.maxDate,$).isValid()?h(e.maxDate,$).toDate():null,dateFormat:d,placeholder:e.placeholder?e.placeholder:"Tanggal & Waktu",selected:i,isClearable:!e.disabled&&!e.isReadonly,customInput:n.createElement(ee,{value:i,name:"start_"+t}),onChange:function(e){e=h(e,$).isValid()?h(e,$).format($):null,c("start_"+t,e)},timeInputLabel:"Waktu : ",showTimeInput:!0,selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,id:"start_"+t,name:"start_"+t,todayButton:"Hari ini",dayClassName:p,dropdownMode:"select",startDate:i,endDate:u,shouldCloseOnSelect:!0}),n.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),n.createElement(D,{minDate:h(i,$).isValid()?h(i,$).toDate():h(e.minDate,$).isValid()?h(e.minDate,$).toDate():null,maxDate:h(e.maxDate,$).isValid()?h(e.maxDate,$).toDate():null,dateFormat:d,placeholder:e.placeholder?e.placeholder:"Tanggal & Waktu",selected:u,isClearable:!e.disabled&&!e.isReadonly,id:"end_"+t,name:"end_"+t,selectsEnd:!0,timeInputLabel:"Waktu : ",showTimeInput:!0,customInput:n.createElement(ee,{value:u,name:"end_"+t}),onChange:function(e){e=h(e,$).isValid()?h(e,$).format($):null,c("end_"+t,e)},peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dayClassName:p,todayButton:"Hari ini",dropdownMode:"select",startDate:i,endDate:u,shouldCloseOnSelect:!0})):e.disabled||e.isReadonly?n.createElement("div",{className:"input-daterange input-group"},h(o,$).isValid()?h(o,$).format("DD-MM-YYYY HH:mm:ss"):null):n.createElement(D,{minDate:h(e.minDate,$).isValid()?h(e.minDate,$).toDate():null,maxDate:h(e.maxDate,$).isValid()?h(e.maxDate,$).toDate():null,dateFormat:d,placeholder:e.placeholder?e.placeholder:"Tanggal & Waktu",selected:o,isClearable:!e.disabled&&!e.isReadonly,id:t,className:"form-control",customInput:n.createElement(ee,{value:o,name:t}),dayClassName:p,onChange:function(e){e=h(e,$).isValid()?h(e,$).format($):null,c(t,e)},peekNextMonth:!0,timeInputLabel:"Waktu : ",showTimeInput:!0,showMonthDropdown:!0,showYearDropdown:!0,todayButton:"Hari ini",dropdownMode:"select",shouldCloseOnSelect:!0})},exports.InputFile=z,exports.InputNumber=function(e){var t=r.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),l=m.useDispatch(),o=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},i=s.findArrayName(t,o)||null,u=e.enableNegative?{numeral:!0}:{numeral:!0,numeralPositiveOnly:!0};function c(t,n,a){return void 0===n&&(n=0),void 0===a&&(a=100),e.enableNegative&&t<0&&(n=-a),isNaN(t)&&(t=n),(t=parseFloat(t))>=a?t=a:t<=n&&(t=n),t?Number(t):null}return"decimal"==e.type||"percent"==e.type||"range_three"==e.type||(u.numeralThousandsGroupStyle="thousand"),e.disabled||e.isReadonly?r.isNull(i)||r.isUndefined(i)?null:s.numberFormat(i,""):"range"==e.type?n.createElement(N,{maxValue:e.maxValue,minValue:e.minValue,value:i,onChange:this.onChange}):n.createElement(a,{placeholder:e.placeholder?e.placeholder:"",id:t,name:t,onInit:function(e){},value:i,onChange:function(n){var a=r.isNumber(a)?Number(a):Number(n.target.value.replace(/[^0-9.-]+/g,""));console.log(a),"decimal"==e.type?(a=Number(a),console.log("COND A")):"percent"==e.type?(a=c(a,0,100),console.log("COND B")):"range_three"==e.type?a=c(a,1,3):"range_hundred"==e.type?(a=c(a,1,100),console.log("COND C")):"range_depend"==e.type&&(a=c(a,0,100),console.log("COND D"));var o=e.minValue?Number(e.minValue):null,i=e.maxValue?Number(e.maxValue):null;i&&o?(a=c(a,o,i),console.log("COND F")):!i&&o?(a=c(a,o,999999999999),console.log("COND G")):i&&!o&&(a=c(a,0,i),console.log("COND H")),a=function(e){!function(e,t){l({type:"SET_INPUT",payload:{key:s.slug(String(e),"_"),value:t}})}(t,e)}(a)},options:u,className:"form-control"})},exports.InputSelect=ne,exports.InputSelectFetch=function(e){var a=e.isMultiple,l=e.defaultValue,o=e.optionLabel,i=e.separator,u=m.useDispatch(),d=m.useSelector(function(e){return e.auth})||{},f=m.useSelector(function(e){return e.core.input})||{},y=m.useSelector(function(e){return e.core.filter})||{},g=m.useSelector(function(e){return e.core.parameter})||{},h=t.useState(!1),E=h[0],v=h[1],_=(t.useState(!1),t.useState(!1)),S=_[0],D=_[1],k=t.useState(!1),N=k[0],w=k[1],C=t.useState({}),A=C[0],x=C[1],I=(t.useState(a?[]:{}),t.useState(0)[1]),P=t.useState(!1),M=P[0],R=P[1],F=(t.useState(1),s.slug(e.name,"_")),U=s.slug("selected_"+F,"_"),V=(t.useState(e.label?e.label:s.findArrayName(F,f)),t.useRef()),H=T.useIsVisible(V),B=t.useState([]),z=B[0],q=B[1],j=t.useState({}),G=j[0],K=j[1],X=e.primaryKey?e.primaryKey:"id";function Q(e){var t=[];if(i=i||" | ",r.isArray(o)){for(var n=0;n<=o.length-1;n++)e[o[n]]&&!r.isUndefined(e[o[n]])&&t.push(e[o[n]]);return t.join(i)}return e[o]?e[o]:""}var Z=[{Header:"#",id:F+"_check",Cell:function(t){var l=m.useSelector(function(e){return e.core.input}),o=!1,i=s.findArrayName(U,l);try{o=a?r.findIndex(i,function(e){return e===t.row.original[X]})>-1:i===t.row.original[X]}catch(e){}return t.row.original[X]?n.createElement(c.Form.Check,{inline:!0,id:s.slug(F+"_check_"+t.row.original[X],"_"),name:s.slug(F+"_check_"+t.row.original[X],"_"),style:{zIndex:100},type:a?"checkbox":"radio",value:1,checked:o,disabled:e.isReadonly,onChange:function(){return function(e,t,n){void 0===n&&(n=!1);var l=e.row.original||{};if(a){var o=[],i=s.findArrayName(U,t);n?o=r.filter(i,function(e){return e&&l&&String(e)!=String(l[X])})||[]:(r.isArray(o=i||[])||(o=[]),l[X]&&o.push(l[X])),o=r.uniq(o),o=r.filter(o,function(e){return!r.isNull(e)&&!r.isUndefined(e)})||[],u({type:"SET_INPUT",payload:{key:U,value:o}})}else u({type:"SET_INPUT",payload:{key:U,value:l[X]}})}(t,l,o)}}):null}}].concat([{Header:"Keterangan",id:"label",accessor:function(e){return Q(e)}}]);function $(){M&&te()}s.useDebounce(function(){if(a){var t=r.filter(s.findArrayName(U,f),function(e){return!r.isNull(e)&&!r.isUndefined(e)})||[];if(t.length>0){var n=process.env.REACT_APP_API_URL+"/"+e.url,l=s.defaultFilterData(y,[],F),o=s.secureData(L({pkey:X,selected:t,keyword:l.keyword,load:t.length,page:1},e.parameter)),i={method:"POST",headers:s.setAuthHeader(d),url:n,data:o};D(!0),p(i).then(function(e){u({type:"SET_PARAMETER",payload:{key:U,value:e.data.data.data}}),ne(e.data.data.data),D(!1)}).catch(function(e){D(!1)})}else u({type:"SET_PARAMETER",payload:{key:U,value:null}})}else{var c=s.findArrayName(U,f)||null;if(c){var m=process.env.REACT_APP_API_URL+"/"+e.url,g=s.defaultFilterData(y,[],F),h=s.secureData(L({pkey:X,selected:[c],keyword:g.keyword,load:1,page:1},e.parameter)),E={method:"POST",headers:s.setAuthHeader(d),url:m,data:h};D(!0),p(E).then(function(e){var t=e.data.data.data[0]||{};u({type:"SET_PARAMETER",payload:{key:U,value:t}}),ne(t),D(!1)}).catch(function(e){D(!1)})}else u({type:"SET_PARAMETER",payload:{key:U,value:null}})}},400,[s.findArrayName(U,f)]),s.useDebounce($,400,[s.findArrayName("keyword_"+F,y),s.findArrayName("page_"+F,y),s.findArrayName("load_"+F,y)]);var ee=n.useMemo(function(){return Z},[]);function te(){var t=process.env.REACT_APP_API_URL+"/"+e.url,n=s.defaultFilterData(y,[],F),a=s.secureData(L({pkey:X,page:n.page,load:n.load,keyword:n.keyword,sorted:n.sorted,search:n.search},e.parameter)),r={method:"POST",headers:s.setAuthHeader(d),url:t,data:a};return w(!0),p(r).then(function(e){var t=e.data||{};if(void 0!==t.data.data){I(t.data.meta.last_page);try{q(t.data.data||[])}catch(e){}try{K(t.data.meta||{})}catch(e){}}else if(void 0!==t.data){I(t.meta.last_page);try{q(t.data||[])}catch(e){}try{K(t.meta||{})}catch(e){}}w(!1)}).catch(function(e){w(!1)})}function ne(t){a?function(t){if(r.isObject(e.optionValue))Object.keys(e.optionValue).map(function(n,a){var l=e.optionValue[n],o=null;if(t)try{o=r.uniq(r.map(t,n))}catch(e){}r.isEqual(s.findArrayName(l,f),o)||u({type:"SET_INPUT",payload:{key:l,value:o}})});else{var n=F,a=null;t&&(a=r.uniq(r.map(t,X))),r.isEqual(s.findArrayName(n,f),a)||u({type:"SET_INPUT",payload:{key:n,value:a}})}}(t):function(t){if(r.isObject(e.optionValue))Object.keys(e.optionValue).map(function(n,a){var l=e.optionValue[n],o=null;if(t)try{o=t[n]}catch(e){}r.isEqual(s.findArrayName(l,f),o)||u({type:"SET_INPUT",payload:{key:l,value:o}})});else{var n=F,a=null;t&&(a=t[X]),r.isEqual(s.findArrayName(n,f),a)||u({type:"SET_INPUT",payload:{key:n,value:a}})}}(t)}t.useEffect(function(){r.isEqual(e.parameter,A)||(x(e.parameter),$()),H!=E&&v(H)}),t.useEffect(function(){u({type:"SET_FILTER",payload:{key:s.slug("show_"+F,"_"),value:M}})},[M]),t.useEffect(function(){if(E){var e=null;try{a?(e=r.map(l,"value"),e=r.filter(e,function(e){return e})||[]):e=l.value||null}catch(e){}var t=s.findArrayName(U,f)||null;r.isEqual(e,t)||(r.isNull(e)&&!r.isNull(t)?u({type:"SET_INPUT",payload:{key:U,value:t}}):!r.isNull(e)&&r.isNull(t)?u({type:"SET_INPUT",payload:{key:U,value:e}}):r.isNull(e)||r.isNull(t)?u({type:"SET_INPUT",payload:{key:U,value:null}}):u({type:"SET_INPUT",payload:{key:U,value:e}}))}},[E]),t.useEffect(function(){var e=null;try{e=a?r.filter(r.map(l,"value"),function(e){return e})||null:l.value||null}catch(e){}e&&u({type:"SET_INPUT",payload:{key:U,value:e}})},[]);var ae=[],re=s.findArrayName(U,f);try{ae=a?r.isArray(re)?re:[]:re?[re]:[]}catch(e){}var oe=s.findArrayName(U,g),ie=null;try{ie=a?r.isArray(oe)?oe:[]:r.isObject(oe)?oe:{}}catch(e){}return n.createElement("div",{ref:V},n.createElement(c.Row,null,!e.isReadonly&&n.createElement(c.Col,{lg:"2",md:"2",sm:"4",xs:"12"},n.createElement(c.Button,{style:{zIndex:0},variant:"primary",type:"button",className:"btn-icon",onClick:function(){u({type:"SET_FILTER",payload:{key:s.slug("page_"+F,"_"),value:1}}),R(function(e){return!e}),te()}},n.createElement(b.FontAwesomeIcon,{icon:Y.faSearch}))),n.createElement(c.Col,{lg:"10",md:"10",sm:"8",xs:"12"},S?n.createElement(O,null):ae.map(function(t,r){return n.createElement(n.Fragment,null,n.createElement(le,{isReadonly:e.isReadonly,name:F,optionLabel:o,separator:i,param:e.parameter,url:e.url,primaryKey:X,isMultiple:a,id:t}),e.isReadonly?ae.length-1==r?null:", ":null)}))),n.createElement(c.Modal,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",show:M},n.createElement(c.Modal.Header,null,n.createElement(c.Modal.Title,null,e.placeholder||"Pilih")),n.createElement(c.Modal.Body,null,n.createElement(W,{isLoading:N},n.createElement("div",null,n.createElement(c.InputGroup,{style:{marginBottom:12}},n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:Y.faSearch})),n.createElement(c.Form.Control,{style:{borderLeft:"none",zIndex:0},className:"form-control",value:s.findArrayName("keyword_"+F,y),onChange:function(e){var t;u({type:"SET_MULTI_FILTER",payload:(t={},t["keyword_"+F]=e.target.value,t["page_"+F]=1,t)})},type:"text",id:"search_"+U,name:"search_"+F,placeholder:"Pencarian"}),n.createElement(c.Button,{style:{zIndex:0},variant:"primary",onClick:$,type:"button",disabled:e.isLoading},n.createElement(b.FontAwesomeIcon,{icon:Y.faSync,spin:e.isLoading}))),n.createElement(J,{name:F,columns:ee,data:z,primaryKey:X,isColumnsSearchable:!0,fetchData:$,loading:N,customPageTotal:G&&!r.isEmpty(G)?G.total:0,customPageCount:G&&!r.isEmpty(G)?G.last_page:1,customPageSize:G&&!r.isEmpty(G)?G.per_page:y["load_"+F]?y["load_"+F]:5,customPageIndex:G&&!r.isEmpty(G)?G.current_page:y["page_"+F]?y["page_"+F]:1}))),!N&&n.createElement(c.Row,{style:{marginTop:12}},n.createElement(c.Col,{lg:"9",md:"8",sm:"6",xs:"12"},n.createElement("p",{style:{marginBottom:"4px"}},"Dipilih : "),S&&n.createElement(O,null),n.createElement("ul",null,a?ie&&ie.map(function(e,t){return n.createElement("li",null,r.isUndefined(e)||r.isEmpty(e)?"":Q(e))}):ie&&n.createElement("li",null,r.isUndefined(ie)||r.isEmpty(ie)?"":Q(ie)))),n.createElement(c.Col,{lg:"3",md:"4",sm:"6",xs:"12"},n.createElement(c.Button,{variant:"primary",type:"button",className:"btn-icon",style:{float:"right"},onClick:function(){R(!1)}},n.createElement(b.FontAwesomeIcon,{icon:Y.faCheck})))))))},exports.InputTag=function(e){var a=t.useState([]),l=a[0],o=a[1],i=r.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),u=m.useDispatch(),c=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},d=(m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.parameter}),s.findArrayName(i,c)||""),p=t.useState([]),f=p[0],y=p[1];return t.useEffect(function(){var t=[],n=[];try{if(r.isArray(e.options))for(var a=0;a<e.options.length;a++){var l=e.options[a];_.isEmpty(l[e.optionValue])||t.push({name:l[e.optionValue]})}}catch(e){}var i=d?String(d).split("|"):[];try{if(r.isArray(i))for(var s=0;s<i.length;s++){var u=i[s];_.isEmpty(u)||n.push({name:u})}}catch(e){}o(t),y(_.uniqBy(n,"name"))},[d]),n.createElement(I,{minQueryLength:1,noSuggestionsText:"Tidak ada usulan",tags:f,id:i,removeButtonText:"Klik untuk menghapus",delimiters:["Enter","Tab"],placeholderText:e.placeholder?e.placeholder:"Dipisah dengan spasi / enter",allowNew:e.isCreateable,suggestions:l,onDelete:function(e){return t=e,(n=f.slice(0)).splice(t,1),void y(n);var t,n},onValidate:function(e){return _.findIndex(f,["name",e.name])<0},onFocus:function(e){},onAddition:function(e){return a=[].concat(f,e),y(_.uniqBy(a,"name")),t=i,n=_.map(a,"name").join("|"),void u({type:"SET_INPUT",payload:{key:s.slug(String(t),"_"),value:n}});var t,n,a}})},exports.InputText=U,exports.InputTime=function(e){var t=r.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),a=m.useDispatch(),l=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},o=s.findArrayName(t,l)||null,i=s.findArrayName("start_"+t,l)||null,u=s.findArrayName("end_"+t,l)||null,c=e.format?e.format:"HH:mm:ss";if(e.isRange){try{i=h(i,c).isValid()?h(i,c):null}catch(e){}try{u=h(u,c).isValid()?h(u,c):null}catch(e){}}else try{o=h(o,c).isValid()?h(o,c):null}catch(e){}function d(e,t){a({type:"SET_INPUT",payload:{key:s.slug(String(e),"_"),value:h(t,c).isValid()?h(t,c).format(c):""}})}return e.isRange?e.disabled||e.isReadonly?n.createElement("div",{className:"input-daterange input-group"},h(i,c).isValid()?h(i,c).format(c):"",n.createElement("span",{style:{background:"none"}},"  s/d  "),h(u,c).isValid()?h(u,c).format(c):""):n.createElement("div",{className:"input-daterange input-group"},n.createElement(x,{value:i,disabled:e.disabled||e.isReadonly,inputIcon:n.createElement(te,null),format:c,onChange:function(e){e=h(e,c).isValid()?h(e,c).format(c):null,d("start_"+t,e)}}),n.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),n.createElement(x,{value:u,disabled:e.disabled||e.isReadonly,inputIcon:n.createElement(te,null),format:c,onChange:function(e){e=h(e,c).isValid()?h(e,c).format(c):null,d("end_"+t,e)}})):e.disabled||e.isReadonly?n.createElement("div",{className:"input-daterange input-group"},h(o,c).isValid()?h(o,c).format(c):""):n.createElement(x,{value:o,disabled:e.disabled||e.isReadonly,inputIcon:n.createElement(te,null),format:c,onChange:function(e){e=h(e,c).isValid()?h(e,c).format(c):null,d(t,e)}})},exports.InputWorkflow=function(e){var a=t.useState(!1),l=a[0],o=a[1],i=t.useState(!1),u=i[0],d=i[1],f=t.useState(!1),y=f[0],g=f[1],E=t.useState(!1),v=E[0],b=E[1],Y=m.useSelector(function(e){return e.auth})||{},_=m.useSelector(function(e){return e.core.input})||{},S=m.useSelector(function(e){return e.core.validation})||[],D=(m.useSelector(function(e){return e.core.parameter}),m.useSelector(function(e){return e.core.filter})||{}),k=m.useDispatch(),N=t.useState({}),w=N[0],C=N[1],A=t.useState({activity:{},role:"",response:[]}),T=A[0],x=A[1],I=e.doAfterSubmit,P=e.isLoading,M=e.doSubmit,R=e.doCancel,F=e.isReadonly,V=e.relation,H=e.id,B=e.isDelete,q=t.useState(F),j=q[0],G=q[1];return t.useEffect(function(){G(F)},[F]),t.useEffect(function(){var e,t;e=process.env.REACT_APP_API_URL+"/komentar_respon?",t={data:s.secureData({relation:V,id:H}),method:"POST",headers:s.setAuthHeader(Y),url:e},b(!0),p(t).then(function(e){var t=e.data.data||{};B&&(t.response=r.filter(t.response,function(e){return"HAPUS"==e.code})),x(t),b(!1)}).catch(function(e){s.fetchErrorDispatch(e,k),b(!1)})},[]),t.useEffect(function(){var e=[];try{e=T.role.split(",")}catch(e){}var t=[];try{t=Y.user.role.split(",")}catch(e){}for(var n=!1,a=!1,l=0;l<t.length;l++)!a&&t[l]&&r.isEqual(String(t[l]).trim().toLowerCase(),"admin")&&(a=!0,n=!0,k({type:"SET_INPUT",payload:{key:"response_role",value:String(t[l]).trim().toLowerCase()}}));if(!a)for(var o=0;o<e.length;o++)for(var i=0;i<t.length;i++)e[o]&&t[i]&&String(e[o]).trim().toLowerCase()==String(t[i]).trim().toLowerCase()&&!n&&(n=!0,k({type:"SET_INPUT",payload:{key:"response_role",value:String(t[i]).trim().toLowerCase()}}));!r.isEmpty(T.activity)&&T.response.length>0&&n&&j&&!F?(G(!1),k({type:"SET_INPUT",payload:{key:"activity",value:T.activity.code}})):G(!0)},[T]),t.useEffect(function(){y&&!r.isEmpty(S)&&g(!1)},[S]),t.useEffect(function(){!y||P||l||(g(!1),r.isEmpty(S)&&I&&I())},[l,S,P]),v?n.createElement(O,null):n.createElement(W,{isLoading:P||y},n.createElement(c.Card,null,n.createElement(c.Card.Body,null,n.createElement(c.Card.Title,{tag:"h5"},T.activity.name||"Alur tidak ditemukan"),n.createElement(c.Card.Text,null,!j&&n.createElement(c.Row,null,n.createElement(c.Col,{lg:"6"},n.createElement(c.Form.Group,{as:c.Row},n.createElement(c.Col,{lg:"3"},n.createElement(c.Form.Label,null,"Respon ",n.createElement("span",{className:"text-danger"},"*"))),n.createElement(c.Col,{lg:"9"},n.createElement(ne,{name:"response_activity",options:T.response,separator:" | ",optionLabel:["name"],optionValue:"code"}))),n.createElement(c.Form.Group,{as:c.Row},n.createElement(c.Col,{lg:"3"},n.createElement(c.Form.Label,null,"Lampiran")),n.createElement(c.Col,{lg:"5"},n.createElement(z,{value:_.attachment,name:"response_attachment",id:"response_attachment"})))),n.createElement(c.Col,{lg:"6"},n.createElement(c.Form.Group,{as:c.Row},n.createElement(c.Col,{lg:"3",style:{marginBottom:35}},n.createElement(c.Form.Label,null,"Komentar")),n.createElement(c.Col,{lg:"9"},n.createElement(U,{type:"textarea",required:!0,name:"response_comment",id:"response_comment",rows:"3"}))))),n.createElement(Q,{data:w,isLoading:u,name:s.slug(e.relation,"_"),primaryKey:"id",isSearchable:!0,isColumnsSearchable:!0,onReload:function(){var t=process.env.REACT_APP_API_URL+"/komentar?",n={};try{n=s.defaultFilterData(D,["user","role","activity","comment","due_datetime","start_datetime","end_datetime"],s.slug(e.relation,"_"))}catch(e){}var a=L({relation:V,id:H},n),r={data:s.secureData(a),method:"POST",headers:s.setAuthHeader(Y),url:t};d(!0),p(r).then(function(e){C(e.data.data),d(!1)}).catch(function(e){s.fetchErrorDispatch(e,k),d(!1)})},columns:[{Header:"Nama",id:"user",accessor:function(e){return e.user}},{Header:"Jabatan",id:"role",accessor:function(e){return e.role}},{Header:"Aktifitas",id:"activity",accessor:function(e){return e.activity}},{Header:"Respon",id:"response",accessor:function(e){return e.response}},{Header:"Komentar",id:"comment",accessor:function(e){return e.comment}},{Header:"Tenggat",id:"due_datetime",accessor:function(e){return e.due_datetime&&h(e.due_datetime).format("DD-MM-YYYY HH:mm")}},{Header:"Mulai",id:"start_datetime",accessor:function(e){return e.start_datetime&&h(e.start_datetime).format("DD-MM-YYYY HH:mm")}},{Header:"Selesai",id:"end_datetime",accessor:function(e){return e.end_datetime&&h(e.end_datetime).format("DD-MM-YYYY HH:mm")}},{Header:"Lampiran",id:"attachment",accessor:function(e){return n.createElement(z,{value:e.attachment,isReadonly:!0})}}]})),n.createElement(c.Row,{className:"mt-2"},n.createElement(c.Col,null,n.createElement(c.Button,{type:"button",className:"btn btn-icon btn-primary float-left",onClick:function(e){R&&R()}},"Kembali"),!j&&n.createElement(c.Button,{type:"button",className:"btn btn-icon btn-primary float-right",onClick:function(e){!_.response_activity||r.isEmpty(_.response_activity)?k({type:"SET_MESSAGE",payload:"Respon wajib diisi"}):(g(!0),o(!0),setTimeout(function(){return o(!1)},1e3),M&&M())}},"Proses"))))))},exports.InputYear=function(e){var t=r.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),a=m.useDispatch(),l=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},o=s.findArrayName(t,l)||null,i=s.findArrayName("start_"+t,l)||null,u=s.findArrayName("end_"+t,l)||null;if(e.isRange){try{i=h(i,"YYYY").isValid()?h(i,"YYYY").toDate():null}catch(e){}try{u=h(u,"YYYY").isValid()?h(u,"YYYY").toDate():null}catch(e){}}else try{o=h(o,"YYYY").isValid()?h(o,"YYYY").toDate():null}catch(e){}function c(e,t){a({type:"SET_INPUT",payload:{key:s.slug(String(e),"_"),value:h(t,"YYYY").isValid()?h(t,"YYYY").format("YYYY"):""}})}return e.isRange?e.disabled||e.isReadonly?(h(i,"YYYY").isValid()?h(i,"YYYY").format("YYYY"):"")+" - "+(h(u,"YYYY").isValid()?h(u,"YYYY").format("YYYY"):""):n.createElement("div",{className:"input-daterange input-group"},n.createElement(D,{minDate:h(e.minDate,"YYYY").isValid()?h(e.minDate,"YYYY").toDate():null,maxDate:h(e.maxDate,"YYYY").isValid()?h(e.maxDate,"YYYY").toDate():null,dateFormat:"yyyy",placeholder:e.placeholder?e.placeholder:"Tanggal",selected:i,isClearable:!e.disabled&&!e.isReadonly,customInput:n.createElement(ae,{value:i,name:"start_"+t}),onChange:function(e){e=h(e,"YYYY").isValid()?h(e,"YYYY").format("YYYY"):null,c("start_"+t,e)},selectsStart:!1,peekNextMonth:!1,showMonthDropdown:!1,showYearDropdown:!1,showYearPicker:!0,name:"start_"+t,todayButton:null,dropdownMode:"select",disabled:e.disabled||e.isReadonly,readOnly:e.disabled||e.isReadonly,startDate:i,endDate:u,shouldCloseOnSelect:!1}),n.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),n.createElement(D,{minDate:h(i,"YYYY").isValid()?h(i,"YYYY").toDate():h(e.minDate,"YYYY").isValid()?h(e.minDate,"YYYY").toDate():null,maxDate:h(e.maxDate,"YYYY").isValid()?h(e.maxDate,"YYYY").toDate():null,dateFormat:"yyyy",placeholder:e.placeholder?e.placeholder:"Tanggal",selected:u,isClearable:!e.disabled&&!e.isReadonly,name:"end_"+t,selectsEnd:!0,customInput:n.createElement(ae,{value:u,name:"end_"+t}),onChange:function(e){e=h(e,"YYYY").isValid()?h(e,"YYYY").format("YYYY"):null,c("end_"+t,e)},selectsStart:!1,peekNextMonth:!1,showMonthDropdown:!1,showYearDropdown:!1,showYearPicker:!0,todayButton:null,dropdownMode:"select",startDate:i,endDate:u,disabled:e.disabled||e.isReadonly,readOnly:e.disabled||e.isReadonly,shouldCloseOnSelect:!1})):e.disabled||e.isReadonly?h(o,"YYYY").isValid()?h(o,"YYYY").format("YYYY"):"":n.createElement(D,{minDate:h(e.minDate,"YYYY").isValid()?h(e.minDate,"YYYY").toDate():null,maxDate:h(e.maxDate,"YYYY").isValid()?h(e.maxDate,"YYYY").toDate():null,dateFormat:"yyyy",placeholder:e.placeholder?e.placeholder:"Tanggal",customInput:n.createElement(ae,{value:o,name:t}),selected:o,isClearable:!e.disabled&&!e.isReadonly,id:t,className:"form-control",onChange:function(e){e=h(e,"YYYY").isValid()?h(e,"YYYY").format("YYYY"):null,c(t,e)},selectsStart:!1,peekNextMonth:!1,showMonthDropdown:!1,showYearDropdown:!1,showYearPicker:!0,todayButton:null,dropdownMode:"select",disabled:e.disabled||e.isReadonly,readOnly:e.disabled||e.isReadonly,shouldCloseOnSelect:!1})},exports.Loading=O,exports.LoadingOverlay=W,exports.LoadingPage=function(){return n.createElement(S,{color:"#000",css:re,size:50})};
//# sourceMappingURL=index.js.map
