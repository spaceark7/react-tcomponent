import e,{useState as t,useRef as n,useEffect as a}from"react";import"react-phone-number-input/style.css";import"bootstrap/dist/css/bootstrap.min.css";import"dropzone/dist/min/dropzone.min.css";import"video-react/dist/video-react.css";import"rc-time-picker/assets/index.css";import"react-datepicker/dist/react-datepicker.css";import"react-input-range/lib/css/index.css";import l from"cleave.js/react";import{isUndefined as r,isEmpty as o,filter as i,isEqual as c,isArray as u,isString as d,includes as s,find as m,isNull as p,isNumber as f,uniqBy as y,findIndex as v,isBoolean as h,uniq as g,map as E,isObject as Y,isPlainObject as b}from"lodash";import k from"react-phone-number-input";import D from"jodit-react";import T from"mousetrap";import{slug as S,findArrayName as x,secureData as w,setAuthHeader as M,numberFormat as C,useDebounce as P,fetchErrorDispatch as R,defaultFilterData as I}from"tcomponent";import N from"html-react-parser";import{Modal as L,Button as V,InputGroup as A,Form as z,ButtonGroup as F,Table as O,Row as H,Col as U,Tooltip as B,DropdownButton as W,Dropdown as j,Card as K}from"react-bootstrap";import"@wiris/mathtype-generic";import G from"react-contenteditable";import{useSelector as q,useDispatch as X}from"react-redux";import J from"axios";import Q from"react-dropzone-component";import{Player as Z}from"video-react";import*as $ from"moment";import ee from"moment";import te,{DocViewerRenderers as ne}from"react-doc-viewer";import{FontAwesomeIcon as ae}from"@fortawesome/react-fontawesome";import{faSearch as le,faDownload as re,faTimes as oe,faAngleDoubleLeft as ie,faAngleLeft as ce,faBars as ue,faAngleRight as de,faAngleDoubleRight as se,faSync as me,faCheck as pe}from"@fortawesome/free-solid-svg-icons";import fe from"react-spinners/PuffLoader";import ye from"react-datepicker";import{faCalendar as ve,faFile as he,faArrowAltCircleDown as ge,faArrowAltCircleUp as Ee,faClock as Ye}from"@fortawesome/free-regular-svg-icons";import be from"react-input-range";import _e from"react-loading-overlay";import ke from"styled-components";import{useTable as De,useFilters as Te,useSortBy as Se,useExpanded as xe,usePagination as we}from"react-table";import{useIsVisible as Me}from"react-is-visible";import Ce from"rc-time-picker";import Pe from"react-tag-autocomplete";import Re from"react-select";import{css as Ie}from"@emotion/react";import{SketchPicker as Ne}from"react-color";import Le from"react-apexcharts";function Ve(i){var c=r(null==i?void 0:i.name)?"":S(String(null==i?void 0:i.name),"_"),u=q(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},d=x(c,u)||"",s=X(),m=r(null==i?void 0:i.type)?"":String(null==i?void 0:i.type),p="text"===m||r(m)?"search":m,f=t(!1),y=f[0],v=f[1],h=t(""),g=h[0],E=h[1],Y=(null==i?void 0:i.placeholder)||"",b={};"nik"==p.toLowerCase()?(b={delimiter:" ",blocks:[2,2,2,6,4],numericOnly:!0},Y=(null==i?void 0:i.placeholder)||"Nomor Induk Kependudukan"):"kip"==p.toLowerCase()?(b={delimiter:" ",blocks:[4,4,4,4]},Y=(null==i?void 0:i.placeholder)||"Kartu Indonesia Pintar"):"npwp"==p.toLowerCase()?(b={delimiter:" ",blocks:[4,4,4,4],numericOnly:!0},Y=(null==i?void 0:i.placeholder)||"Nomor Pokok Wajib Pajak"):"postcode"==p.toLowerCase()?(b={blocks:[5],delimiter:" ",numericOnly:!0},Y=(null==i?void 0:i.placeholder)||"Kode Pos"):"phone"==p.toLowerCase()&&(Y=(null==i?void 0:i.placeholder)||"Telepon");var _=t({readonly:!1,placeholder:" ",toolbarButtonSize:"small"}),w=n(),M=n(),C=n();function P(e){e.preventDefault();var t=e.target.value?String(e.target.value):"";"nik"!=m&&"kip"!=m&&"npwp"!=m&&"postcode"!=m||(t=t.replace(/\D/g,"")),null!=i&&i.maxlength&&(t=t.substring(0,null==i?void 0:i.maxlength)),I(t)}function R(){v(!1)}function I(e){var t;t=e,s({type:"SET_INPUT",payload:{key:S(String(c),"_"),value:t}})}return a(function(){r(null==i?void 0:i.value)||I(null==i?void 0:i.value)},[null==i?void 0:i.value]),a(function(){if(null!=i&&i.disableCopy||null!=i&&i.disablePaste||null!=i&&i.disableSelectAll){var e=[];null!=i&&i.disableCopy&&(e.push("command+c"),e.push("ctrl+c")),null!=i&&i.disablePaste&&(e.push("command+v"),e.push("ctrl+v")),null!=i&&i.disableSelectAll&&(e.push("command+a"),e.push("ctrl+a")),e.length>0&&T.bind(e,function(){return!1})}if("equation"==m)try{var t={};t.target=C.current,t.toolbar=w.current;var n=new window.WirisPlugin.GenericIntegration(t);n.init(),n.listeners.fire("onTargetReady",{}),WirisPlugin.currentInstance=n}catch(e){}},[]),c?null!=i&&i.disabled||null!=i&&i.isReadonly?!o(d)&&N(String(d)):"nik"==m||"kip"==m||"npwp"==m||"postcode"==m?e.createElement(l,{placeholder:Y,id:null==i?void 0:i.id,name:c,value:d,onChange:P,options:b,className:"form-control"}):"textarea"==m?e.createElement("textarea",{id:null==i?void 0:i.id,rows:(null==i?void 0:i.rows)||3,className:"form-control no-resize mousetrap",onChange:P,name:c,value:d,placeholder:Y}):"phone"==m?e.createElement(k,{international:!0,defaultCountry:"ID",numberInputProps:{className:"form-control"},value:d?String(d):"",onChange:I}):"texteditor"==m?e.createElement(e.Fragment,null,e.createElement("div",{className:"form-control",style:{minHeight:32},onClick:function(){E(""),v(!0)}},o(d)?"":N(String(d))),e.createElement(L,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",show:y,onHide:R},e.createElement(L.Body,null,e.createElement(D,{key:(null==i?void 0:i.name)+"_editor",id:null==i?void 0:i.id,ref:M,value:o(d)?"":String(d),config:_,tabIndex:1,onChange:function(e){return E(e)}})),e.createElement(L.Footer,{style:{justifyContent:"space-between"}},e.createElement(V,{onClick:R,variant:"secondary"},"Kembali"),e.createElement(V,{onClick:function(){I(g),R()},variant:"primary"},"Simpan")))):"equation"==m?e.createElement(A,null,e.createElement(A.Text,null,e.createElement("div",{ref:w})),e.createElement(G,{suppressContentEditableWarning:!0,className:"form-control",innerRef:C,onChange:function(e){window.WirisPlugin.Parser.endParse(e.target.value),I(e.target.value)},html:d||""})):e.createElement(z.Control,{id:null==i?void 0:i.id,type:p,placeholder:Y,value:d,onChange:P,name:c,className:"form-control mousetrap"}):"Name is Required"}function Ae(){return(Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}function ze(e,t){return t||(t=e.slice(0)),e.raw=t,e}function Fe(){return e.createElement(fe,{color:"#000",size:25})}var Oe=$;function He(t){var n=[{uri:process.env.REACT_APP_API_URL+"/file/stream/"+t.file}];try{if(c(t.type.type.substring(0,5),"video"))return e.createElement(Z,{key:t.file,autoPlay:!1,src:process.env.REACT_APP_API_URL+"/file/stream/"+t.file})}catch(e){}return e.createElement(te,{style:{width:"100%",height:480},pluginRenderers:ne,documents:n})}function Ue(n){var l=n.accept?n.accept:"image/*, video/*, audio/*, .docx, .xlsx, .pptx, .csv, .pdf",r=q(function(e){return e.core.input}),s=q(function(e){return e.core.parameter}),m=t({}),p=m[0],f=m[1],y=t([]),v=y[0],h=y[1],g=t(!1),E=g[0],Y=g[1],b=q(function(e){return e.auth}),_=X();function k(e){if(d(e)&&!o(e)&&"null"!=e&&!function(e){var t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}(e)&&o(p[e])){var t=process.env.REACT_APP_API_URL+"/file/info",n=w({token_file:e}),a={method:"POST",headers:M(b),url:t,data:n};Y(!0);try{J(a).then(function(t){t.data.success&&(p[e]=t.data.data,f(p),I[e]=!1,N(I)),Y(!1)}).catch(function(t){p[e]="",f(p),I[e]=!1,N(I)})}catch(e){}}}function D(e){return d(e)&&!o(e)&&"null"!=e}function T(e){return i(e,D)||[]}function S(e){return T(String(e).split("|"))}function C(e){var t;N(Ae({},I,((t={})[e]=!I[e],t)))}function P(e){e!=s.openFile&&_({type:"SET_PARAMETER",payload:{key:"openFile",value:e}})}a(function(){var e=n.value?n.value:x(n.name,r);if(e){var t=S(e);h(t)}},[]),a(function(){var e=S(x(n.name,r));c(e,v)||h(e)},[x(n.name,r)]),a(function(){!function(e){try{if(u(e)&&e.length>0)for(var t=0;t<e.length;t++)D(e[t])&&k(e[t]);else D(e)&&k(e)}catch(e){}}(v)},[v]),a(function(){P(E)},[E]);var R=t({}),I=R[0],N=R[1],A=T(v);return process.env.REACT_APP_API_URL?e.createElement("div",null,!E&&!n.isReadonly&&e.createElement("div",null,!n.isMultiple&&e.createElement("div",{style:{display:"inline-block"}},e.createElement(z.Control,{className:n.className,accept:l,label:n.name,type:"file",onChange:function(e){var t,a,l=e.target.files||e.dataTransfer.files;l.length&&(t=l[0],(a=new FileReader).onload=function(e){!function(e,t){var a=n.url||process.env.REACT_APP_API_URL+"/file/upload",l=new FormData,r=e.name;l.append("type",e.type),l.append("name",r),l.append("file",e),l.append("lastModifiedDate",Oe(e.lastModifiedDate).format("YYYY-MM-DD HH:mm:ss")),l.append("size",e.size),n.max_size&&n.max_size>0&&l.append("max_size",n.max_size),n.only_type&&l.append("only_type",n.accept),l.append("size",e.size),Y(!0),J.post(a,l,{headers:M(b,"multipart/form-data; boundary="+l._boundary)}).then(function(e){o(e.data.message)||_({type:"SET_MESSAGE",payload:e.data.message}),e.data.success?(_({type:"SET_INPUT",payload:{key:n.name,value:e.data.data.token}}),h([e.data.data.token])):_({type:"SET_INPUT",payload:{key:n.name,value:""}}),Y(!1)}).catch(function(e){_({type:"SET_INPUT",payload:{key:n.name,value:""}}),_({type:"SET_MESSAGE",payload:"Gagal mengunggah lampiran"}),Y(!1)})}(t)},a.readAsDataURL(t))},onInput:function(e){P(!1)},onClick:function(e){P(!0),setTimeout(function(){P(!1)},6e4)}})),!E&&n.isMultiple&&e.createElement(Q,{config:{showFiletypeIcon:!0,postUrl:process.env.REACT_APP_API_URL+"/file/upload_multiple",uploadMultiple:!0,maxFiles:5},eventHandlers:{drop:function(){},complete:function(e){var t=JSON.parse(e.xhr.response),a=v||[];a.push(t.data.token);var l=i(a,function(e){return!o(e)})||[];_({type:"SET_INPUT",payload:{key:n.name,value:l.join("|")}}),h(l)},removedfile:function(e){}},djsConfig:{acceptedFiles:l,params:{token:b.user.token},addRemoveLinks:!0,autoProcessQueue:!0,maxFiles:5}})),!E&&A.length>0&&A.map(function(t,a){return e.createElement("div",{style:{display:"inline-block"},key:t},n.preview&&e.createElement(e.Fragment,null,e.createElement(He,{key:t,type:p[t],file:t}),e.createElement("br",null)),e.createElement(F,null,e.createElement(V,{variant:"primary",onClick:function(){return C(t)}},e.createElement(ae,{icon:le})," Lihat"),e.createElement(V,{vendor:"success",onClick:function(){return window.open(process.env.REACT_APP_API_URL+"/file/download/"+t,"_blank")}},e.createElement(ae,{icon:re})," Unduh"),!n.isReadonly&&e.createElement(V,{variant:"danger",onClick:function(){return function(e){var t=process.env.REACT_APP_API_URL+"/file/delete",a=w({token_file:e,token:b.token}),l={method:"POST",headers:M(b),url:t,data:a};Y(!0),J(l).then(function(t){o(t.data.message)||_({type:"SET_MESSAGE",payload:t.data.message});var a=i(v,function(t){return!c(t,e)});h(a),_({type:"SET_INPUT",payload:{key:n.name,value:a}}),Y(!1)}).catch(function(t){_({type:"SET_MESSAGE",payload:"Gagal menghapus lampiran"});var a=i(v,function(t){return!c(t,e)});_({type:"SET_INPUT",payload:{key:n.name,value:a}}),h(a),Y(!1)})}(t)}},e.createElement(ae,{icon:oe})," Hapus")),e.createElement(L,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",id:"modal_"+t,show:I[t],onHide:function(){return C(t)}},e.createElement(L.Body,null,e.createElement(He,{key:t,type:p[t],file:t})),e.createElement(L.Footer,null,e.createElement(V,{variant:"primary",onClick:function(){return C(t)}},e.createElement(ae,{icon:oe})," Tutup"))))}),E&&e.createElement(Fe,null)):e.createElement("span",null,"REACT_APP_API_URL is required for .env")}function Be(t){var n=r(null==t?void 0:t.name)?"":S(String(null==t?void 0:t.name),"_"),a=X(),l=q(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},i=q(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.parameter})||{},d=x(n,l)||null,p=(x("selected_"+n,i),t.type||"inline"),f=[];try{f=t.options.length>0?t.options:[]}catch(e){}function y(e){var n=[];if(u(t.optionLabel))for(var a=0;a<=t.optionLabel.length-1;a++)n.push(e[t.optionLabel[a]]);else n.push(e[t.optionLabel]);return n}function v(e,l){a({type:"SET_INPUT",payload:{key:S(String(e),"_"),value:l}});var i=null;if(t.isMultiple){i=[];try{if(u(f)&&u(l))for(var c=0;c<f.length;c++)for(var d=0;d<l.length;d++){var s=f[c],p=l[d];String(s[t.optionValue])==String(p)&&i.push(s)}}catch(e){}0==i.length&&(i=null)}else i=m(f,function(e){return String(e[t.optionValue])==String(l)}.bind(this))||{},o(i)&&(i=null);r(i)||a({type:"SET_PARAMETER",payload:{key:"selected_"+n,value:i}}),t.callback&&"function"==typeof t.callback&&t.callback()}function h(e){if(!t.isReadonly&&n)try{if(t.isMultiple){for(var a=d||[],l=!1,r=[],o=0;o<a.length;o++){var i=a[o];i==e[t.optionValue]?l=!0:r.push(i)}l||r.push(e[t.optionValue]),v(n,r)}else{var c=d;t.value&&(c=t.value);var u=null;c!=e[t.optionValue]&&(u=e[t.optionValue]),v(n,u)}}catch(e){v(n,null)}}return e.createElement("div",{className:"custom-controls-stacked"},f.map(function(a){var l=!1;try{l=t.isMultiple?s(d,a[t.optionValue]):c(d,a[t.optionValue])}catch(e){}return e.createElement(e.Fragment,null,e.createElement(z.Check,{inline:"inline"===p,disabled:t.disabled||t.isReadonly,type:t.isMultiple?"checkbox":"radio",name:n,onChange:function(e){return h(a)},value:a,checked:l,label:y(a).map(function(n,a){return c(String(n).substring(0,3),"AT-")?e.createElement(Ue,{value:n,isReadonly:!0,preview:!0}):t.isHtml?N(String(n)):n})}))}))}var We,je=function(t){return e.createElement(A,null,e.createElement(A.Text,{style:{background:"none"}},e.createElement(ae,{icon:ve})),e.createElement(z.Control,{style:{borderLeft:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:null==t?void 0:t.disabled,name:null==t?void 0:t.name,value:(null==t?void 0:t.value)||"",onClick:null==t?void 0:t.onClick}))};function Ke(t){var n=r(null==t?void 0:t.name)?"":S(String(null==t?void 0:t.name),"_"),a=X(),l=q(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},o=x(n,l)||null,i=x("start_"+n,l)||null,c=x("end_"+n,l)||null;if(null!=t&&t.isRange){try{i=ee(i,"YYYY-MM-DD").isValid()?ee(i,"YYYY-MM-DD").toDate():null}catch(e){}try{c=ee(c,"YYYY-MM-DD").isValid()?ee(c,"YYYY-MM-DD").toDate():null}catch(e){}}else try{o=ee(o,"YYYY-MM-DD").isValid()?ee(o,"YYYY-MM-DD").toDate():null}catch(e){}function u(e,t){a({type:"SET_INPUT",payload:{key:S(String(e),"_"),value:ee(t,"YYYY-MM-DD").isValid()?ee(t,"YYYY-MM-DD").format("YYYY-MM-DD"):""}})}var d=null!=t&&t.dateFormat?null==t?void 0:t.dateFormat:"yyyy-MM-dd";function s(e){var t=ee(e).format("d");return 5==t||6==t?"weekend":void 0}return null!=t&&t.isRange?null!=t&&t.disabled||null!=t&&t.isReadonly?(ee(i,"YYYY-MM-DD").isValid()?ee(i,"YYYY-MM-DD").format("DD-MM-YYYY"):"")+" - "+(ee(c,"YYYY-MM-DD").isValid()?ee(c,"YYYY-MM-DD").format("DD-MM-YYYY"):""):e.createElement("div",{className:"input-daterange input-group"},e.createElement(ye,{minDate:ee(null==t?void 0:t.minDate,"YYYY-MM-DD").isValid()?ee(null==t?void 0:t.minDate,"YYYY-MM-DD").toDate():null,maxDate:ee(null==t?void 0:t.maxDate,"YYYY-MM-DD").isValid()?ee(null==t?void 0:t.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:d,placeholder:null!=t&&t.placeholder?null==t?void 0:t.placeholder:"Tanggal",selected:i,isClearable:!(null!=t&&t.disabled||null!=t&&t.isReadonly),customInput:e.createElement(je,{value:i,name:"start_"+n}),onChange:function(e){e=ee(e,"YYYY-MM-DD").isValid()?ee(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,u("start_"+n,e)},selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,showYearPicker:!1,name:"start_"+n,todayButton:"Hari ini",dayClassName:s,dropdownMode:"select",disabled:(null==t?void 0:t.disabled)||(null==t?void 0:t.isReadonly),readOnly:(null==t?void 0:t.disabled)||(null==t?void 0:t.isReadonly),startDate:i,endDate:c,shouldCloseOnSelect:!0}),e.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),e.createElement(ye,{minDate:ee(i,"YYYY-MM-DD").isValid()?ee(i,"YYYY-MM-DD").toDate():ee(null==t?void 0:t.minDate,"YYYY-MM-DD").isValid()?ee(null==t?void 0:t.minDate,"YYYY-MM-DD").toDate():null,maxDate:ee(null==t?void 0:t.maxDate,"YYYY-MM-DD").isValid()?ee(null==t?void 0:t.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:d,placeholder:null!=t&&t.placeholder?null==t?void 0:t.placeholder:"Tanggal",selected:c,isClearable:!(null!=t&&t.disabled||null!=t&&t.isReadonly),name:"end_"+n,selectsEnd:!0,customInput:e.createElement(je,{value:c,name:"end_"+n}),onChange:function(e){e=ee(e,"YYYY-MM-DD").isValid()?ee(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,u("end_"+n,e)},selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,showYearPicker:!1,dayClassName:s,todayButton:"Hari ini",dropdownMode:"select",startDate:i,endDate:c,disabled:(null==t?void 0:t.disabled)||(null==t?void 0:t.isReadonly),readOnly:(null==t?void 0:t.disabled)||(null==t?void 0:t.isReadonly),shouldCloseOnSelect:!0})):null!=t&&t.disabled||null!=t&&t.isReadonly?ee(null==t?void 0:t.input[n],"YYYY-MM-DD").isValid()?ee(null==t?void 0:t.input[n],"YYYY-MM-DD").format("DD-MM-YYYY"):"":e.createElement(ye,{minDate:ee(null==t?void 0:t.minDate,"YYYY-MM-DD").isValid()?ee(null==t?void 0:t.minDate,"YYYY-MM-DD").toDate():null,maxDate:ee(null==t?void 0:t.maxDate,"YYYY-MM-DD").isValid()?ee(null==t?void 0:t.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:d,placeholder:null!=t&&t.placeholder?null==t?void 0:t.placeholder:"Tanggal",customInput:e.createElement(je,{value:o,name:n}),selected:o,isClearable:!(null!=t&&t.disabled||null!=t&&t.isReadonly),id:n,className:"form-control",dayClassName:s,onChange:function(e){e=ee(e,"YYYY-MM-DD").isValid()?ee(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,u(n,e)},selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,showYearPicker:!1,todayButton:"Hari ini",dropdownMode:"select",disabled:(null==t?void 0:t.disabled)||(null==t?void 0:t.isReadonly),readOnly:(null==t?void 0:t.disabled)||(null==t?void 0:t.isReadonly),shouldCloseOnSelect:!0})}function Ge(t){var n=r(null==t?void 0:t.name)?"":S(String(null==t?void 0:t.name),"_"),a=X(),o=q(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},i=x(n,o)||null,c=t.enableNegative?{numeral:!0}:{numeral:!0,numeralPositiveOnly:!0};function u(e,n,a){return void 0===n&&(n=0),void 0===a&&(a=100),t.enableNegative&&e<0&&(n=-a),isNaN(e)&&(e=n),(e=parseFloat(e))>=a?e=a:e<=n&&(e=n),e?Number(e):null}return"decimal"==t.type||"percent"==t.type||"range_three"==t.type||(c.numeralThousandsGroupStyle="thousand"),t.disabled||t.isReadonly?p(i)||r(i)?null:C(i,""):"range"==t.type?e.createElement(be,{maxValue:t.maxValue,minValue:t.minValue,value:i,onChange:this.onChange}):e.createElement(l,{placeholder:t.placeholder?t.placeholder:"",id:n,name:n,onInit:function(e){},value:i,onChange:function(e){var l=f(e.target.value)?Number(e.target.value):Number(e.target.value.replace(/[^0-9.-]+/g,""));"decimal"==t.type?l=Number(l):"percent"==t.type?l=u(l,0,100):"range_three"==t.type?l=u(l,1,3):"range_hundred"==t.type?l=u(l,1,100):"range_depend"==t.type&&(l=u(l,0,100));var r=t.minValue?Number(t.minValue):null,o=t.maxValue?Number(t.maxValue):null;o&&r?l=u(l,r,o):!o&&r?l=u(l,r,999999999999):o&&!r&&(l=u(l,0,o)),l=function(e){!function(e,t){a({type:"SET_INPUT",payload:{key:S(String(e),"_"),value:t}})}(n,e)}(l)},options:c,className:"form-control"})}var qe=ke(_e)(We||(We=ze(["\n  overflow: hidden;\n\n  ._loading_overlay_overlay {\n    background: rgba(255, 255, 255, 0.5);\n  }\n  &._loading_overlay_wrapper--active {\n    overflow: hidden;\n  }\n"])));function Xe(t){return e.createElement(qe,{fadeSpeed:250,active:t.isLoading,spinner:e.createElement(Fe,null)},t.children)}var Je=function(e){return null},Qe=function(t){var n=t.column.filterValue,l=t.column.id,r=t.name,o=X(),i=e.useState(n),c=i[0],u=i[1],d=S("search_"+r+"_"+l,"_"),s=q(function(e){return e.core.filter});return a(function(){u(s[d])},[]),e.createElement(z.Control,{key:d,id:d,name:d,value:c,style:{zIndex:0},onChange:function(e){var t;e.preventDefault(),u(e.target.value),setCurPage(1),o({type:"SET_MULTI_FILTER",payload:(t={},t[d]=e.target.value,t[S("loaded_"+r,"_")]=!1,t)})},placeholder:"Pencarian"})};function Ze(n){for(var l=n.columns,i=n.data,c=n.renderRowSubComponent,u=n.customPageIndex,d=n.customPageSize,s=n.customPageCount,m=n.loading,f=n.isColumnsSearchable,y=n.primaryKey,v=n.name,h=n.customPageTotal,g=q(function(e){return e.core.filter})||{},E=[],Y=0;Y<l.length;Y++)try{var b=S("sort_"+v+"_"+l[Y][y],"_"),_=g[b];o(_)||p(_)||r(_)||E.push({id:l[Y][y],desc:"desc"==_})}catch(e){}var k=De({columns:l,data:i,defaultColumn:{Filter:function(t){return e.createElement(Qe,Ae({},t,{name:v}))}},initialState:{pageIndex:u,pageSize:d,sortBy:E},manualPagination:!0,pageCount:s,manualSortBy:!0,defaultCanSort:!0,isMultiSortEvent:function(){}},Te,Se,xe,we),D=k.getTableProps,T=k.getTableBodyProps,x=k.headerGroups,w=k.page,M=k.prepareRow,R=k.visibleColumns,I=k.gotoPage,N=k.setPageSize,L=k.state,F=L.pageIndex,H=L.pageSize,U=x[0].headers||[];P(function(){for(var e,t={},n=0;n<U.length;n++){var a=U[n];if(a){var l=S("sort_"+v+"_"+a[y],"_"),r=a.isSorted?a.isSortedDesc?"desc":"asc":null;r!=g[l]&&(t[l]=r)}}o(t)||Q({type:"SET_MULTI_FILTER",payload:Ae({},t,(e={},e[S("loaded_"+v,"_")]=!1,e))})},400,[U]);var B=t(m),W=B[0],j=B[1],K=t(F),G=K[0],J=K[1],Q=X(),Z=function(e){var t;N(Number(e.target.value)),Q({type:"SET_MULTI_FILTER",payload:(t={},t[S("load_"+v,"_")]=Number(e.target.value),t[S("page_"+v,"_")]=G,t)})},$=function(e){var t=e.target.value?Number(e.target.value):0;re(t)},ee=u<s,te=u>=2,ne=function(){G<s&&re(G+1)},le=function(){G>=2&&re(G-1)},re=function(e){J(e)};return P(function(){var e;I(G),Q({type:"SET_MULTI_FILTER",payload:(e={},e[S("load_"+v,"_")]=H,e[S("page_"+v,"_")]=G,e)})},400,[G]),P(function(){re(g[S("page_"+v,"_")])},400,[g[S("page_"+v,"_")]]),a(function(){j&&!m?setTimeout(function(){return j(m)},400):j(m)},[m]),o(v)?e.createElement("p",null,"Props name is Required"):e.createElement("div",null,e.createElement("div",{className:"custom-scroll",style:{overflow:"auto"}},e.createElement(A,null,e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return re(1)},disabled:!te||m},e.createElement(ae,{icon:ie})),e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:le,disabled:!te||m},e.createElement(ae,{icon:ce})),e.createElement(A.Text,{style:{background:"none"}},e.createElement(ae,{icon:he}),"   Hal :"," "),e.createElement(z.Control,{style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},type:"number",min:1,max:s,value:G,onChange:$}),e.createElement(A.Text,{style:{background:"none"}},e.createElement(ae,{icon:ue}),"   Lihat :"," "),e.createElement(z.Control,{type:"number",min:1,style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},max:50,value:H,onChange:Z}),e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:ne,disabled:!ee||m},e.createElement(ae,{icon:de})),e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return re(s)},disabled:!ee||m},e.createElement(ae,{icon:se})))),e.createElement("div",{className:"text-center mt-2 mb-2"},e.createElement("strong",null,C(u,""))," dari"," ",e.createElement("strong",null,C(s,""))," hal. Total"," : ",e.createElement("strong",null,C(h,""))," baris"),e.createElement(O,Ae({style:{margin:0,zIndex:0},responsive:!0,bordered:!0,hover:!0,striped:!0,vcenter:!0},D()),e.createElement("thead",null,x.map(function(t){return e.createElement("tr",t.getHeaderGroupProps(),t.headers.map(function(t){return e.createElement("th",Ae({style:{padding:"4px 8px",borderTop:"1px solid #dee2e6"}},t.getHeaderProps()),e.createElement("div",t.getSortByToggleProps(),e.createElement("span",{style:{display:"inline-block"}},t.render("Header")),e.createElement("span",{style:{display:"inline-block",fontWeight:"bold"}},function(e){return e.isSorted?e.isSortedDesc?" ↓":" ↑":""}(t))),f&&e.createElement(Je,{column:t}))}))})),e.createElement("tbody",T(),w.length>0&&!W&&parseInt(u)===parseInt(G)?w.map(function(t){return M(t),e.createElement(e.Fragment,{key:t.getRowProps().key},e.createElement("tr",null,t.cells.map(function(t,n){return e.createElement("td",Ae({style:{padding:"4px 8px",width:0==n?"10px":"auto"}},t.getCellProps()),t.render("Cell"))})),t.isExpanded&&e.createElement("tr",null,e.createElement("td",{style:{padding:"4px 8px"},colSpan:R.length},c(t))))}):x.map(function(t){return e.createElement("tr",null,e.createElement("td",{style:{padding:"12px 0",textAlign:"center"},colSpan:t.headers.length},W||parseInt(u)!==parseInt(G)?"Memproses":"Tidak ada data"))}))),e.createElement("div",{className:"text-center mt-2 mb-2"},e.createElement("strong",null,C(u,""))," dari"," ",e.createElement("strong",null,C(s,""))," hal. Total"," : ",e.createElement("strong",null,C(h,""))," baris"),e.createElement("div",{className:"custom-scroll",style:{overflow:"auto"}},e.createElement(A,null,e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return re(1)},disabled:!te||m},e.createElement(ae,{icon:ie})),e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:le,disabled:!te||m},e.createElement(ae,{icon:ce})),e.createElement(A.Text,{style:{background:"none"}},e.createElement(ae,{icon:he}),"   Hal :"," "),e.createElement(z.Control,{style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},type:"number",min:1,max:s,value:G,onChange:$}),e.createElement(A.Text,{style:{background:"none"}},e.createElement(ae,{icon:ue}),"   Lihat :"," "),e.createElement(z.Control,{type:"number",min:1,style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},max:50,value:H,onChange:Z}),e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:ne,disabled:!ee||m},e.createElement(ae,{icon:de})),e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return re(s)},disabled:!ee||m},e.createElement(ae,{icon:se})))))}function $e(l){var d,s=t(!1),p=s[0],f=s[1],E=t(""),Y=E[0],b=E[1],_=t([]),k=_[0],D=_[1],T=t([]),w=T[0],M=T[1],C=t({}),R=C[0],I=C[1],N=t(!1),L=N[0],F=N[1],O=t(!1),K=O[0],G=O[1],J=X(),Q=(q(function(e){return e.core.parameter}),q(function(e){return e.core.input})||{}),Z=(q(function(e){return e.auth.user}),q(function(e){return e.core.filter})||{}),$=S("selected_"+l.name,"_"),ee=l.primaryKey?l.primaryKey:"id",te=n(),ne=Me(te),re={Header:"#",id:"select",width:"10px",Cell:function(t){var n=q(function(e){return e.core.input}),a=!1;try{a="single"==l.selectable?x($,n)==t.row.original[ee]:v(x($,n),function(e){return e==t.row.original[ee]})>-1}catch(e){}return e.createElement(z.Check,{inline:!0,id:S(l.name+"_check_"+t.row.original[ee],"_"),name:S(l.name+"_check_"+t.row.original[ee],"_"),type:"single"==l.selectable?"radio":"checkbox",value:1,checked:a,disabled:l.isReadonly,onChange:function(){return function(e,t,n){void 0===n&&(n=!1);var a=e.row.original||{};if("single"==l.selectable)J({type:"SET_PARAMETER",payload:{key:$,value:a}}),J({type:"SET_INPUT",payload:{key:$,value:a[ee]}});else{var r=[];n?r=i(x($,t),function(e){return e&&a&&parseInt(e)!=parseInt(a[ee])})||[]:(r=x($,t)||[],u(r)||(r=[]),r.push(a[ee])),r=g(r),J({type:"SET_INPUT",payload:{key:$,value:r}})}}(t,n,a)}})}},oe=o(l.selectable)?[].concat(l.columns):[re].concat(l.columns);if(l.action){var ie={Header:"Aksi",id:"aksi_"+l.name,sortable:!1,Cell:function(t){var n=q(function(e){return e.core.parameter}),a=t.row.original[ee];return e.createElement(W,{key:"dropdown_"+l.name+"_"+a,id:"dropdown_"+l.name+"_"+a,isOpen:c(n.dropdown,a),toggle:function(){return function(e){var t=c(n.dropdown,e)?null:e;J({type:"SET_PARAMETER",payload:{key:"dropdown",value:t}})}(a)},drop:"end",variant:"primary",title:""},i(l.action,function(e){return r(e.show)||e.show}).map(function(n,r){var o=!!h(n.disabled)&&n.disabled;return e.createElement(j.Item,{key:"dropdownitem_"+l.name+"_"+a+"_"+r,onClick:function(){return n.onClick(t.row.original)},disabled:o},n.label)}))}};oe=o(l.selectable)?[ie].concat(l.columns):[ie,re].concat(l.columns)}function ce(){p&&(b(window.location.href),l.onReload(),x(S("loaded_"+l.name,"_"),Z)||J({type:"SET_FILTER",payload:{key:S("loaded_"+l.name,"_"),value:!0}}))}a(function(){ne!=p&&f(ne)}),a(function(){J({type:"SET_FILTER",payload:{key:S("loaded_"+l.name,"_"),value:!1}})},[]),P(function(){!p||c(window.location.href,Y)&&!o(Y)||ce()},400,[p,window.location.href]),P(ce,400,[x(S("keyword_"+l.name,"_"),Z),x(S("page_"+l.name,"_"),Z),x(S("load_"+l.name,"_"),Z),x(S("loaded_"+l.name,"_"),Z)]),P(function(){M(function(e){return y([].concat(e,k),ee)}),x($,Q)&&function(){var e=null,t=null;if("single"==l.selectable)e=e=m(w,function(e){return e&&parseInt(e[ee])==t})||{},t=x($,Q)||null;else{e=[],t=x($,Q)||[];for(var n=function(n){var a=m(w,function(e){return e&&parseInt(e[ee])==t[n]})||{};o(a)||e.push(a)},a=0;a<t.length;a++)n(a)}J({type:"SET_PARAMETER",payload:{key:$,value:e}})}()},400,[x($,Q),Z]),P(function(){try{D(l.data.data||[])}catch(e){}M(function(e){return y([].concat(e,k),ee)});try{I(l.data.meta||{})}catch(e){}},400,[l.data]);var ue=e.useMemo(function(){return oe},[]);return e.createElement(Xe,{isLoading:l.isLoading},e.createElement("div",{style:{padding:"8px 12px"},ref:te},e.createElement("div",{style:{marginBottom:"12px"}},e.createElement(H,null,e.createElement(U,{xs:"12",sm:"12",md:"8",lg:"8"},e.createElement("div",null,l.renderFilter?l.renderFilter:null))),e.createElement(H,{style:{justifyContent:"flex-end"}},e.createElement(U,{xs:"12",sm:"12",md:"4",lg:"4"},e.createElement("div",null,l.isSearchable&&e.createElement("div",null,e.createElement(A,null,e.createElement(A.Text,{style:{background:"none"}},e.createElement(ae,{icon:le})),e.createElement(z.Control,((d={id:S("keyword_"+l.name,"_"),key:S("keyword_"+l.name,"_"),style:{borderLeft:"none"},className:"form-control",value:x(S("keyword_"+l.name,"_"),Z),onChange:function(e){var t;J({type:"SET_MULTI_FILTER",payload:(t={},t[S("keyword_"+l.name,"_")]=e.target.value,t[S("page_"+l.name,"_")]=1,t.loaded=!1,t)})},type:"text"}).id=S("keyword_"+$),d.name=S("keyword_"+l.name,"_"),d.placeholder="Pencarian",d)),e.createElement(V,{style:{zIndex:0},variant:"primary",onClick:ce,type:"button",disabled:l.isLoading},e.createElement(ae,{icon:me,spin:l.isLoading})),(l.export||l.import)&&e.createElement(e.Fragment,null,l.export&&e.createElement(V,{id:"exportFile",style:{zIndex:0},variant:"primary",className:"mr-1",onClick:l.exportReload,type:"button",disabled:l.disabledButton},e.createElement(ae,{icon:ge}),e.createElement(B,{placement:"top",isOpen:L,autohide:!1,target:"exportFile",toggle:function(){return F(!L)}},"Export")),l.import&&e.createElement(V,{id:"importFile",style:{zIndex:0},variant:"primary",className:"mr-1",onClick:l.importReload,type:"button",disabled:l.disabledButton},e.createElement(ae,{icon:Ee}),e.createElement(B,{placement:"top",isOpen:K,autohide:!1,target:"importFile",toggle:function(){return G(!K)}},"Import"))))))))),e.createElement(Ze,{name:S(l.name,"_"),columns:ue,data:k,primaryKey:ee,isColumnsSearchable:l.isColumnsSearchable,fetchData:ce,loading:l.isLoading,customPageTotal:R&&!o(R)?R.total:0,customPageCount:R&&!o(R)?R.last_page:1,customPageSize:R&&!o(R)?R.per_page:x(S("load_"+l.name,"_"),Z)?x(S("load_"+l.name,"_"),Z):10,customPageIndex:R&&!o(R)?R.current_page:x(S("page_"+l.name,"_"),Z)?x(S("page_"+l.name,"_"),Z):1})))}function et(t){var n=[];if(u(t.errorMessage))for(var a=0;a<t.errorMessage.length;a++){var l=t.errorMessage[a];if(u(l))for(var r=0;r<l.length;r++)n.push(l[r]);else n.push(l)}else n.push(t.errorMessage);return e.createElement(z.Group,{as:H},e.createElement(z.Label,{column:!0,md:t.labelSize?t.labelSize:3},t.label?t.label:"Label",t.isRequired&&e.createElement("span",{className:"text-danger"}," *"),t.hint&&e.createElement("small",{className:"form-text text-muted"},t.hint)),e.createElement(U,{md:t.inputSize?t.inputSize:9},t.children,e.createElement(z.Text,{className:"text-danger"},n.length>0&&n.join(", "))))}var tt,nt="YYYY-MM-DD HH:mm:ss",at=function(t){return e.createElement(A,null,e.createElement(A.Text,{style:{background:"none"}},e.createElement(ae,{icon:ve})),e.createElement(z.Control,{style:{borderLeft:"none",borderRight:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:t.disabled,name:t.name,value:t.value||"",onClick:t.onClick}),e.createElement(A.Text,{style:{background:"none"}},e.createElement(ae,{icon:Ye})))};function lt(t){var n=r(null==t?void 0:t.name)?"":S(String(null==t?void 0:t.name),"_"),a=X(),l=q(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},o=x(n,l)||null,i=x("start_"+n,l)||null,c=x("end_"+n,l)||null;if(t.isRange){try{i=ee(i,nt).isValid()?ee(i,nt).toDate():null}catch(e){}try{c=ee(c,nt).isValid()?ee(c,nt).toDate():null}catch(e){}}else try{o=ee(o,nt).isValid()?ee(o,nt).toDate():null}catch(e){}function u(e,t){a({type:"SET_INPUT",payload:{key:S(String(e),"_"),value:ee(t,nt).isValid()?ee(t,nt).format(nt):""}})}var d=t.dateFormat?t.dateFormat:"yyyy-MM-dd HH:mm:ss";function s(e){var t=ee(e).format("d");return 5==t||6==t?"weekend":void 0}return t.isRange?t.disabled||t.isReadonly?e.createElement("div",{className:"input-daterange input-group"},ee(i,nt).isValid()?ee(i,nt).format("DD-MM-YYYY HH:mm:ss"):null,e.createElement("span",{style:{background:"none"}},"  s/d  "),ee(c,nt).isValid()?ee(c,nt).format("DD-MM-YYYY HH:mm:ss"):null):e.createElement("div",{className:"input-daterange input-group",style:{background:"none"}},e.createElement(ye,{minDate:ee(t.minDate,nt).isValid()?ee(t.minDate,nt).toDate():null,maxDate:ee(t.maxDate,nt).isValid()?ee(t.maxDate,nt).toDate():null,dateFormat:d,placeholder:t.placeholder?t.placeholder:"Tanggal & Waktu",selected:i,isClearable:!t.disabled&&!t.isReadonly,customInput:e.createElement(at,{value:i,name:"start_"+n}),onChange:function(e){e=ee(e,nt).isValid()?ee(e,nt).format(nt):null,u("start_"+n,e)},timeInputLabel:"Waktu : ",showTimeInput:!0,selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,id:"start_"+n,name:"start_"+n,todayButton:"Hari ini",dayClassName:s,dropdownMode:"select",startDate:i,endDate:c,shouldCloseOnSelect:!0}),e.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),e.createElement(ye,{minDate:ee(i,nt).isValid()?ee(i,nt).toDate():ee(t.minDate,nt).isValid()?ee(t.minDate,nt).toDate():null,maxDate:ee(t.maxDate,nt).isValid()?ee(t.maxDate,nt).toDate():null,dateFormat:d,placeholder:t.placeholder?t.placeholder:"Tanggal & Waktu",selected:c,isClearable:!t.disabled&&!t.isReadonly,id:"end_"+n,name:"end_"+n,selectsEnd:!0,timeInputLabel:"Waktu : ",showTimeInput:!0,customInput:e.createElement(at,{value:c,name:"end_"+n}),onChange:function(e){e=ee(e,nt).isValid()?ee(e,nt).format(nt):null,u("end_"+n,e)},peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dayClassName:s,todayButton:"Hari ini",dropdownMode:"select",startDate:i,endDate:c,shouldCloseOnSelect:!0})):t.disabled||t.isReadonly?e.createElement("div",{className:"input-daterange input-group"},ee(o,nt).isValid()?ee(o,nt).format("DD-MM-YYYY HH:mm:ss"):null):e.createElement(ye,{minDate:ee(t.minDate,nt).isValid()?ee(t.minDate,nt).toDate():null,maxDate:ee(t.maxDate,nt).isValid()?ee(t.maxDate,nt).toDate():null,dateFormat:d,placeholder:t.placeholder?t.placeholder:"Tanggal & Waktu",selected:o,isClearable:!t.disabled&&!t.isReadonly,id:n,className:"form-control",customInput:e.createElement(at,{value:o,name:n}),dayClassName:s,onChange:function(e){e=ee(e,nt).isValid()?ee(e,nt).format(nt):null,u(n,e)},peekNextMonth:!0,timeInputLabel:"Waktu : ",showTimeInput:!0,showMonthDropdown:!0,showYearDropdown:!0,todayButton:"Hari ini",dropdownMode:"select",shouldCloseOnSelect:!0})}function rt(){return e.createElement(ae,{style:{position:"absolute",left:8,top:11},icon:Ye})}function ot(t){var n=r(null==t?void 0:t.name)?"":S(String(null==t?void 0:t.name),"_"),a=X(),l=q(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},o=x(n,l)||null,i=x("start_"+n,l)||null,c=x("end_"+n,l)||null,u=t.format?t.format:"HH:mm:ss";if(t.isRange){try{i=ee(i,u).isValid()?ee(i,u):null}catch(e){}try{c=ee(c,u).isValid()?ee(c,u):null}catch(e){}}else try{o=ee(o,u).isValid()?ee(o,u):null}catch(e){}function d(e,t){a({type:"SET_INPUT",payload:{key:S(String(e),"_"),value:ee(t,u).isValid()?ee(t,u).format(u):""}})}return t.isRange?t.disabled||t.isReadonly?e.createElement("div",{className:"input-daterange input-group"},ee(i,u).isValid()?ee(i,u).format(u):"",e.createElement("span",{style:{background:"none"}},"  s/d  "),ee(c,u).isValid()?ee(c,u).format(u):""):e.createElement("div",{className:"input-daterange input-group"},e.createElement(Ce,{value:i,disabled:t.disabled||t.isReadonly,inputIcon:e.createElement(rt,null),format:u,onChange:function(e){e=ee(e,u).isValid()?ee(e,u).format(u):null,d("start_"+n,e)}}),e.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),e.createElement(Ce,{value:c,disabled:t.disabled||t.isReadonly,inputIcon:e.createElement(rt,null),format:u,onChange:function(e){e=ee(e,u).isValid()?ee(e,u).format(u):null,d("end_"+n,e)}})):t.disabled||t.isReadonly?e.createElement("div",{className:"input-daterange input-group"},ee(o,u).isValid()?ee(o,u).format(u):""):e.createElement(Ce,{value:o,disabled:t.disabled||t.isReadonly,inputIcon:e.createElement(rt,null),format:u,onChange:function(e){e=ee(e,u).isValid()?ee(e,u).format(u):null,d(n,e)}})}function it(n){var l=t([]),o=l[0],i=l[1],c=r(null==n?void 0:n.name)?"":S(String(null==n?void 0:n.name),"_"),d=X(),s=q(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},m=(q(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.parameter}),x(c,s)||""),p=t([]),f=p[0],y=p[1];return a(function(){var e=[],t=[];try{if(u(n.options))for(var a=0;a<n.options.length;a++){var l=n.options[a];_.isEmpty(l[n.optionValue])||e.push({name:l[n.optionValue]})}}catch(e){}var r=m?String(m).split("|"):[];try{if(u(r))for(var o=0;o<r.length;o++){var c=r[o];_.isEmpty(c)||t.push({name:c})}}catch(e){}i(e),y(_.uniqBy(t,"name"))},[m]),e.createElement(Pe,{minQueryLength:1,noSuggestionsText:"Tidak ada usulan",tags:f,id:c,removeButtonText:"Klik untuk menghapus",delimiters:["Enter","Tab"],placeholderText:n.placeholder?n.placeholder:"Dipisah dengan spasi / enter",allowNew:n.isCreateable,suggestions:o,onDelete:function(e){return t=e,(n=f.slice(0)).splice(t,1),void y(n);var t,n},onValidate:function(e){return _.findIndex(f,["name",e.name])<0},onFocus:function(e){},onAddition:function(e){return a=[].concat(f,e),y(_.uniqBy(a,"name")),t=c,n=_.map(a,"name").join("|"),void d({type:"SET_INPUT",payload:{key:S(String(t),"_"),value:n}});var t,n,a}})}function ct(n){var l=r(null==n?void 0:n.name)?"":S(String(null==n?void 0:n.name),"_"),i=t([])[0],c=X(),d=q(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},s=q(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.parameter})||{},p=x(l,d)||null,f=x("selected_"+l,s)||null,y=[];try{if(u(null==n?void 0:n.options))for(var v=0;v<(null==n?void 0:n.options.length);v++){var h=null==n?void 0:n.options[v];h&&null!=n&&n.isHtml&&(h[null==n?void 0:n.name]=N(String(h[null==n?void 0:n.name]))),y.push(h)}}catch(e){}function g(e){var t=[];if(u(null==n?void 0:n.optionLabel))for(var a=0;a<=(null==n||null===(l=n.optionLabel)||void 0===l?void 0:l.length)-1;a++){var l;try{var r=e[null==n?void 0:n.optionLabel[a]];r&&t.push(r)}catch(e){}}else t.push(e[null==n?void 0:n.optionLabel]);return t}function Y(e,t){c({type:"SET_INPUT",payload:{key:S(String(e),"_"),value:t}})}function b(e){if(l)try{null!=n&&n.isMultiple?(Y(l,E(e,null==n?void 0:n.optionValue)),n.onChange&&"function"==typeof n.onChange&&n.onChange(e)):(Y(l,e[null==n?void 0:n.optionValue]),n.onChange&&"function"==typeof n.onChange&&n.onChange(e))}catch(e){Y(l,null)}}function _(){setshow(!i)}return a(function(){!function(e){var t=null;if(null!=n&&n.isMultiple){var a;t=[];try{if(u(y)&&u(e))for(var i=0;i<(null==y?void 0:y.length);i++)for(var d=0;d<(null==e?void 0:e.length);d++){var s=y[i],p=e[d];String(s[null==n?void 0:n.optionValue])==String(p)&&t.push(s)}}catch(e){}0==(null===(a=t)||void 0===a?void 0:a.length)&&(t=null)}else t=m(y,function(t){return String(t[null==n?void 0:n.optionValue])==String(e)}.bind(this))||{},o(t)&&(t=null);r(t)||c({type:"SET_PARAMETER",payload:{key:"selected_"+l,value:t}})}(p)},[p]),null!=n&&n.disabled||null!=n&&n.isReadonly?g(f):null!=n&&n.withModal?e.createElement(e.Fragment,null,e.createElement(Row,null,!(null!=n&&n.isReadonly)&&e.createElement(Col,{lg:"1",md:"1",sm:"3",xs:"1"},e.createElement(Button,{type:"button",className:"btn btn-icon btn-primary",onClick:_},e.createElement(ae,{icon:le})," Pilih")),e.createElement(Col,{lg:"11",md:"11",sm:"9",xs:"11"},!f||r(f)||o(f)?"":g(f))),e.createElement(Modal,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",show:i,onHide:_},e.createElement(ModalHeader,{closeButton:!0,toggle:_},e.createElement(Modal.Title,null,(null==n?void 0:n.placeholder)||"Pilih")),e.createElement(ModalBody,null,e.createElement(Re,{isClearable:!0,id:l,isSearchable:!0,isHtml:null==n?void 0:n.isHtml,isMulti:null==n?void 0:n.isMultiple,placeholder:null!=n&&n.placeholder?null==n?void 0:n.placeholder:"Pilih",getOptionLabel:g,getOptionValue:function(e){return e[null==n?void 0:n.optionValue]},noOptionsMessage:function(){return"Data tidak ditemukan"},value:f,onChange:b,options:y,isDisabled:null==n?void 0:n.disabled})))):e.createElement(Re,{menuPortalTarget:document.body,menuPosition:"fixed",styles:{menuPortal:function(e){return Ae({},e,{fontFamily:"inherit",fontSize:"inherit",zIndex:9999})},menu:function(e){return Ae({},e,{fontFamily:"inherit",fontSize:"inherit",zIndex:"9999 !important"})},multiValueRemove:function(e){return Ae({},e,{color:"#db2828",cursor:"pointer"})},placeholder:function(e){return Ae({},e,{fontFamily:"inherit",fontSize:"inherit"})},multiValue:function(e){return Ae({},e,{background:"none"})},multiValueLabel:function(e){return Ae({},e,{fontFamily:"inherit",fontSize:"inherit"})},option:function(e){return Ae({},e,{fontFamily:"inherit",fontSize:"inherit"})},clearIndicator:function(e,t){return Ae({},e,{cursor:"pointer",color:"#db2828"})}},className:"tcomponent-select",isClearable:!0,id:l,isSearchable:!0,isHtml:null==n?void 0:n.isHtml,isMulti:null==n?void 0:n.isMultiple,placeholder:null!=n&&n.placeholder?null==n?void 0:n.placeholder:"Pilih",getOptionLabel:g,getOptionValue:function(e){return e[null==n?void 0:n.optionValue]},noOptionsMessage:function(){return"Data tidak ditemukan"},value:f,onChange:b,options:y,isDisabled:null==n?void 0:n.disabled})}function ut(n){var l=t(!1),r=l[0],u=l[1],d=t(!1),s=d[0],m=d[1],p=t(!1),f=p[0],y=p[1],v=t(!1),h=v[0],g=v[1],E=q(function(e){return e.auth})||{},Y=q(function(e){return e.core.input})||{},b=q(function(e){return e.core.validation})||[],_=(q(function(e){return e.core.parameter}),q(function(e){return e.core.filter})||{}),k=X(),D=t({}),T=D[0],x=D[1],C=t({activity:{},role:"",response:[]}),P=C[0],N=C[1],L=n.doAfterSubmit,A=n.isLoading,F=n.doSubmit,O=n.doCancel,B=n.isReadonly,W=n.relation,j=n.id,G=n.isDelete,Q=t(B),Z=Q[0],$=Q[1];return a(function(){$(B)},[B]),a(function(){var e,t;e=process.env.REACT_APP_API_URL+"/komentar_respon?",t={data:w({relation:W,id:j}),method:"POST",headers:M(E),url:e},g(!0),J(t).then(function(e){var t=e.data.data||{};G&&(t.response=i(t.response,function(e){return"HAPUS"==e.code})),N(t),g(!1)}).catch(function(e){R(e,k),g(!1)})},[]),a(function(){var e=[];try{e=P.role.split(",")}catch(e){}var t=[];try{t=E.user.role.split(",")}catch(e){}for(var n=!1,a=!1,l=0;l<t.length;l++)!a&&t[l]&&c(String(t[l]).trim().toLowerCase(),"admin")&&(a=!0,n=!0,k({type:"SET_INPUT",payload:{key:"response_role",value:String(t[l]).trim().toLowerCase()}}));if(!a)for(var r=0;r<e.length;r++)for(var i=0;i<t.length;i++)e[r]&&t[i]&&String(e[r]).trim().toLowerCase()==String(t[i]).trim().toLowerCase()&&!n&&(n=!0,k({type:"SET_INPUT",payload:{key:"response_role",value:String(t[i]).trim().toLowerCase()}}));!o(P.activity)&&P.response.length>0&&n&&Z&&!B?($(!1),k({type:"SET_INPUT",payload:{key:"activity",value:P.activity.code}})):$(!0)},[P]),a(function(){f&&!o(b)&&y(!1)},[b]),a(function(){!f||A||r||(y(!1),o(b)&&L&&L())},[r,b,A]),h?e.createElement(Fe,null):e.createElement(Xe,{isLoading:A||f},e.createElement(K,null,e.createElement(K.Body,null,e.createElement(K.Title,{tag:"h5"},P.activity.name||"Alur tidak ditemukan"),e.createElement(K.Text,null,!Z&&e.createElement(H,null,e.createElement(U,{lg:"6"},e.createElement(z.Group,{as:H},e.createElement(U,{lg:"3"},e.createElement(z.Label,null,"Respon ",e.createElement("span",{className:"text-danger"},"*"))),e.createElement(U,{lg:"9"},e.createElement(ct,{name:"response_activity",options:P.response,separator:" | ",optionLabel:["name"],optionValue:"code"}))),e.createElement(z.Group,{as:H},e.createElement(U,{lg:"3"},e.createElement(z.Label,null,"Lampiran")),e.createElement(U,{lg:"5"},e.createElement(Ue,{value:Y.attachment,name:"response_attachment",id:"response_attachment"})))),e.createElement(U,{lg:"6"},e.createElement(z.Group,{as:H},e.createElement(U,{lg:"3",style:{marginBottom:35}},e.createElement(z.Label,null,"Komentar")),e.createElement(U,{lg:"9"},e.createElement(Ve,{type:"textarea",required:!0,name:"response_comment",id:"response_comment",rows:"3"}))))),e.createElement($e,{data:T,isLoading:s,name:S(n.relation,"_"),primaryKey:"id",isSearchable:!0,isColumnsSearchable:!0,onReload:function(){var e=process.env.REACT_APP_API_URL+"/komentar?",t={};try{t=I(_,["user","role","activity","comment","due_datetime","start_datetime","end_datetime"],S(n.relation,"_"))}catch(e){}var a=Ae({relation:W,id:j},t),l={data:w(a),method:"POST",headers:M(E),url:e};m(!0),J(l).then(function(e){x(e.data.data),m(!1)}).catch(function(e){R(e,k),m(!1)})},columns:[{Header:"Nama",id:"user",accessor:function(e){return e.user}},{Header:"Jabatan",id:"role",accessor:function(e){return e.role}},{Header:"Aktifitas",id:"activity",accessor:function(e){return e.activity}},{Header:"Respon",id:"response",accessor:function(e){return e.response}},{Header:"Komentar",id:"comment",accessor:function(e){return e.comment}},{Header:"Tenggat",id:"due_datetime",accessor:function(e){return e.due_datetime&&ee(e.due_datetime).format("DD-MM-YYYY HH:mm")}},{Header:"Mulai",id:"start_datetime",accessor:function(e){return e.start_datetime&&ee(e.start_datetime).format("DD-MM-YYYY HH:mm")}},{Header:"Selesai",id:"end_datetime",accessor:function(e){return e.end_datetime&&ee(e.end_datetime).format("DD-MM-YYYY HH:mm")}},{Header:"Lampiran",id:"attachment",accessor:function(t){return e.createElement(Ue,{value:t.attachment,isReadonly:!0})}}]})),e.createElement(H,{className:"mt-2"},e.createElement(U,null,e.createElement(V,{type:"button",className:"btn btn-icon btn-primary float-left",onClick:function(e){O&&O()}},"Kembali"),!Z&&e.createElement(V,{type:"button",className:"btn btn-icon btn-primary float-right",onClick:function(e){!Y.response_activity||o(Y.response_activity)?k({type:"SET_MESSAGE",payload:"Respon wajib diisi"}):(y(!0),u(!0),setTimeout(function(){return u(!1)},1e3),F&&F())}},"Proses"))))))}function dt(t){return e.createElement(A,null,e.createElement(A.Text,{style:{background:"none"}},e.createElement(ae,{icon:ve})),e.createElement(z.Control,{style:{borderLeft:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:t.disabled,name:t.name,value:t.value||"",onClick:t.onClick}))}function st(t){var n=r(null==t?void 0:t.name)?"":S(String(null==t?void 0:t.name),"_"),a=X(),l=q(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},o=x(n,l)||null,i=x("start_"+n,l)||null,c=x("end_"+n,l)||null;if(t.isRange){try{i=ee(i,"YYYY").isValid()?ee(i,"YYYY").toDate():null}catch(e){}try{c=ee(c,"YYYY").isValid()?ee(c,"YYYY").toDate():null}catch(e){}}else try{o=ee(o,"YYYY").isValid()?ee(o,"YYYY").toDate():null}catch(e){}function u(e,t){a({type:"SET_INPUT",payload:{key:S(String(e),"_"),value:ee(t,"YYYY").isValid()?ee(t,"YYYY").format("YYYY"):""}})}return t.isRange?t.disabled||t.isReadonly?(ee(i,"YYYY").isValid()?ee(i,"YYYY").format("YYYY"):"")+" - "+(ee(c,"YYYY").isValid()?ee(c,"YYYY").format("YYYY"):""):e.createElement("div",{className:"input-daterange input-group"},e.createElement(ye,{minDate:ee(t.minDate,"YYYY").isValid()?ee(t.minDate,"YYYY").toDate():null,maxDate:ee(t.maxDate,"YYYY").isValid()?ee(t.maxDate,"YYYY").toDate():null,dateFormat:"yyyy",placeholder:t.placeholder?t.placeholder:"Tanggal",selected:i,isClearable:!t.disabled&&!t.isReadonly,customInput:e.createElement(dt,{value:i,name:"start_"+n}),onChange:function(e){e=ee(e,"YYYY").isValid()?ee(e,"YYYY").format("YYYY"):null,u("start_"+n,e)},selectsStart:!1,peekNextMonth:!1,showMonthDropdown:!1,showYearDropdown:!1,showYearPicker:!0,name:"start_"+n,todayButton:null,dropdownMode:"select",disabled:t.disabled||t.isReadonly,readOnly:t.disabled||t.isReadonly,startDate:i,endDate:c,shouldCloseOnSelect:!1}),e.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),e.createElement(ye,{minDate:ee(i,"YYYY").isValid()?ee(i,"YYYY").toDate():ee(t.minDate,"YYYY").isValid()?ee(t.minDate,"YYYY").toDate():null,maxDate:ee(t.maxDate,"YYYY").isValid()?ee(t.maxDate,"YYYY").toDate():null,dateFormat:"yyyy",placeholder:t.placeholder?t.placeholder:"Tanggal",selected:c,isClearable:!t.disabled&&!t.isReadonly,name:"end_"+n,selectsEnd:!0,customInput:e.createElement(dt,{value:c,name:"end_"+n}),onChange:function(e){e=ee(e,"YYYY").isValid()?ee(e,"YYYY").format("YYYY"):null,u("end_"+n,e)},selectsStart:!1,peekNextMonth:!1,showMonthDropdown:!1,showYearDropdown:!1,showYearPicker:!0,todayButton:null,dropdownMode:"select",startDate:i,endDate:c,disabled:t.disabled||t.isReadonly,readOnly:t.disabled||t.isReadonly,shouldCloseOnSelect:!1})):t.disabled||t.isReadonly?ee(o,"YYYY").isValid()?ee(o,"YYYY").format("YYYY"):"":e.createElement(ye,{minDate:ee(t.minDate,"YYYY").isValid()?ee(t.minDate,"YYYY").toDate():null,maxDate:ee(t.maxDate,"YYYY").isValid()?ee(t.maxDate,"YYYY").toDate():null,dateFormat:"yyyy",placeholder:t.placeholder?t.placeholder:"Tanggal",customInput:e.createElement(dt,{value:o,name:n}),selected:o,isClearable:!t.disabled&&!t.isReadonly,id:n,className:"form-control",onChange:function(e){e=ee(e,"YYYY").isValid()?ee(e,"YYYY").format("YYYY"):null,u(n,e)},selectsStart:!1,peekNextMonth:!1,showMonthDropdown:!1,showYearDropdown:!1,showYearPicker:!0,todayButton:null,dropdownMode:"select",disabled:t.disabled||t.isReadonly,readOnly:t.disabled||t.isReadonly,shouldCloseOnSelect:!1})}ee();var mt=Ie(tt||(tt=ze(["\n   position: absolute;\n   top: 50%;\n   left: 50%;\n   margin-top: -25px;\n   margin-left: -50px;\n"])));function pt(){return e.createElement(fe,{color:"#000",css:mt,size:50})}function ft(n){var a=t(!1),l=a[0],o=a[1],i=r(null==n?void 0:n.name)?"":S(String(null==n?void 0:n.name),"_"),c=X(),u=q(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},d=(q(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.parameter}),x(i,u)||"");function s(){o(!l)}return e.createElement(e.Fragment,null,l?e.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:999}},e.createElement(Ne,{color:d,onChangeComplete:function(e){var t;t=e.hex,c({type:"SET_INPUT",payload:{key:S(String(i),"_"),value:t}}),function(e,t){c({type:"SET_PARAMETER",payload:{key:S(String(e),"_"),value:t}})}("selected_"+i,e)}}),e.createElement(V,{style:{marginTop:10,backgroundColor:d,border:0},className:"btn btn-primary",onClick:s,type:"button"},"Pilih")):e.createElement(V,{style:{zIndex:0,backgroundColor:d,border:0},className:"btn btn-primary",onClick:s,type:"button"},"Pilih"))}function yt(n){var l=t({}),c=l[0],d=l[1],s=t(!1),m=s[0],p=s[1],f=n.isMultiple,y=n.optionLabel,v=n.separator,h=n.primaryKey,g=n.id,E=n.param,b=S(n.name,"_"),_=S("selected_"+b,"_"),k=X(),D=q(function(e){return e.auth})||{},T=q(function(e){return e.core.input})||{},C=q(function(e){return e.core.filter})||{},P=q(function(e){return e.core.parameter})||{};return a(function(){var e=process.env.REACT_APP_API_URL+"/"+n.url,t=I(C,[],b),a=w(Ae({pkey:h,selected:[g],keyword:t.keyword,load:1,page:1},E)),l={method:"POST",headers:M(D),url:e,data:a};p(!0),J(l).then(function(e){d(e.data.data.data[0]),p(!1)}).catch(function(e){p(!1)})},[g]),e.createElement(e.Fragment,null,!c||r(c)||o(c)?m?e.createElement(Fe,null):"":[function(e){if(u(y)){var t=[];v=v||" | ";for(var n=0;n<=y.length-1;n++)e[y[n]]&&!r(e[y[n]])&&t.push(e[y[n]]);return t.join(v)}return e[y]?e[y]:""}(c),!n.isReadonly&&e.createElement(V,{variant:"link",onClick:function(e){if(d(null),Y(n.optionValue)&&Object.keys(n.optionValue).map(function(e,t){k({type:"SET_INPUT",payload:{key:n.optionValue[e],value:null}})}),f){var t=i(x(b,T),function(t){return t!=e}),a=i(x(_,T),function(t){return t!=e}),l=i(x(_,P),function(t){return t[h]!=e});k({type:"SET_INPUT",payload:{key:b,value:t}}),k({type:"SET_INPUT",payload:{key:_,value:a}}),k({type:"SET_PARAMETER",payload:{key:_,value:l}})}else k({type:"SET_INPUT",payload:{key:b,value:null}}),k({type:"SET_INPUT",payload:{key:_,value:null}}),k({type:"SET_PARAMETER",payload:{key:_,value:{}}})}.bind(null,c[h]),style:{borderRadius:100,zIndex:0}},e.createElement(ae,{color:"#db2828",icon:oe}))])}function vt(l){var d=l.isMultiple,s=l.defaultValue,m=l.optionLabel,f=l.separator,y=X(),h=q(function(e){return e.auth})||{},b=q(function(e){return e.core.input})||{},_=q(function(e){return e.core.filter})||{},k=q(function(e){return e.core.parameter})||{},D=t(!1),T=D[0],C=D[1],R=(t(!1),t(!1)),N=R[0],F=R[1],O=t(!1),B=O[0],W=O[1],j=t({}),K=j[0],G=j[1],Q=(t(d?[]:{}),t(0)[1]),Z=t(!1),$=Z[0],ee=Z[1],te=(t(1),S(l.name,"_")),ne=S("selected_"+te,"_"),re=(t(l.label?l.label:x(te,b)),n()),oe=Me(re),ie=t([]),ce=ie[0],ue=ie[1],de=t({}),se=de[0],fe=de[1],ye=l.primaryKey?l.primaryKey:"id";function ve(e){var t=[];if(f=f||" | ",u(m)){for(var n=0;n<=m.length-1;n++)e[m[n]]&&!r(e[m[n]])&&t.push(e[m[n]]);return t.join(f)}return e[m]?e[m]:""}var he=[{Header:"#",id:te+"_check",Cell:function(t){var n=q(function(e){return e.core.input}),a=!1,o=x(ne,n);try{a=d?v(o,function(e){return e===t.row.original[ye]})>-1:o===t.row.original[ye]}catch(e){}return t.row.original[ye]?e.createElement(z.Check,{inline:!0,id:S(te+"_check_"+t.row.original[ye],"_"),name:S(te+"_check_"+t.row.original[ye],"_"),style:{zIndex:100},type:d?"checkbox":"radio",value:1,checked:a,disabled:l.isReadonly,onChange:function(){return function(e,t,n){void 0===n&&(n=!1);var a=e.row.original||{};if(d){var l=[],o=x(ne,t);n?l=i(o,function(e){return e&&a&&String(e)!=String(a[ye])})||[]:(u(l=o||[])||(l=[]),a[ye]&&l.push(a[ye])),l=g(l),l=i(l,function(e){return!p(e)&&!r(e)})||[],y({type:"SET_INPUT",payload:{key:ne,value:l}})}else y({type:"SET_INPUT",payload:{key:ne,value:a[ye]}})}(t,n,a)}}):null}}].concat([{Header:"Keterangan",id:"label",accessor:function(e){return ve(e)}}]);function ge(){$&&Ye()}P(function(){if(d){var e=i(x(ne,b),function(e){return!p(e)&&!r(e)})||[];if(e.length>0){var t=process.env.REACT_APP_API_URL+"/"+l.url,n=I(_,[],te),a=w(Ae({pkey:ye,selected:e,keyword:n.keyword,load:e.length,page:1},l.parameter)),o={method:"POST",headers:M(h),url:t,data:a};F(!0),J(o).then(function(e){y({type:"SET_PARAMETER",payload:{key:ne,value:e.data.data.data}}),be(e.data.data.data),F(!1)}).catch(function(e){F(!1)})}else y({type:"SET_PARAMETER",payload:{key:ne,value:null}})}else{var c=x(ne,b)||null;if(c){var u=process.env.REACT_APP_API_URL+"/"+l.url,s=I(_,[],te),m=w(Ae({pkey:ye,selected:[c],keyword:s.keyword,load:1,page:1},l.parameter)),f={method:"POST",headers:M(h),url:u,data:m};F(!0),J(f).then(function(e){var t=e.data.data.data[0]||{};y({type:"SET_PARAMETER",payload:{key:ne,value:t}}),be(t),F(!1)}).catch(function(e){F(!1)})}else y({type:"SET_PARAMETER",payload:{key:ne,value:null}})}},400,[x(ne,b)]),P(ge,400,[x("keyword_"+te,_),x("page_"+te,_),x("load_"+te,_)]);var Ee=e.useMemo(function(){return he},[]);function Ye(){var e=process.env.REACT_APP_API_URL+"/"+l.url,t=I(_,[],te),n=w(Ae({pkey:ye,page:t.page,load:t.load,keyword:t.keyword,sorted:t.sorted,search:t.search},l.parameter)),a={method:"POST",headers:M(h),url:e,data:n};return W(!0),J(a).then(function(e){var t=e.data||{};if(void 0!==t.data.data){Q(t.data.meta.last_page);try{ue(t.data.data||[])}catch(e){}try{fe(t.data.meta||{})}catch(e){}}else if(void 0!==t.data){Q(t.meta.last_page);try{ue(t.data||[])}catch(e){}try{fe(t.meta||{})}catch(e){}}W(!1)}).catch(function(e){W(!1)})}function be(e){d?function(e){if(Y(l.optionValue))Object.keys(l.optionValue).map(function(t,n){var a=l.optionValue[t],r=null;if(e)try{r=g(E(e,t))}catch(e){}c(x(a,b),r)||y({type:"SET_INPUT",payload:{key:a,value:r}})});else{var t=te,n=null;e&&(n=g(E(e,ye))),c(x(t,b),n)||y({type:"SET_INPUT",payload:{key:t,value:n}})}}(e):function(e){if(Y(l.optionValue))Object.keys(l.optionValue).map(function(t,n){var a=l.optionValue[t],r=null;if(e)try{r=e[t]}catch(e){}c(x(a,b),r)||y({type:"SET_INPUT",payload:{key:a,value:r}})});else{var t=te,n=null;e&&(n=e[ye]),c(x(t,b),n)||y({type:"SET_INPUT",payload:{key:t,value:n}})}}(e)}a(function(){c(l.parameter,K)||(G(l.parameter),ge()),oe!=T&&C(oe)}),a(function(){y({type:"SET_FILTER",payload:{key:S("show_"+te,"_"),value:$}})},[$]),a(function(){if(T){var e=null;try{d?(e=E(s,"value"),e=i(e,function(e){return e})||[]):e=s.value||null}catch(e){}var t=x(ne,b)||null;c(e,t)||(p(e)&&!p(t)?y({type:"SET_INPUT",payload:{key:ne,value:t}}):!p(e)&&p(t)?y({type:"SET_INPUT",payload:{key:ne,value:e}}):p(e)||p(t)?y({type:"SET_INPUT",payload:{key:ne,value:null}}):y({type:"SET_INPUT",payload:{key:ne,value:e}}))}},[T]),a(function(){var e=null;try{e=d?i(E(s,"value"),function(e){return e})||null:s.value||null}catch(e){}e&&y({type:"SET_INPUT",payload:{key:ne,value:e}})},[]);var _e=[],ke=x(ne,b);try{_e=d?u(ke)?ke:[]:ke?[ke]:[]}catch(e){}var De=x(ne,k),Te=null;try{Te=d?u(De)?De:[]:Y(De)?De:{}}catch(e){}return e.createElement("div",{ref:re},e.createElement(H,null,!l.isReadonly&&e.createElement(U,{lg:"2",md:"2",sm:"4",xs:"12"},e.createElement(V,{style:{zIndex:0},variant:"primary",type:"button",className:"btn-icon",onClick:function(){y({type:"SET_FILTER",payload:{key:S("page_"+te,"_"),value:1}}),ee(function(e){return!e}),Ye()}},e.createElement(ae,{icon:le}))),e.createElement(U,{lg:"10",md:"10",sm:"8",xs:"12"},N?e.createElement(Fe,null):_e.map(function(t,n){return e.createElement(e.Fragment,null,e.createElement(yt,{isReadonly:l.isReadonly,name:te,optionLabel:m,separator:f,param:l.parameter,url:l.url,primaryKey:ye,isMultiple:d,id:t}),l.isReadonly?_e.length-1==n?null:", ":null)}))),e.createElement(L,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",show:$},e.createElement(L.Header,null,e.createElement(L.Title,null,l.placeholder||"Pilih")),e.createElement(L.Body,null,e.createElement(Xe,{isLoading:B},e.createElement("div",null,e.createElement(A,{style:{marginBottom:12}},e.createElement(A.Text,{style:{background:"none"}},e.createElement(ae,{icon:le})),e.createElement(z.Control,{style:{borderLeft:"none",zIndex:0},className:"form-control",value:x("keyword_"+te,_),onChange:function(e){var t;y({type:"SET_MULTI_FILTER",payload:(t={},t["keyword_"+te]=e.target.value,t["page_"+te]=1,t)})},type:"text",id:"search_"+ne,name:"search_"+te,placeholder:"Pencarian"}),e.createElement(V,{style:{zIndex:0},variant:"primary",onClick:ge,type:"button",disabled:l.isLoading},e.createElement(ae,{icon:me,spin:l.isLoading}))),e.createElement(Ze,{name:te,columns:Ee,data:ce,primaryKey:ye,isColumnsSearchable:!0,fetchData:ge,loading:B,customPageTotal:se&&!o(se)?se.total:0,customPageCount:se&&!o(se)?se.last_page:1,customPageSize:se&&!o(se)?se.per_page:_["load_"+te]?_["load_"+te]:5,customPageIndex:se&&!o(se)?se.current_page:_["page_"+te]?_["page_"+te]:1}))),!B&&e.createElement(H,{style:{marginTop:12}},e.createElement(U,{lg:"9",md:"8",sm:"6",xs:"12"},e.createElement("p",{style:{marginBottom:"4px"}},"Dipilih : "),N&&e.createElement(Fe,null),e.createElement("ul",null,d?Te&&Te.map(function(t,n){return e.createElement("li",null,r(t)||o(t)?"":ve(t))}):Te&&e.createElement("li",null,r(Te)||o(Te)?"":ve(Te)))),e.createElement(U,{lg:"3",md:"4",sm:"6",xs:"12"},e.createElement(V,{variant:"primary",type:"button",className:"btn-icon",style:{float:"right"},onClick:function(){ee(!1)}},e.createElement(ae,{icon:pe})))))))}function ht(t){var n={chart:{width:"auto"}},a=t.series||[];if((r(t.series)||p(t.series)||!u(t.series))&&u(t.options)&&!r(t.optionValue)&&!p(t.optionValue))for(var l=function(){if(d(t.optionValue))a.push(t.options[o][t.optionValue]);else if(b(t.optionValue)){var e={};Object.keys(t.optionValue).map(function(n,a){e[t.optionValue[n]]=t.options[o][n]}),a.push(e)}else if(u(t.optionValue)){var n=[];for(m=0;m<t.optionValue.length;m++)n.push(t.options[o][t.optionValue[m]]);a.push(n)}},o=0;o<t.options.length;o++)l();r(t.dataLabels)||p(t.dataLabels)||!b(t.dataLabels)||(n.dataLabels=t.dataLabels);var i,c=" ";if(r(t.separator)||p(t.separator)||!b(t.separator)||(c=t.separator),r(t.labels)||p(t.labels)||!u(t.labels)){if(u(t.options)&&!r(t.optionLabel)&&!p(t.optionLabel))for(n.labels=[],o=0;o<t.options.length;o++)if(d(t.optionLabel))n.labels.push(t.options[o][t.optionLabel]);else if(u(t.optionLabel)){for(var s=[],m=0;m<t.optionLabel.length;m++)s.push(t.options[o][t.optionLabel[m]]);n.labels.push(s.join(c))}}else n.labels=t.labels;if(r(t.colors)||p(t.colors)||!u(t.colors)){if(u(t.options)&&!r(t.optionColor)&&!p(t.optionColor)&&d(t.optionColor))for(n.colors=[],o=0;o<t.options.length;o++)n.colors.push(t.options[o][t.optionColor])}else n.colors=t.colors;return r(t.locales)||p(t.locales)||!u(t.locales)||(n.chart.locales=t.locales),r(t.type)||p(t.type)||!d(t.type)||(n.chart.type=t.type),r(t.animations)||p(t.animations)||!b(t.animations)||(n.chart.animations=t.animations),r(t.background)||p(t.background)||!d(t.background)||(n.chart.background=t.background),r(t.brush)||p(t.brush)||!b(t.brush)||(n.chart.brush=t.brush),r(t.defaultLocale)||p(t.defaultLocale)||!d(t.defaultLocale)||(n.chart.defaultLocale=t.defaultLocale),r(t.dropShadow)||p(t.dropShadow)||!b(t.defaultLocale)||(n.chart.dropShadow=t.dropShadow),r(t.fontFamily)||p(t.fontFamily)||!d(t.fontFamily)||(n.chart.fontFamily=t.fontFamily),r(t.foreColor)||p(t.foreColor)||!d(t.foreColor)||(n.chart.foreColor=t.foreColor),r(t.group)||p(t.group)||!d(t.group)||(n.chart.group=t.group),r(t.events)||p(t.events)||!b(t.events)||(n.chart.events=t.events),r(t.height)||p(t.height)||!d(t.height)&&!f(t.height)||(n.chart.height=t.height),r(t.id)||p(t.id)||!d(t.id)||(n.chart.id=S(t.id)),r(t.name)||p(t.name)||!d(t.name)||(n.chart.id=S(t.name)),r(t.offsetX)||p(t.offsetX)||!f(t.offsetX)||(n.chart.offsetX=t.offsetX),r(t.offsetY)||p(t.offsetY)||!f(t.offsetY)||(n.chart.offsetY=t.offsetY),r(t.parentHeightOffset)||p(t.parentHeightOffset)||!f(t.parentHeightOffset)||(n.chart.parentHeightOffset=t.parentHeightOffset),r(t.redrawOnParentResize)||p(t.redrawOnParentResize)||!h(t.redrawOnParentResize)||(n.chart.redrawOnParentResize=t.redrawOnParentResize),r(t.redrawOnWindowResize)||p(t.redrawOnWindowResize)||!h(t.redrawOnWindowResize)||(n.chart.redrawOnWindowResize=t.redrawOnWindowResize),r(t.selection)||p(t.selection)||!b(t.selection)||(n.chart.selection=t.selection),r(t.sparkline)||p(t.sparkline)||!h(t.sparkline)||(n.chart.sparkline=t.sparkline),r(t.stacked)||p(t.stacked)||!h(t.stacked)||(n.chart.stacked=t.stacked),r(t.stackType)||p(t.stackType)||!d(t.stackType)||(n.chart.stackType=t.stackType),r(t.toolbar)||p(t.toolbar)||!b(t.toolbar)||(n.chart.toolbar=t.toolbar),r(t.width)||p(t.width)||!d(t.width)&&!f(t.width)||(n.chart.width=t.width),r(t.zoom)||p(t.zoom)||!b(t.zoom)||(n.chart.zoom=t.zoom),r(t.fill)||p(t.fill)||!b(t.fill)||(n.fill=t.fill),r(t.forecastDataPoints)||p(t.forecastDataPoints)||!b(t.forecastDataPoints)||(n.forecastDataPoints=t.forecastDataPoints),r(t.grid)||p(t.grid)||!b(t.grid)||(n.grid=t.grid),r(t.legend)||p(t.legend)||!b(t.legend)||(n.legend=t.legend),r(t.markers)||p(t.markers)||!b(t.markers)||(n.markers=t.markers),r(t.noData)||p(t.noData)||!b(t.noData)||(n.noData=t.noData),r(t.states)||p(t.states)||!b(t.states)||(n.states=t.states),r(t.stroke)||p(t.stroke)||!b(t.stroke)||(n.stroke=t.stroke),r(t.subtitle)||p(t.subtitle)||!b(t.subtitle)||(n.subtitle=t.subtitle),r(t.theme)||p(t.theme)||!b(t.theme)||(n.theme=t.theme),r(t.title)||p(t.title)||!b(t.title)||(n.title=t.title),r(t.tooltip)||p(t.tooltip)||!b(t.tooltip)||(n.tooltip=t.tooltip),r(t.xaxis)||p(t.xaxis)||!b(t.xaxis)||(n.xaxis=t.xaxis),r(t.yaxis)||p(t.yaxis)||!b(t.yaxis)||(n.yaxis=t.yaxis),r(t.plotOptions)||p(t.plotOptions)||!b(t.plotOptions)||(n.plotOptions=((i={})[n.chart.type]=t.plotOptions,i)),e.createElement(Le,{options:n,series:a,type:n.chart.type})}function gt(t){return e.createElement(ht,Ae({},t,{type:"line"}))}function Et(t){return e.createElement(ht,Ae({},t,{type:"bar"}))}function Yt(t){return e.createElement(ht,Ae({},t,{type:"area"}))}function bt(t){return e.createElement(ht,Ae({},t,{type:"candlestick"}))}function _t(t){return e.createElement(ht,Ae({},t,{type:"heatmap"}))}function kt(t){return e.createElement(ht,Ae({},t,{type:"treemap"}))}function Dt(t){return e.createElement(ht,Ae({},t,{type:"pie"}))}function Tt(t){return e.createElement(ht,Ae({},t,{type:"donut"}))}function St(t){return e.createElement(ht,Ae({},t,{type:"radar"}))}function xt(t){return e.createElement(ht,Ae({},t,{type:"rangeBar"}))}function wt(t){return e.createElement(ht,Ae({},t,{type:"bubble"}))}function Mt(t){return e.createElement(ht,Ae({},t,{type:"polarArea"}))}function Ct(t){return e.createElement(ht,Ae({},t,{type:"radialBar"}))}function Pt(t){return e.createElement(ht,Ae({},t,{type:"scatter"}))}function Rt(t){return e.createElement(ht,Ae({},t,{type:"boxPlot"}))}function It(t){return e.createElement(ht,Ae({},t,{type:"histogram"}))}export{Yt as ChartArea,Et as ChartBar,Rt as ChartBoxPlot,wt as ChartBubble,bt as ChartCandleStick,Tt as ChartDonut,_t as ChartHeatMap,It as ChartHistogram,gt as ChartLine,Dt as ChartPie,Mt as ChartPolarArea,St as ChartRadar,Ct as ChartRadial,xt as ChartRange,Pt as ChartScatter,kt as ChartTreeMap,$e as DataTable,Ze as DataTableContainer,et as Field,Be as InputChoose,ft as InputColor,Ke as InputDate,lt as InputDateTime,Ue as InputFile,Ge as InputNumber,ct as InputSelect,vt as InputSelectFetch,it as InputTag,Ve as InputText,ot as InputTime,ut as InputWorkflow,st as InputYear,Fe as Loading,Xe as LoadingOverlay,pt as LoadingPage};
//# sourceMappingURL=index.modern.js.map
