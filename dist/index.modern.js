import e,{useState as t,useEffect as a,useRef as s}from"react";import"react-phone-number-input/style.css";import"bootstrap/dist/css/bootstrap.min.css";import"dropzone/dist/min/dropzone.min.css";import"video-react/dist/video-react.css";import"rc-time-picker/assets/index.css";import"react-datepicker/dist/react-datepicker.css";import"react-input-range/lib/css/index.css";import n from"cleave.js/react";import{isEqual as r,isEmpty as i,isUndefined as o,filter as l,isArray as p,isString as h,debounce as d,isNull as m,find as c,includes as u,uniqBy as y,findIndex as g,isBoolean as f,uniq as E,map as b,isObject as v}from"lodash";import{connect as T,useSelector as k,useDispatch as x}from"react-redux";import C from"react-phone-number-input";import S from"jodit-react";import R from"mousetrap";import{slug as w,findArrayName as D,secureData as I,setAuthHeader as P,numberFormat as M,useDebounce as N,fetchErrorDispatch as A,defaultFilterData as L}from"tcomponent";import H from"html-react-parser";import{Form as V,ButtonGroup as F,Button as Y,Modal as O,InputGroup as U,Table as z,Row as B,Col as W,DropdownButton as G,Dropdown as j,Card as K}from"react-bootstrap";import"@wiris/mathtype-generic";import q from"react-contenteditable";import J from"axios";import Q from"react-dropzone-component";import{Player as X}from"video-react";import*as Z from"moment";import $ from"moment";import{FontAwesomeIcon as ee}from"@fortawesome/react-fontawesome";import{faSearch as te,faDownload as ae,faTimes as se,faAngleDoubleLeft as ne,faAngleLeft as re,faBars as ie,faAngleRight as oe,faAngleDoubleRight as le,faSync as pe}from"@fortawesome/free-solid-svg-icons";import he from"react-spinners/PuffLoader";import de from"react-datepicker";import{faCalendar as me,faFile as ce,faArrowAltCircleDown as ue,faArrowAltCircleUp as ye,faClock as ge}from"@fortawesome/free-regular-svg-icons";import fe from"react-input-range";import _e from"react-loading-overlay";import Ee from"styled-components";import{useIsVisible as be}from"react-is-visible";import{useTable as ve,useFilters as Te,useSortBy as ke,useExpanded as xe,usePagination as Ce}from"react-table";import Se from"rc-time-picker";import Re from"react-tag-autocomplete";import we from"react-select";import{css as De}from"@emotion/react";import{SketchPicker as Ie}from"react-color";import Pe from"react-apexcharts";class Me extends e.Component{constructor(t){super(t),this.handleEquationChange=e=>{let{onEquationInput:t}=this.props,a=window.WirisPlugin.Parser.endParse(e.target.value);t(e.target.value,a)},this.equationEditorRef=e.createRef(),this.toolbarRef=e.createRef()}componentDidMount(){try{let e={};e.target=this.equationEditorRef.current,e.toolbar=this.toolbarRef.current;let t=new window.WirisPlugin.GenericIntegration(e);t.init(),t.listeners.fire("onTargetReady",{})}catch(e){}}render(){let{value:t}=this.props||{};return e.createElement("div",null,e.createElement("div",{ref:this.toolbarRef}),e.createElement(q,{suppressContentEditableWarning:!0,className:"equationContainer",innerRef:this.equationEditorRef,onChange:this.handleEquationChange,html:t||""}))}}var Ne=T(e=>({input:e.core.input||{}}),e=>({setInput:(t,a)=>e({type:"SET_INPUT",payload:{key:w(String(t),"_"),value:a}})}))(class extends e.Component{constructor(t){super(t),this.handleInputChange=e=>{e.preventDefault();let t=e.target.value?String(e.target.value):"";"nik"!=this.state.type&&"kip"!=this.state.type&&"npwp"!=this.state.type&&"postcode"!=this.state.type||(t=t.replace(/\D/g,"")),this.props.maxlength&&(t=t.substring(0,this.props.maxlength)),this.setState({value:t}),this.props.setInput(this.state.props_name,t)},this.onChange=e=>{this.setState({value:e}),this.props.setInput(this.state.props_name,e)};let a=this.props.placeholder,s={},n=this.props.type?String(this.props.type):"";"nik"==n.toLowerCase()?(s={delimiter:" ",blocks:[2,2,2,6,4],numericOnly:!0},a=this.props.placeholder||"Nomor Induk Kependudukan"):"kip"==n.toLowerCase()?(s={delimiter:" ",blocks:[4,4,4,4]},a=this.props.placeholder||"Kartu Indonesia Pintar"):"npwp"==n.toLowerCase()?(s={delimiters:[".",".",".","-","."],blocks:[2,3,3,1,3,3],numericOnly:!0},a=this.props.placeholder||"Nomor Pokok Wajib Pajak"):"postcode"==n.toLowerCase()?(s={blocks:[5],delimiter:" ",numericOnly:!0},a=this.props.placeholder||"Kode Pos"):"phone"==n.toLowerCase()&&(a=this.props.placeholder||"Telepon"),this.state={type:n,placeholder:a,options_cleave:s,value:this.props.value?String(this.props.value):"",props_name:this.props.name?w(String(this.props.name),"_"):"",config:{readonly:!1,toolbarButtonSize:"small"}},this.toolbarRef=e.createRef(),this.editorRef=e.createRef()}componentDidUpdate(e,t){try{r(D(this.state.props_name,this.props.input),D(this.state.props_name,e.input))||r(this.state.value,D(this.state.props_name,this.props.input))||this.setState({value:this.props.input[this.state.props_name]||""})}catch(e){}this.props.value&&e.value!=this.props.value&&this.setState({value:this.props.value||""})}componentDidMount(){if(this.props.disableCopy||this.props.disablePaste||this.props.disableSelectAll){let e=[];this.props.disableCopy&&(e.push("command+c"),e.push("ctrl+c")),this.props.disablePaste&&(e.push("command+v"),e.push("ctrl+v")),this.props.disableSelectAll&&(e.push("command+a"),e.push("ctrl+a")),e.length>0&&R.bind(e,function(){return!1})}let e="";try{let t=D(this.state.props_name,this.props.input);e=this.props.value?this.props.value:t}catch(e){}this.setState({value:e})}render(){if(!this.state.props_name)return"Name is Required";if(this.props.disabled||this.props.isReadonly)return!i(this.state.value)&&H(String(this.state.value));if("nik"==this.state.type||"kip"==this.state.type||"npwp"==this.state.type||"postcode"==this.state.type)return e.createElement(n,{placeholder:this.state.placeholder,id:this.props.id,name:this.state.props_name,value:this.state.value,onChange:this.handleInputChange,options:this.state.options_cleave,className:"form-control"});if("textarea"==this.state.type)return e.createElement("textarea",{id:this.props.id,rows:this.props.rows||3,className:"form-control no-resize mousetrap",onChange:this.handleInputChange,name:this.state.props_name,value:this.state.value,placeholder:this.props.placeholder});if("phone"==this.state.type)return e.createElement(C,{international:!0,defaultCountry:"ID",value:this.state.value?String(this.state.value):"",onChange:this.onChange});if("texteditor"==this.state.type)return e.createElement(S,{key:this.props.name+"_editor",id:this.props.id,ref:this.editorRef,value:i(this.state.value)?"":String(this.state.value),config:this.state.config,tabIndex:1,onChange:this.onChange});if("equation"==this.state.type)return e.createElement("div",{id:this.props.id,ref:this.toolbarRef},e.createElement(Me,{id:this.props.id,onEquationInput:this.onChange,toolbarRef:this.toolbarRef,value:this.state.value}));let t="text"===this.state.type||o(this.state.type)?"search":this.state.type;return e.createElement(V.Control,{id:this.props.id,type:t,placeholder:this.state.placeholder,value:this.state.value,onChange:this.handleInputChange,name:this.state.props_name,className:"form-control mousetrap"})}});function Ae(){return e.createElement(he,{color:"#000",size:25})}let Le=Z;function He(t){try{if(r(t.type.type.substring(0,5),"image"))return e.createElement("img",{key:t.file,className:"img-responsive",style:{maxWidth:"100%"},src:process.env.REACT_APP_API_URL+"/file/stream/"+t.file});if(r(t.type.type.substring(0,5),"video"))return e.createElement(X,{key:t.file,autoPlay:!1,src:process.env.REACT_APP_API_URL+"/file/stream/"+t.file});if(r(t.type.type,"application/pdf"))return e.createElement("iframe",{key:t.file,width:"100%",height:"480",src:process.env.REACT_APP_API_URL+"/file/stream/"+t.file})}catch(e){}return null}function Ve(s){let n=s.accept?s.accept:"image/*, video/*, audio/*, .docx, .xlsx, .pptx, .csv, .pdf",o=k(e=>e.core.input),d=k(e=>e.core.parameter),[m,c]=t({}),[u,y]=t([]),[g,f]=t(!1),_=k(e=>e.auth),E=x();function b(e){if(h(e)&&!i(e)&&"null"!=e&&i(m[e])){let t=process.env.REACT_APP_API_URL+"/file/info",a=I({token_file:e}),s={method:"POST",headers:P(_),url:t,data:a};f(!0),J(s).then(t=>{t.data.success&&(m[e]=t.data.data,c(m),w[e]=!1,M(w)),f(!1)}).catch(t=>{m[e]="",c(m),w[e]=!1,M(w)})}}function v(e){return h(e)&&!i(e)&&"null"!=e}function T(e){return l(e,v)||[]}function C(e){return T(String(e).split("|"))}function S(e){M({...w,[e]:!w[e]})}function R(e){e!=d.openFile&&E({type:"SET_PARAMETER",payload:{key:"openFile",value:e}})}a(()=>{let e=s.value?s.value:D(s.name,o);if(e){let t=C(e);y(t)}},[]),a(()=>{let e=C(D(s.name,o));r(e,u)||y(e)},[D(s.name,o)]),a(()=>{!function(e){try{if(p(e)&&e.length>0)for(let t=0;t<e.length;t++)v(e[t])&&b(e[t]);else v(e)&&b(e)}catch(e){}}(u)},[u]),a(()=>{R(g)},[g]);let[w,M]=t({}),N=T(u);return process.env.REACT_APP_API_URL?e.createElement("div",null,!g&&!s.isReadonly&&e.createElement("div",null,!s.isMultiple&&e.createElement("div",{style:{display:"inline-block"}},e.createElement(V.Control,{className:s.className,accept:n,label:s.name,type:"file",onChange:function(e){let t=e.target.files||e.dataTransfer.files;t.length&&function(e){let t=new FileReader;t.onload=t=>{!function(e,t){let a=s.url||process.env.REACT_APP_API_URL+"/file/upload",n=new FormData,r=e.name;n.append("type",e.type),n.append("name",r),n.append("file",e),n.append("lastModifiedDate",Le(e.lastModifiedDate).format("YYYY-MM-DD HH:mm:ss")),n.append("size",e.size),f(!0),J.post(a,n,{headers:P(_,"multipart/form-data; boundary="+n._boundary)}).then(e=>{i(e.data.message)||E({type:"SET_MESSAGE",payload:e.data.message}),e.data.success?(E({type:"SET_INPUT",payload:{key:s.name,value:e.data.data.token}}),y([e.data.data.token])):E({type:"SET_INPUT",payload:{key:s.name,value:""}}),f(!1)}).catch(e=>{E({type:"SET_INPUT",payload:{key:s.name,value:""}}),E({type:"SET_MESSAGE",payload:"Gagal mengunggah lampiran"}),f(!1)})}(e)},t.readAsDataURL(e)}(t[0])},onInput:function(e){R(!1)},onClick:function(e){R(!0),setTimeout(()=>{R(!1)},6e4)}})),!g&&s.isMultiple&&e.createElement(Q,{config:{showFiletypeIcon:!0,postUrl:process.env.REACT_APP_API_URL+"/file/upload_multiple",uploadMultiple:!0,maxFiles:5},eventHandlers:{drop:function(){},complete:function(e){let t=JSON.parse(e.xhr.response),a=u||[];a.push(t.data.token);let n=l(a,function(e){return!i(e)})||[];E({type:"SET_INPUT",payload:{key:s.name,value:n.join("|")}}),y(n)},removedfile:function(e){}},djsConfig:{acceptedFiles:n,params:{token:_.user.token},addRemoveLinks:!0,autoProcessQueue:!0,maxFiles:5}})),!g&&N.length>0&&N.map((t,a)=>e.createElement("div",{style:{display:"inline-block"},key:t},s.preview&&e.createElement(e.Fragment,null,e.createElement(He,{key:t,type:m[t],file:t}),e.createElement("br",null)),e.createElement(F,null,e.createElement(Y,{variant:"primary",size:"sm",onClick:()=>S(t)},e.createElement(ee,{icon:te})," Lihat"),e.createElement(Y,{vendor:"success",onClick:()=>window.location.href=process.env.REACT_APP_API_URL+"/file/download/"+t,size:"sm"},e.createElement(ee,{icon:ae})," Unduh"),!s.isReadonly&&e.createElement(Y,{variant:"danger",onClick:()=>function(e){let t=process.env.REACT_APP_API_URL+"/file/delete",a=I({token_file:e,token:_.token}),n={method:"POST",headers:P(_),url:t,data:a};f(!0),J(n).then(t=>{i(t.data.message)||E({type:"SET_MESSAGE",payload:t.data.message});let a=l(u,t=>!r(t,e));y(a),E({type:"SET_INPUT",payload:{key:s.name,value:a}}),f(!1)}).catch(t=>{E({type:"SET_MESSAGE",payload:"Gagal menghapus lampiran"});let a=l(u,t=>!r(t,e));E({type:"SET_INPUT",payload:{key:s.name,value:a}}),y(a),f(!1)})}(t),size:"sm"},e.createElement(ee,{icon:se})," Hapus")),e.createElement(O,{size:"lg",id:"modal_"+t,show:w[t],onHide:()=>S(t)},e.createElement(O.Header,{closeButton:!0,onHide:()=>S(t)},e.createElement(O.Title,null,"Lampiran ",t)),e.createElement(O.Body,null,e.createElement(He,{key:t,type:m[t],file:t}))))),g&&e.createElement(Ae,null)):e.createElement("span",null,"REACT_APP_API_URL is required for .env")}var Fe=T(e=>({input:e.core.input||{}}),e=>({setInput:(t,a)=>e({type:"SET_INPUT",payload:{key:w(String(t)),value:a}})}))(class extends e.Component{constructor(e){super(e),this.labelGenerate=e=>{let t=[];if(p(this.props.optionLabel))for(let a=0;a<=this.props.optionLabel.length-1;a++)t.push(e[this.props.optionLabel[a]]);else t.push(e[this.props.optionLabel]);return t},this.onChange=e=>{if(!this.props.isReadonly&&this.props.name)try{if(this.props.isMultiple){let t=this.state.defaultValue||[],a=!1,s=[];for(let n=0;n<t.length;n++){let r=t[n];r==e[this.props.optionValue]?a=!0:s.push(r)}a||s.push(e[this.props.optionValue]),this.props.setInput(this.props.name,s)}else{let t=D(this.props.name,this.props.input)||null;this.props.value&&(t=this.props.value);let a=null;t!=e[this.props.optionValue]&&(a=e[this.props.optionValue]),this.props.setInput(this.props.name,a)}}catch(e){this.props.setInput(this.props.name,null)}this.onRefresh()},this.state={defaultValue:null,type:this.props.type||"inline"},this.onRefresh=d(this.onRefresh.bind(this),200)}onRefresh(){let e=null,t=null;if(e=this.props.value?this.props.value:D(this.props.name,this.props.input)||null,!m(e))if(this.props.isMultiple){t=[];for(let a=0;a<this.props.options.length;a++)for(let s=0;s<e.length;s++){let n=this.props.options[a],r=e[s];String(n[this.props.optionValue])==String(r)&&t.push(n[this.props.optionValue])}}else t=c(this.props.options,function(t){return String(t[this.props.optionValue])==String(e)}.bind(this));t=o(t)||m(t)?null:t,this.setState({defaultValue:t})}componentDidUpdate(e,t){r(D(this.props.name,e.input),D(this.props.name,this.props.input))||r(this.state.defaultValue,D(this.props.name,this.props.input))||this.onRefresh()}componentDidMount(){this.onRefresh()}render(){let t=[];try{t=this.props.options.length>0?this.props.options:[]}catch(e){}return e.createElement("div",{className:"custom-controls-stacked"},t.map(t=>{let a=!1;try{a=this.props.isMultiple?u(this.state.defaultValue,t[this.props.optionValue]):r(t[this.props.optionValue],this.state.defaultValue[this.props.optionValue])}catch(e){}return e.createElement(e.Fragment,null,e.createElement(V.Check,{inline:"inline"==this.state.type,disabled:this.props.disabled||this.props.isReadonly,type:this.props.isMultiple?"checkbox":"radio",name:this.props.name,onChange:this.onChange.bind(this,t),value:t,checked:a,label:this.labelGenerate(t).map((t,a)=>r(String(t).substring(0,3),"AT-")?e.createElement(Ve,{value:t,isReadonly:!0,preview:!0}):this.props.isHtml?H(String(t)):t)}))}))}});const Ye=t=>e.createElement(U,{size:"sm"},e.createElement(U.Text,{style:{background:"none"}},e.createElement(ee,{size:"sm",icon:me})),e.createElement(V.Control,{style:{borderLeft:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:t.disabled,name:t.name,value:t.value||"",onClick:t.onClick}));var Oe=T(e=>({input:e.core.input||{}}),e=>({setInput:(t,a)=>e({type:"SET_INPUT",payload:{key:w(String(t),"_"),value:a}})}))(class extends e.Component{constructor(e){super(e),this.handleInputChange=e=>{e=$(e).isValid()?$(e).format("YYYY-MM-DD"):null,this.props.setInput(this.props.name,e),this.onRefresh()},this.handleInputChangeStart=e=>{e=$(e).isValid()?$(e).format("YYYY-MM-DD"):null,this.props.setInput("start_"+this.props.name,e),this.onRefresh()},this.handleInputChangeEnd=e=>{e=$(e).isValid()?$(e).format("YYYY-MM-DD"):null,this.props.setInput("end_"+this.props.name,e),this.onRefresh()},this.checkTglMerah=e=>{let t=$(e).format("d");return 0==t||6==t?"tglmerah":void 0},this.state={selected:null,start_selected:null,end_selected:null},this.onRefresh=d(this.onRefresh.bind(this),200)}onRefresh(){if(this.props.isRange){let e=null,t=null;try{e=this.props.start_selected?$(this.props.start_selected).toDate():D("start_"+this.props.name,this.props.input)?$(D("start_"+this.props.name,this.props.input)).toDate():null}catch(e){}try{t=this.props.end_selected?$(this.props.end_selected).toDate():D("end_"+this.props.name,this.props.input)?$(D("end_"+this.props.name,this.props.input)).toDate():null}catch(e){}this.setState({start_selected:e,end_selected:t})}else{let e=null;try{e=this.props.selected?$(this.props.selected).toDate():D(this.props.name,this.props.input)?$(D(this.props.name,this.props.input)).toDate():null}catch(e){}this.setState({selected:e})}}componentDidMount(){this.onRefresh()}componentDidUpdate(e,t){this.props.isRange||D(this.props.name,e.input)==D(this.props.name,this.props.input)||D(this.props.name,this.props.input)==this.state.selected||this.onRefresh(),this.props.isRange&&D("start_"+this.props.name,e.input)!=D("start_"+this.props.name,this.props.input)&&D("start_"+this.props.name,this.props.input)!=this.state.start_selected&&this.onRefresh(),this.props.isRange&&D("end_"+this.props.name,e.input)!=D("end_"+this.props.name,this.props.input)&&D("end_"+this.props.name,this.props.input)!=this.state.end_selected&&this.onRefresh()}render(){let t=this.props.dateFormat?this.props.dateFormat:this.props.yearOnly?"yyyy":"yyyy-MM-dd";return this.props.isRange?this.props.disabled||this.props.isReadonly?($(this.state.start_selected).isValid()?$(this.state.start_selected).format("DD-MM-YYYY"):"")+" - "+($(this.state.end_selected).isValid()?$(this.state.end_selected).format("DD-MM-YYYY"):""):e.createElement("div",{className:"input-daterange input-group"},e.createElement(de,{minDate:this.props.minDate?$(this.props.minDate).toDate():null,maxDate:this.props.maxDate?$(this.props.maxDate).toDate():null,dateFormat:t,placeholder:this.props.placeholder?this.props.placeholder:"Tanggal",selected:this.state.start_selected,isClearable:!this.props.disabled&&!this.props.isReadonly,customInput:e.createElement(Ye,{value:this.state.start_selected,name:"start_"+this.props.name}),onChange:this.handleInputChangeStart,selectsStart:!this.props.yearOnly,peekNextMonth:!this.props.yearOnly,withPortal:!0,showMonthDropdown:!this.props.yearOnly,showYearDropdown:!this.props.yearOnly,showYearPicker:this.props.yearOnly,name:"start_"+this.props.name,todayButton:this.props.yearOnly?null:"Hari ini",dayClassName:this.checkTglMerah,dropdownMode:"select",disabled:this.props.disabled||this.props.isReadonly,readOnly:this.props.disabled||this.props.isReadonly,startDate:this.state.start_selected,endDate:this.state.end_selected,shouldCloseOnSelect:!1}),e.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),e.createElement(de,{minDate:this.state.start_selected?this.state.start_selected:this.props.minDate?$(this.props.minDate).toDate():null,maxDate:this.props.maxDate?$(this.props.maxDate).toDate():null,dateFormat:t,placeholder:this.props.placeholder?this.props.placeholder:"Tanggal",selected:this.state.end_selected,isClearable:!this.props.disabled&&!this.props.isReadonly,name:"end_"+this.props.name,selectsEnd:!0,customInput:e.createElement(Ye,{value:this.state.end_selected,name:"end_"+this.props.name}),onChange:this.handleInputChangeEnd,selectsStart:!this.props.yearOnly,peekNextMonth:!this.props.yearOnly,withPortal:!0,showMonthDropdown:!this.props.yearOnly,showYearDropdown:!this.props.yearOnly,showYearPicker:this.props.yearOnly,dayClassName:this.checkTglMerah,todayButton:this.props.yearOnly?null:"Hari ini",dropdownMode:"select",startDate:this.state.start_selected,endDate:this.state.end_selected,disabled:this.props.disabled||this.props.isReadonly,readOnly:this.props.disabled||this.props.isReadonly,shouldCloseOnSelect:!1})):this.props.disabled||this.props.isReadonly?$(this.props.input[this.props.name]).isValid()?$(this.props.input[this.props.name]).format(this.props.yearOnly?"YYYY":"DD-MM-YYYY"):"":e.createElement(de,{minDate:this.props.minDate?$(this.props.minDate).toDate():null,maxDate:this.props.maxDate?$(this.props.maxDate).toDate():null,dateFormat:t,placeholder:this.props.placeholder?this.props.placeholder:"Tanggal",customInput:e.createElement(Ye,{value:this.state.selected,name:this.props.name}),selected:this.state.selected,isClearable:!this.props.disabled&&!this.props.isReadonly,id:this.props.name,className:"form-control",dayClassName:this.checkTglMerah,onChange:this.handleInputChange,selectsStart:!this.props.yearOnly,peekNextMonth:!this.props.yearOnly,withPortal:!0,showMonthDropdown:!this.props.yearOnly,showYearDropdown:!this.props.yearOnly,showYearPicker:this.props.yearOnly,todayButton:this.props.yearOnly?null:"Hari ini",dropdownMode:"select",disabled:this.props.disabled||this.props.isReadonly,readOnly:this.props.disabled||this.props.isReadonly,shouldCloseOnSelect:!1})}}),Ue=T(e=>({input:e.core.input||{}}),e=>({setInput:(t,a)=>{e({type:"SET_INPUT",payload:{key:w(String(t),"_"),value:a}})}}))(class extends e.Component{constructor(e){super(e),this.handleInputChange=e=>{let t=null;t="decimal"==this.props.type?Number(e.target.value.replace(/[^0-9.-]+/g,"")):"percent"==this.props.type?this.validate_min_max(e.target.value.replace(/[^0-9.-]+/g,""),0,100):"range_three"==this.props.type?this.validate_min_max(e.target.value.replace(/[^0-9.-]+/g,""),1,3):"range_hundred"==this.props.type?this.validate_min_max(e.target.value.replace(/[^0-9.-]+/g,""),1,100):"range_depend"==this.props.type?this.validate_min_max(e.target.value.replace(/[^0-9.-]+/g,""),0,100):e.target.value.replace(/[^0-9.-]+/g,"");let a=this.props.minValue?Number(this.props.minValue):null,s=this.props.maxValue?Number(this.props.maxValue):null;s&&a?t=this.validate_min_max(t,a,s):!s&&a?t=this.validate_min_max(t,a,999999999999):s&&!a&&(t=this.validate_min_max(t,0,s)),t=t||0,this.state.props_name&&this.props.setInput(this.state.props_name,t);let n=e.target.rawValue||null;isNaN(parseFloat(n))||isNaN(parseFloat(t))||parseFloat(n)===parseFloat(t)||this.state.event.setRawValue(t)},this.onChange=e=>{this.setState({value:e}),this.state.props_name&&this.props.setInput(this.state.props_name,e)},this.onRefresh=()=>{let e="";try{let t=D(this.state.props_name,this.props.input);e=this.props.value?this.props.value:t}catch(e){}let t=this.props.minValue?Number(this.props.minValue):null,a=this.props.maxValue?Number(this.props.maxValue):null,s=e?parseInt(e):t;("decimal"==this.props.type||"percent"==this.props.type||"range_three"==this.props.type||a||t)&&(s=e?parseFloat(e):t),isNaN(s)&&(s=t),this.setState({value:s});try{parseFloat(this.state.event.lastInputValue||null)!==parseFloat(s)&&this.state.event.setRawValue(s)}catch(e){}},this.state={defaultValue:null,options:{numeral:!0},event:null,value:null,props_name:w(this.props.name,"_")},this.onRefresh=d(this.onRefresh.bind(this),200)}validate_min_max(e,t=0,a=100){return this.props.enableNegative&&e<0&&(t=-a),isNaN(e)&&(e=t),(e=parseFloat(e))>=a?e=a:e<=t&&(e=t),e?Number(e):null}componentDidUpdate(e,t,a){if(r(D(this.state.props_name,e.input),D(this.state.props_name,this.props.input))||r(this.state.value,D(this.state.props_name,this.props.input))||(this.setState({rawValue:D(this.state.props_name,this.props.input)||null,value:D(this.state.props_name,this.props.input)||null}),this.onRefresh()),this.props.value&&e.value!=this.props.value&&this.props.value!=this.state.value){let e=this.props.value||null;this.setState({rawValue:e,value:e}),this.onRefresh()}}componentDidMount(){let e={numeral:!0,numeralPositiveOnly:!0};"decimal"==this.props.type||"percent"==this.props.type||"range_three"==this.props.type||(e.numeralThousandsGroupStyle="thousand"),this.setState({options:e,rawValue:D(this.state.props_name,this.props.input),value:D(this.state.props_name,this.props.input)}),this.onRefresh()}onInit(e){this.setState({event:e})}render(){return this.props.disabled||this.props.isReadonly?m(this.state.value)||o(this.state.value)?null:M(this.state.value,""):"range"==this.props.type?e.createElement(fe,{maxValue:this.props.maxValue,minValue:this.props.minValue,value:this.state.value,onChange:this.onChange}):e.createElement(n,{placeholder:this.props.placeholder?this.props.placeholder:"",id:this.state.props_name,name:this.state.props_name,onInit:this.onInit.bind(this),value:this.state.value,onChange:this.handleInputChange,options:this.state.options,className:"form-control"})}});let ze;const Be=Ee(_e)(ze||(ze=(e=>e)`
  overflow: hidden;

  ._loading_overlay_overlay {
    background: rgba(255, 255, 255, 0.5);
  }
  &._loading_overlay_wrapper--active {
    overflow: hidden;
  }
`));function We(t){return e.createElement(Be,{fadeSpeed:250,active:t.isLoading,spinner:e.createElement(Ae,null)},t.children)}const Ge=({column:t})=>e.createElement("div",{style:{margin:"4px 0"}},t.canFilter&&t.render("Filter")),je=t=>{let s=t.column.filterValue,n=t.column.id,r=t.name,i=x(),[o,l]=e.useState(s),p=w("search_"+r+"_"+n,"_"),h=k(e=>e.core.filter);return a(()=>{l(h[p])},[]),e.createElement(V.Control,{key:p,id:p,name:p,value:o,onChange:function(e){e.preventDefault(),l(e.target.value),i({type:"SET_MULTI_FILTER",payload:{[p]:e.target.value,[w("loaded_"+r,"_")]:!1}})},placeholder:"Pencarian"})};function Ke({columns:s,data:n,renderRowSubComponent:r,customPageIndex:l,customPageSize:p,customPageCount:h,loading:d,isColumnsSearchable:c,primaryKey:u,name:y,customPageTotal:g}){let f=k(e=>e.core.filter)||{},_=[];for(let e=0;e<s.length;e++)try{let t=w("sort_"+y+"_"+s[e][u],"_"),a=f[t];i(a)||m(a)||o(a)||_.push({id:s[e][u],desc:"desc"==a})}catch(e){}let{getTableProps:E,getTableBodyProps:b,headerGroups:v,page:T,prepareRow:C,visibleColumns:S,gotoPage:R,setPageSize:D,state:{pageIndex:I,pageSize:P}}=ve({columns:s,data:n,defaultColumn:{Filter:t=>e.createElement(je,Object.assign({},t,{name:y}))},initialState:{pageIndex:l,pageSize:p,sortBy:_},manualPagination:!0,pageCount:h,manualSortBy:!0,defaultCanSort:!0,isMultiSortEvent:()=>{}},Te,ke,xe,Ce),A=v[0].headers||[];N(()=>{let e={};for(let t=0;t<A.length;t++){let a=A[t];if(a){let t=w("sort_"+y+"_"+a[u],"_"),s=a.isSorted?a.isSortedDesc?"desc":"asc":null;s!=f[t]&&(e[t]=s)}}i(e)||B({type:"SET_MULTI_FILTER",payload:{...e,[w("loaded_"+y,"_")]:!1}})},1e3,[A]);let[L,H]=t(d),[F,O]=t(I),B=x(),W=e=>{D(Number(e.target.value)),B({type:"SET_MULTI_FILTER",payload:{[w("load_"+y,"_")]:Number(e.target.value),[w("page_"+y,"_")]:F}})},G=e=>{let t=e.target.value?Number(e.target.value):0;Q(t)},j=l<h,K=l>=2,q=()=>{Q(F+1)},J=()=>{Q(F-1)},Q=e=>{O(e)};return N(()=>{R(F),B({type:"SET_MULTI_FILTER",payload:{[w("load_"+y,"_")]:P,[w("page_"+y,"_")]:F}})},1e3,[F]),a(()=>{H&&!d?setTimeout(()=>H(d),1e3):H(d)},[d]),i(y)?e.createElement("p",null,"Props name is Required"):e.createElement("div",null,e.createElement("div",{className:"custom-scroll",style:{overflow:"auto"}},e.createElement(U,null,e.createElement(Y,{style:{border:"none"},variant:"primary",onClick:()=>Q(1),disabled:!K||d},e.createElement(ee,{icon:ne})),e.createElement(Y,{style:{border:"none"},variant:"primary",onClick:J,disabled:!K||d},e.createElement(ee,{icon:re})),e.createElement(U.Text,{style:{background:"none"}},e.createElement(ee,{icon:ce}),"   Hal :"," "),e.createElement(V.Control,{style:{borderLeft:"none",borderRight:"none",minWidth:72},type:"number",min:1,max:h,value:F,onChange:G}),e.createElement(U.Text,{style:{background:"none"}},e.createElement(ee,{icon:ie}),"   Lihat :"," "),e.createElement(V.Control,{type:"number",min:1,style:{borderLeft:"none",borderRight:"none",minWidth:72},max:50,value:P,onChange:W}),e.createElement(Y,{style:{border:"none"},variant:"primary",onClick:q,disabled:!j||d},e.createElement(ee,{icon:oe})),e.createElement(Y,{style:{border:"none"},variant:"primary",onClick:()=>Q(h),disabled:!j||d},e.createElement(ee,{icon:le})))),e.createElement("div",{className:"text-center mt-2 mb-2"},e.createElement("strong",null,M(l,""))," dari"," ",e.createElement("strong",null,M(h,""))," hal. Total"," : ",e.createElement("strong",null,M(g,""))," hal"),e.createElement(z,Object.assign({style:{margin:0,zIndex:0},responsive:!0,bordered:!0,hover:!0,striped:!0,vcenter:!0},E()),e.createElement("thead",null,v.map(t=>e.createElement("tr",t.getHeaderGroupProps(),t.headers.map(t=>e.createElement("th",Object.assign({style:{padding:"4px 8px",borderTop:"1px solid #dee2e6"}},t.getHeaderProps()),e.createElement("div",t.getSortByToggleProps(),e.createElement("span",{style:{display:"inline-block"}},t.render("Header")),e.createElement("span",{style:{display:"inline-block",fontWeight:"bold"}},(e=>e.isSorted?e.isSortedDesc?" ↓":" ↑":"")(t))),c&&e.createElement(Ge,{column:t})))))),e.createElement("tbody",b(),T.length>0&&!L?T.map(t=>(C(t),e.createElement(e.Fragment,{key:t.getRowProps().key},e.createElement("tr",null,t.cells.map((t,a)=>e.createElement("td",Object.assign({style:{padding:"4px 8px",width:0==a?"10px":"auto"}},t.getCellProps()),t.render("Cell")))),t.isExpanded&&e.createElement("tr",null,e.createElement("td",{style:{padding:"4px 8px"},colSpan:S.length},r(t)))))):v.map(t=>e.createElement("tr",null,e.createElement("td",{style:{padding:"12px 0",textAlign:"center"},colSpan:t.headers.length},L?"Memproses...":"Tidak ada data"))))),e.createElement("div",{className:"text-center mt-2 mb-2"},e.createElement("strong",null,M(l,""))," dari"," ",e.createElement("strong",null,M(h,""))," hal. Total"," : ",e.createElement("strong",null,M(g,""))," hal"),e.createElement("div",{className:"custom-scroll",style:{overflow:"auto"}},e.createElement(U,null,e.createElement(Y,{style:{border:"none"},variant:"primary",onClick:()=>Q(1),disabled:!K||d},e.createElement(ee,{icon:ne})),e.createElement(Y,{style:{border:"none"},variant:"primary",onClick:J,disabled:!K||d},e.createElement(ee,{icon:re})),e.createElement(U.Text,{style:{background:"none"}},e.createElement(ee,{icon:ce}),"   Hal :"," "),e.createElement(V.Control,{style:{borderLeft:"none",borderRight:"none",minWidth:72},type:"number",min:1,max:h,value:F,onChange:G}),e.createElement(U.Text,{style:{background:"none"}},e.createElement(ee,{icon:ie}),"   Lihat :"," "),e.createElement(V.Control,{type:"number",min:1,style:{borderLeft:"none",borderRight:"none",minWidth:72},max:50,value:P,onChange:W}),e.createElement(Y,{style:{border:"none"},variant:"primary",onClick:q,disabled:!j||d},e.createElement(ee,{icon:oe})),e.createElement(Y,{style:{border:"none"},variant:"primary",onClick:()=>Q(h),disabled:!j||d},e.createElement(ee,{icon:le})))))}function qe(n){let[h,d]=t(!1),[m,u]=t([]),[_,b]=t([]),[v,T]=t({}),[C,S]=t(!1),[R,I]=t(!1),P=x(),M=(k(e=>e.core.parameter),k(e=>e.core.input)||{}),A=k(e=>e.auth.user)||{},L=k(e=>e.core.filter)||{},H=w("selected_"+n.name,"_"),F=n.primaryKey?n.primaryKey:"id",O={Header:"#",id:"select",width:"10px",Cell:t=>{let a=k(e=>e.core.input),s=!1;try{s="single"==n.selectable?D(H,a)==t.row.original[F]:g(D(H,a),function(e){return e==t.row.original[F]})>-1}catch(e){}return e.createElement(V.Check,{inline:!0,id:w(n.name+"_check_"+t.row.original[F],"_"),name:w(n.name+"_check_"+t.row.original[F],"_"),type:"single"==n.selectable?"radio":"checkbox",value:1,checked:s,disabled:n.isReadonly,onChange:()=>function(e,t,a=!1){let s=e.row.original||{};if("single"==n.selectable)P({type:"SET_PARAMETER",payload:{key:H,value:s}}),P({type:"SET_INPUT",payload:{key:H,value:s[F]}});else{let e=[];a?e=l(D(H,t),e=>e&&s&&parseInt(e)!=parseInt(s[F]))||[]:(e=D(H,t)||[],p(e)||(e=[]),e.push(s[F])),e=E(e),P({type:"SET_INPUT",payload:{key:H,value:e}})}}(t,a,s)})}},z=s(),K=be(z),q=i(n.selectable)?[...n.columns]:[O,...n.columns];if(n.action){let t={Header:"Aksi",id:"aksi_"+n.name,sortable:!1,Cell:t=>{let a=k(e=>e.core.parameter),s=t.row.original[F];return e.createElement(G,{key:"dropdown_"+n.name+"_"+s,size:"sm",id:"dropdown_"+n.name+"_"+s,isOpen:r(a.dropdown,s),toggle:()=>function(e){let t=r(a.dropdown,e)?null:e;P({type:"SET_PARAMETER",payload:{key:"dropdown",value:t}})}(s),drop:"end",variant:"primary",title:""},l(n.action,function(e){return o(e.show)||e.show}).map((a,r)=>{let i=!!f(a.disabled)&&a.disabled;return e.createElement(j.Item,{key:"dropdownitem_"+n.name+"_"+s+"_"+r,onClick:()=>a.onClick(t.row.original),disabled:i},a.label)}))}};q=i(n.selectable)?[t,...n.columns]:[t,O,...n.columns]}function J(){h&&(n.onReload(),D(w("loaded_"+n.name,"_"),L)||P({type:"SET_FILTER",payload:{key:w("loaded_"+n.name,"_"),value:!0}}))}a(()=>{K!=h&&d(K)}),a(()=>{P({type:"SET_FILTER",payload:{key:w("loaded_"+n.name,"_"),value:!1}})},[]),N(()=>{h&&J()},1e3,[h]),N(J,1e3,[D(w("keyword_"+n.name,"_"),L),D(w("page_"+n.name,"_"),L),D(w("load_"+n.name,"_"),L),D(w("loaded_"+n.name,"_"),L)]),N(()=>{b(e=>y([...e,...m],F)),D(H,M)&&function(){let e=null,t=null;if("single"==n.selectable)e=e=c(_,e=>e&&parseInt(e[F])==t)||{},t=D(H,M)||null;else{e=[],t=D(H,M)||[];for(let a=0;a<t.length;a++){let s=c(_,e=>e&&parseInt(e[F])==t[a])||{};i(s)||e.push(s)}}P({type:"SET_PARAMETER",payload:{key:H,value:e}})}()},1e3,[D(H,M),L]),N(()=>{try{u(n.data.data||[])}catch(e){}b(e=>y([...e,...m],F));try{T(n.data.meta||{})}catch(e){}},1e3,[n.data]);let Q=e.useMemo(()=>q,[]),X=!1;try{X="admin"==A.role}catch(e){}return e.createElement(We,{isLoading:n.isLoading},e.createElement("div",{style:{padding:"8px 12px"},ref:z},e.createElement("div",{style:{marginBottom:"12px"}},e.createElement(B,null,e.createElement(W,{xs:"12",sm:"12",md:"8",lg:"8"},e.createElement("div",null,n.renderFilter?n.renderFilter:null))),e.createElement(B,{style:{justifyContent:"flex-end"}},e.createElement(W,{xs:"12",sm:"12",md:"4",lg:"4"},e.createElement("div",null,n.isSearchable&&e.createElement("div",null,e.createElement(U,null,e.createElement(U.Text,{style:{background:"none"}},e.createElement(ee,{icon:te})),e.createElement(V.Control,{id:w("keyword_"+n.name,"_"),key:w("keyword_"+n.name,"_"),style:{borderLeft:"none"},className:"form-control",value:D(w("keyword_"+n.name,"_"),L),onChange:e=>{P({type:"SET_MULTI_FILTER",payload:{[w("keyword_"+n.name,"_")]:e.target.value,[w("page_"+n.name,"_")]:1,loaded:!1}})},type:"text",id:w("keyword_"+H),name:"keyword",placeholder:"Pencarian"}),e.createElement(Y,{style:{zIndex:0},variant:"primary",onClick:J,type:"button",disabled:n.isLoading},e.createElement(ee,{icon:pe,spin:n.isLoading})),(n.export||n.import)&&e.createElement(e.Fragment,null,n.export&&e.createElement(Y,{id:"exportFile",style:{zIndex:0},variant:"primary",className:"mr-1",onClick:n.exportReload,type:"button",disabled:n.disabledButton},e.createElement(ee,{icon:ue}),e.createElement(Tooltip,{placement:"top",isOpen:C,autohide:!1,target:"exportFile",toggle:()=>S(!C)},"Export")),n.import&&e.createElement(Y,{id:"importFile",style:{zIndex:0},variant:"primary",className:"mr-1",onClick:n.importReload,type:"button",disabled:n.disabledButton},e.createElement(ee,{icon:ye}),e.createElement(Tooltip,{placement:"top",isOpen:R,autohide:!1,target:"importFile",toggle:()=>I(!R)},"Import"))))))))),e.createElement(Ke,{name:w(n.name,"_"),columns:Q,data:m,primaryKey:F,isColumnsSearchable:n.isColumnsSearchable,fetchData:J,loading:n.isLoading,customPageTotal:v&&!i(v)?v.total:0,customPageCount:v&&!i(v)?v.last_page:1,customPageSize:v&&!i(v)?v.per_page:D(w("load_"+n.name,"_"),L)?D(w("load_"+n.name,"_"),L):10,customPageIndex:v&&!i(v)?v.current_page:D(w("page_"+n.name,"_"),L)?D(w("page_"+n.name,"_"),L):1})))}function Je(t){let a=[];if(p(t.errorMessage))for(let e=0;e<t.errorMessage.length;e++){let s=t.errorMessage[e];if(p(s))for(let e=0;e<s.length;e++)a.push(s[e]);else a.push(s)}else a.push(t.errorMessage);return e.createElement(V.Group,{as:B},e.createElement(V.Label,{column:!0,md:t.labelSize?t.labelSize:3},t.label?t.label:"Label",t.isRequired&&e.createElement("span",{className:"text-danger"}," *"),t.hint&&e.createElement("small",{className:"form-text text-muted"},t.hint)),e.createElement(W,{md:t.inputSize?t.inputSize:9},t.children,e.createElement(V.Text,{className:"text-danger"},a.length>0&&a.join(", "))))}const Qe=t=>e.createElement(U,{size:"sm"},e.createElement(U.Text,{style:{background:"none"}},e.createElement(ee,{size:"sm",icon:me})),e.createElement(V.Control,{style:{borderLeft:"none",borderRight:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:t.disabled,name:t.name,value:t.value||"",onClick:t.onClick}),e.createElement(U.Text,{style:{background:"none"}},e.createElement(ee,{size:"sm",icon:ge})));var Xe=T(e=>({input:e.core.input||{}}),e=>({setInput:(t,a)=>e({type:"SET_INPUT",payload:{key:w(String(t),"_"),value:a}})}))(class extends e.Component{constructor(e){super(e),this.handleInputChange=e=>{e=$(e).isValid()?$(e).format("YYYY-MM-DD HH:mm:ss"):null,this.props.setInput(this.props.name,e),this.onRefresh()},this.handleInputChangeStart=e=>{e=$(e).isValid()?$(e).format("YYYY-MM-DD HH:mm:ss"):null,this.props.setInput("start_"+this.props.name,e),this.onRefresh()},this.handleInputChangeEnd=e=>{e=$(e).isValid()?$(e).format("YYYY-MM-DD HH:mm:ss:ss"):null,this.props.setInput("end_"+this.props.name,e),this.onRefresh()},this.checkTglMerah=e=>{const t=$(e).format("d");return 5==t||6==t?"tglmerah":void 0},this.state={selected:null,start_selected:null,end_selected:null},this.onRefresh=_.debounce(this.onRefresh.bind(this),200)}onRefresh(){if(this.props.isRange){let e=null,t=null;try{e=this.props.start_selected?$(this.props.start_selected).toDate():D("start_"+this.props.name,this.props.input)?$(D("start_"+this.props.name,this.props.input)).toDate():null}catch(e){}try{t=this.props.end_selected?$(this.props.end_selected).toDate():D("end_"+this.props.name,this.props.input)?$(D("end_"+this.props.name,this.props.input)).toDate():null}catch(e){}this.setState({start_selected:e,end_selected:t})}else{let e=null;try{e=this.props.selected?$(this.props.selected).toDate():D(this.props.name,this.props.input)?$(D(this.props.name,this.props.input)).toDate():null}catch(e){}this.setState({selected:e})}}componentDidMount(){this.onRefresh()}componentDidUpdate(e,t){this.props.isRange||D(this.props.name,e.input)==D(this.props.name,this.props.input)||D(this.props.name,this.props.input)==this.state.selected||this.onRefresh(),this.props.isRange&&D("start_"+this.props.name,e.input)!=D("start_"+this.props.name,this.props.input)&&D("start_"+this.props.name,this.props.input)!=this.state.start_selected&&this.onRefresh(),this.props.isRange&&D("end_"+this.props.name,e.input)!=D("end_"+this.props.name,this.props.input)&&D("end_"+this.props.name,this.props.input)!=this.state.end_selected&&this.onRefresh()}render(){return this.props.isRange?this.props.disabled||this.props.isReadonly?e.createElement("div",{className:"input-daterange input-group"},$(this.state.start_selected).isValid()?$(this.state.start_selected).format("DD-MM-YYYY HH:mm:ss"):null,e.createElement("span",{style:{background:"none"}},"  s/d  "),$(this.state.end_selected).isValid()?$(this.state.end_selected).format("DD-MM-YYYY HH:mm:ss"):null):e.createElement("div",{className:"input-daterange input-group",style:{background:"none"}},e.createElement(de,{minDate:this.props.minDate?$(this.props.minDate).toDate():null,maxDate:this.props.maxDate?$(this.props.maxDate).toDate():null,dateFormat:this.props.dateFormat?this.props.dateFormat:"yyyy-MM-dd HH:mm:ss",placeholder:this.props.placeholder?this.props.placeholder:"Tanggal & Waktu",selected:this.state.start_selected,isClearable:!0,customInput:e.createElement(Qe,{value:this.state.start_selected,name:"start_"+this.props.name}),onChange:this.handleInputChangeStart,timeInputLabel:"Waktu : ",showTimeInput:!0,selectsStart:!0,peekNextMonth:!0,withPortal:!0,showMonthDropdown:!0,showYearDropdown:!0,name:"start_"+this.props.name,todayButton:"Hari ini",dayClassName:this.checkTglMerah,dropdownMode:"select",startDate:this.state.start_selected,endDate:this.state.end_selected,shouldCloseOnSelect:!1}),e.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),e.createElement(de,{minDate:this.state.start_selected?this.state.start_selected:this.props.minDate?$(this.props.minDate).toDate():null,maxDate:this.props.maxDate?$(this.props.maxDate).toDate():null,dateFormat:this.props.dateFormat?this.props.dateFormat:"yyyy-MM-dd HH:mm:ss",placeholder:this.props.placeholder?this.props.placeholder:"Tanggal & Waktu",selected:this.state.end_selected,isClearable:!0,name:"end_"+this.props.name,selectsEnd:!0,timeInputLabel:"Waktu : ",showTimeInput:!0,customInput:e.createElement(Qe,{value:this.state.end_selected,name:"end_"+this.props.name}),onChange:this.handleInputChangeEnd,peekNextMonth:!0,withPortal:!0,showMonthDropdown:!0,showYearDropdown:!0,dayClassName:this.checkTglMerah,todayButton:"Hari ini",dropdownMode:"select",startDate:this.state.start_selected,endDate:this.state.end_selected,shouldCloseOnSelect:!1})):this.props.disabled||this.props.isReadonly?e.createElement("div",{className:"input-daterange input-group"},$(this.state.selected).isValid()?$(this.state.selected).format("DD-MM-YYYY HH:mm:ss"):null):e.createElement(de,{minDate:this.props.minDate?$(this.props.minDate).toDate():null,maxDate:this.props.maxDate?$(this.props.maxDate).toDate():null,dateFormat:this.props.dateFormat?this.props.dateFormat:"yyyy-MM-dd HH:mm:ss",placeholder:this.props.placeholder?this.props.placeholder:"Tanggal & Waktu",selected:this.state.selected,isClearable:!0,id:this.props.name,className:"form-control",customInput:e.createElement(Qe,{value:this.state.selected,name:this.props.name}),dayClassName:this.checkTglMerah,onChange:this.handleInputChange,peekNextMonth:!0,timeInputLabel:"Waktu : ",showTimeInput:!0,withPortal:!0,showMonthDropdown:!0,showYearDropdown:!0,todayButton:"Hari ini",dropdownMode:"select",shouldCloseOnSelect:!1})}});function Ze(){return e.createElement(ee,{style:{position:"absolute",left:6,top:6},icon:ge,size:"sm"})}$();var $e=T(e=>({input:e.core.input||{}}),e=>({setInput:(t,a)=>e({type:"SET_INPUT",payload:{key:w(String(t),"_"),value:a}})}))(class extends e.Component{constructor(e){super(e),this.handleInputChange=e=>{e=e?$(e).format("HH:mm:ss"):null,this.props.setInput(this.props.name,e),this.onRefresh()},this.handleInputChangeStart=e=>{e=e?$(e).format("HH:mm:ss"):null,this.props.setInput("start_"+this.props.name,e),this.onRefresh()},this.handleInputChangeEnd=e=>{e=e?$(e).format("HH:mm:ss"):null,this.props.setInput("end_"+this.props.name,e),this.onRefresh()},this.state={selected:null,start_selected:null,end_selected:null},this.onRefresh=d(this.onRefresh.bind(this),200)}componentDidUpdate(e,t){this.props.isRange||D(this.props.name,e.input)==D(this.props.name,this.props.input)||D(this.props.name,this.props.input)==this.state.selected||this.onRefresh(),this.props.isRange&&D("start_"+this.props.name,e.input)!=D("start_"+this.props.name,this.props.input)&&D("start_"+this.props.name,this.props.input)!=this.state.start_selected&&this.onRefresh(),this.props.isRange&&D("end_"+this.props.name,e.input)!=D("end_"+this.props.name,this.props.input)&&D("end_"+this.props.name,this.props.input)!=this.state.end_selected&&this.onRefresh()}onRefresh(){if(this.props.isRange){let e=$(),t=$();try{e=this.props.start_selected?$(this.props.start_selected,"HH:mm:ss"):D("start_"+this.props.name,this.props.input)?$(D("start_"+this.props.name,this.props.input),"HH:mm:ss"):null}catch(e){}try{t=this.props.end_selected?$(this.props.end_selected,"HH:mm:ss"):D("end_"+this.props.name,this.props.input)?$(D("end_"+this.props.name,this.props.input),"HH:mm:ss"):null}catch(e){}this.setState({start_selected:e,end_selected:t})}else{let e=$();try{e=this.props.selected?$(this.props.selected,"HH:mm:ss"):D(this.props.name,this.props.input)?$(D(this.props.name,this.props.input),"HH:mm:ss"):null}catch(e){}this.setState({selected:e})}}componentDidMount(){this.onRefresh()}render(){return this.props.isRange?this.props.disabled||this.props.isReadonly?e.createElement("div",{className:"input-daterange input-group"},$(this.state.start_selected).isValid()?$(this.state.start_selected).format("HH:mm:ss"):"",e.createElement("span",{style:{background:"none"}},"  s/d  "),$(this.state.end_selected).isValid()?$(this.state.end_selected).format("HH:mm:ss"):""):e.createElement("div",{className:"input-daterange input-group"},e.createElement(Se,{value:this.state.start_selected,disabled:this.props.disabled||this.props.isReadonly,inputIcon:e.createElement(Ze,null),format:"HH:mm:ss",onChange:this.handleInputChangeStart}),e.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),e.createElement(Se,{value:this.state.end_selected,disabled:this.props.disabled||this.props.isReadonly,inputIcon:e.createElement(Ze,null),format:"HH:mm:ss",onChange:this.handleInputChangeEnd})):this.props.disabled||this.props.isReadonly?e.createElement("div",{className:"input-daterange input-group"},$(this.state.selected).isValid()?$(this.state.selected).format("HH:mm:ss"):""):e.createElement(Se,{value:this.state.selected,disabled:this.props.disabled||this.props.isReadonly,inputIcon:e.createElement(Ze,null),format:"HH:mm:ss",onChange:this.handleInputChange})}}),et=T(e=>({input:e.core.input||{}}),e=>({setInput:(t,a)=>e({type:"SET_INPUT",payload:{key:w(String(t),"_"),value:a}})}))(class extends e.Component{constructor(t){super(t),this.state={tags:[],suggestions:[],separator:"|"},this.reactTags=e.createRef()}onDelete(e){let t=this.state.tags.slice(0);t.splice(e,1),this.setState({tags:t}),this.props.name&&this.props.setInput(this.props.name,_.map(t,"name").join(this.state.separator))}onAddition(e){let t=[].concat(this.state.tags,e);this.setState({tags:_.uniqBy(t,"name")}),this.props.name&&this.props.setInput(this.props.name,_.map(t,"name").join(this.state.separator))}onFocus(e){}onValidate(e){return _.findIndex(this.state.tags,["name",e.name])<0}componentDidMount(){let e=[],t=[];for(let t=0;t<this.props.options.length;t++){let a=this.props.options[t];_.isEmpty(a[this.props.optionValue])||e.push({name:a[this.props.optionValue]})}let a="";try{a=this.props.value?this.props.value:this.props.input[this.props.name]?this.props.input[this.props.name]:""}catch(e){}let s=a?String(a).split(this.state.separator):[];for(let e=0;e<s.length;e++){let a=s[e];_.isEmpty(a)||t.push({name:a})}this.setState({suggestions:e,tags:t})}render(){return e.createElement(Re,{minQueryLength:1,noSuggestionsText:"Tidak ada usulan",ref:this.reactTags,tags:this.state.tags,id:this.props.name,removeButtonText:"Klik untuk menghapus",delimiters:["Enter","Tab"],placeholderText:this.props.placeholder?this.props.placeholder:"Dipisah dengan spasi / enter",allowNew:this.props.isCreateable,suggestions:this.state.suggestions,onDelete:this.onDelete.bind(this),onValidate:this.onValidate.bind(this),onFocus:this.onFocus.bind(this),onAddition:this.onAddition.bind(this)})}}),tt=T(e=>({input:e.core.input||{}}),e=>({setInput:(t,a)=>e({type:"SET_INPUT",payload:{key:w(String(t),"_"),value:a}})}))(class extends e.Component{constructor(e){super(e),this.labelGenerate=e=>{if(!i(e)){if(p(this.props.optionLabel)){let t=[],a=this.props.separator?this.props.separator:" | ";for(let a=0;a<=this.props.optionLabel.length-1;a++)t.push(e[this.props.optionLabel[a]]);return t.join(a)}return e[this.props.optionLabel]}return null},this.onChange=e=>{if(this.props.name)try{this.props.setInput(this.props.name,this.props.isMultiple?b(e,this.props.optionValue):e[this.props.optionValue])}catch(e){this.props.setInput(this.props.name,null)}this.onRefresh()},this.openModal=()=>{this.setState({show:!this.state.show})},this.state={defaultValue:null,options:[],show:!1},this.onRefresh=d(this.onRefresh.bind(this),200)}onRefresh(){let e=null,t=null;if(this.props.value)e=this.props.value;else if(e=D(this.props.name,this.props.input)||[],this.props.isMultiple){t=[];for(let a=0;a<this.props.options.length;a++)for(let s=0;s<e.length;s++){let n=this.props.options[a],r=e[s];String(n[this.props.optionValue])==String(r)&&t.push(n)}}else t=c(this.props.options,function(t){return String(t[this.props.optionValue])==e}.bind(this));t=o(t)||m(t)?null:t,this.setState({defaultValue:t})}componentDidUpdate(e,t){r(D(this.props.name,e.input),D(this.props.name,this.props.input))||r(this.state.defaultValue,D(this.props.name,this.props.input))||this.onRefresh()}componentDidMount(){this.onRefresh()}render(){let t=[];try{for(let e=0;e<this.props.options.length;e++){let a=this.props.options[e];this.props.isHtml&&(a[this.props.name]=H(String(a[this.props.name]))),t.push(a)}}catch(e){}return this.props.disabled||this.props.isReadonly?this.labelGenerate(this.state.defaultValue):this.props.withModal?e.createElement(e.Fragment,null,e.createElement(Row,null,!this.props.isReadonly&&e.createElement(Col,{lg:"1",md:"1",sm:"3",xs:"1"},e.createElement(Button,{type:"button",className:"btn btn-icon btn-primary btn-sm",onClick:this.openModal},e.createElement(ee,{size:"sm",icon:te})," Pilih")),e.createElement(Col,{lg:"11",md:"11",sm:"9",xs:"11"},!this.state.defaultValue||o(this.state.defaultValue)||i(this.state.defaultValue)?"":this.labelGenerate(this.state.defaultValue))),e.createElement(Modal,{size:"lg",show:this.state.show,onHide:this.openModal},e.createElement(ModalHeader,{closeButton:!0,toggle:this.openModal},e.createElement(Modal.Title,null,this.props.placeholder||"Pilih")),e.createElement(ModalBody,null,e.createElement(we,{isClearable:!0,id:this.props.id?this.props.id:this.props.name,isSearchable:!0,isHtml:this.props.isHtml,isMulti:this.props.isMultiple,placeholder:this.props.placeholder?this.props.placeholder:"Pilih",getOptionLabel:this.labelGenerate,getOptionValue:e=>e[this.props.optionValue],noOptionsMessage:()=>"Data tidak ditemukan",value:this.state.defaultValue,onChange:this.onChange,options:t,isDisabled:this.props.disabled})))):e.createElement(we,{menuPortalTarget:document.body,menuPosition:"fixed",styles:{menuPortal:e=>({...e,fontFamily:"inherit",fontSize:"inherit",zIndex:9999}),menu:e=>({...e,fontFamily:"inherit",fontSize:"inherit",zIndex:"9999 !important"}),multiValueRemove:e=>({...e,color:"#db2828",cursor:"pointer"}),placeholder:e=>({...e,fontFamily:"inherit",fontSize:"inherit"}),multiValue:e=>({...e,background:"none"}),multiValueLabel:e=>({...e,fontFamily:"inherit",fontSize:"inherit"}),option:e=>({...e,fontFamily:"inherit",fontSize:"inherit"}),clearIndicator:(e,t)=>({...e,cursor:"pointer",color:"#db2828"})},className:"tcomponent-select",isClearable:!0,id:this.props.id?this.props.id:this.props.name,isSearchable:!0,isHtml:this.props.isHtml,isMulti:this.props.isMultiple,placeholder:this.props.placeholder?this.props.placeholder:"Pilih",getOptionLabel:this.labelGenerate,getOptionValue:e=>e[this.props.optionValue],noOptionsMessage:()=>"Data tidak ditemukan",value:this.state.defaultValue,onChange:this.onChange,options:t,isDisabled:this.props.disabled})}});function at(s){let[n,o]=t(!1),[p,h]=t(!1),[d,m]=t(!1),[c,u]=t(!1),y=k(e=>e.auth)||{},g=k(e=>e.core.input)||{},f=k(e=>e.core.validation)||[],_=(k(e=>e.core.parameter),k(e=>e.core.filter)||{}),E=x(),[b,v]=t({}),[T,C]=t({activity:{},role:"",response:[]}),{doAfterSubmit:S,isLoading:R,doSubmit:D,doCancel:M,isReadonly:N,relation:H,id:F,isDelete:O}=s,[U,z]=t(N);return a(()=>{z(N)},[N]),a(()=>{!function(){let e=process.env.REACT_APP_API_URL+"/komentar_respon?",t={data:I({relation:H,id:F}),method:"POST",headers:P(y),url:e};u(!0),J(t).then(e=>{let t=e.data.data||{};O&&(t.response=l(t.response,function(e){return"HAPUS"==e.code})),C(t),u(!1)}).catch(e=>{A(e,E),u(!1)})}()},[]),a(()=>{let e=[];try{e=T.role.split(",")}catch(e){}let t=[];try{t=y.user.role.split(",")}catch(e){}let a=!1,s=!1;for(let e=0;e<t.length;e++)!s&&t[e]&&r(String(t[e]).trim().toLowerCase(),"admin")&&(s=!0,a=!0,E({type:"SET_INPUT",payload:{key:"response_role",value:String(t[e]).trim().toLowerCase()}}));if(!s)for(let s=0;s<e.length;s++)for(let n=0;n<t.length;n++)e[s]&&t[n]&&String(e[s]).trim().toLowerCase()==String(t[n]).trim().toLowerCase()&&!a&&(a=!0,E({type:"SET_INPUT",payload:{key:"response_role",value:String(t[n]).trim().toLowerCase()}}));!i(T.activity)&&T.response.length>0&&a&&U&&!N?(z(!1),E({type:"SET_INPUT",payload:{key:"activity",value:T.activity.code}})):z(!0)},[T]),a(()=>{d&&!i(f)&&m(!1)},[f]),a(()=>{!d||R||n||(m(!1),i(f)&&S&&S())},[n,f,R]),c?e.createElement(Ae,null):e.createElement(We,{isLoading:R||d},e.createElement(K,null,e.createElement(K.Body,null,e.createElement(K.Title,{tag:"h5"},T.activity.name||"Alur tidak ditemukan"),e.createElement(K.Text,null,!U&&e.createElement(B,null,e.createElement(W,{lg:"6"},e.createElement(V.Group,{as:B},e.createElement(W,{lg:"3"},e.createElement(V.Label,null,"Respon ",e.createElement("span",{className:"text-danger"},"*"))),e.createElement(W,{lg:"9"},e.createElement(tt,{name:"response_activity",options:T.response,separator:" | ",optionLabel:["name"],optionValue:"code"}))),e.createElement(V.Group,{as:B},e.createElement(W,{lg:"3"},e.createElement(V.Label,null,"Lampiran")),e.createElement(W,{lg:"5"},e.createElement(Ve,{value:g.attachment,name:"response_attachment",id:"response_attachment"})))),e.createElement(W,{lg:"6"},e.createElement(V.Group,{as:B},e.createElement(W,{lg:"3",style:{marginBottom:35}},e.createElement(V.Label,null,"Komentar")),e.createElement(W,{lg:"9"},e.createElement(Ne,{type:"textarea",required:!0,name:"response_comment",id:"response_comment",rows:"3"}))))),e.createElement(qe,{data:b,isLoading:p,name:w(s.relation,"_"),primaryKey:"id",isSearchable:!0,isColumnsSearchable:!0,onReload:function(){let e=process.env.REACT_APP_API_URL+"/komentar?",t=["user","role","activity","comment","due_datetime","start_datetime","end_datetime"],a={};try{a=L(_,t,w(s.relation,"_"))}catch(e){}let n={relation:H,id:F,...a},r={data:I(n),method:"POST",headers:P(y),url:e};h(!0),J(r).then(e=>{v(e.data.data),h(!1)}).catch(e=>{A(e,E),h(!1)})},columns:[{Header:"Nama",id:"user",accessor:e=>e.user},{Header:"Jabatan",id:"role",accessor:e=>e.role},{Header:"Aktifitas",id:"activity",accessor:e=>e.activity},{Header:"Respon",id:"response",accessor:e=>e.response},{Header:"Komentar",id:"comment",accessor:e=>e.comment},{Header:"Tenggat",id:"due_datetime",accessor:e=>e.due_datetime&&$(e.due_datetime).format("DD-MM-YYYY HH:mm")},{Header:"Mulai",id:"start_datetime",accessor:e=>e.start_datetime&&$(e.start_datetime).format("DD-MM-YYYY HH:mm")},{Header:"Selesai",id:"end_datetime",accessor:e=>e.end_datetime&&$(e.end_datetime).format("DD-MM-YYYY HH:mm")},{Header:"Lampiran",id:"attachment",accessor:t=>e.createElement(Ve,{value:t.attachment,isReadonly:!0})}]})),e.createElement(B,{className:"mt-2"},e.createElement(W,null,e.createElement(Y,{type:"button",className:"btn btn-icon btn-primary btn-sm float-left",onClick:function(e){M&&M()}},"Kembali"),!U&&e.createElement(Y,{type:"button",className:"btn btn-icon btn-primary btn-sm float-right",onClick:function(e){!g.response_activity||i(g.response_activity)?E({type:"SET_MESSAGE",payload:"Respon wajib diisi"}):(m(!0),o(!0),setTimeout(()=>o(!1),1e3),D&&D())}},"Proses"))))))}function st(t){return e.createElement(Oe,Object.assign({},t,{yearOnly:!0}))}let nt;const rt=De(nt||(nt=(e=>e)`
   position: absolute;
   top: 50%;
   left: 50%;
   margin-top: -25px;
   margin-left: -50px;
`));function it(){return e.createElement(he,{color:"#000",css:rt,size:50})}var ot=T(e=>({input:e.core.input||{},parameter:e.core.parameter||{}}),e=>({setInput:(t,a)=>e({type:"SET_INPUT",payload:{key:w(String(t),"_"),value:a}}),setParameter:(t,a)=>e({type:"SET_PARAMETER",payload:{key:w(String(t),"_"),value:a}})}))(class extends e.Component{constructor(e){super(e),this.handleInputChange=e=>{this.props.setInput(this.props.name,e.hex),this.props.setParameter("selected_"+this.props.name,e)},this.toggle=()=>{this.setState({open:!this.state.open})},this.state={open:!1}}componentDidMount(){try{this.props.setInput(this.props.name,this.props.parameter["selected_"+this.props.name].hex)}catch(e){}}render(){let t="";try{t=D(this.props.name,this.props.input)||""}catch(e){}return e.createElement(e.Fragment,null,this.state.open?e.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:999}},e.createElement(Ie,{color:t,onChangeComplete:this.handleInputChange}),e.createElement(Y,{style:{marginTop:10,backgroundColor:t,border:0},className:"btn btn-primary",onClick:this.toggle,type:"button"},"Pilih")):e.createElement(Y,{style:{zIndex:0,backgroundColor:t,border:0},className:"btn btn-primary",onClick:this.toggle,type:"button"},"Pilih"))}});function lt(s){let[n,r]=t({}),[h,d]=t(!1),{isMultiple:m,optionLabel:c,separator:u,primaryKey:y,id:g,param:f}=s,_=w(s.name,"_"),E=w("selected_"+_,"_"),b=x(),T=k(e=>e.auth)||{},C=k(e=>e.core.input)||{},S=k(e=>e.core.filter)||{},R=k(e=>e.core.parameter)||{};return a(()=>{let e=process.env.REACT_APP_API_URL+"/"+s.url,{keyword:t}=L(S,[],_),a=I({pkey:y,selected:[g],keyword:t,load:1,page:1,...f}),n={method:"POST",headers:P(T),url:e,data:a};d(!0),J(n).then(e=>{r(e.data.data.data[0]),d(!1)}).catch(e=>{d(!1)})},[g]),e.createElement(e.Fragment,null,!n||o(n)||i(n)?h?e.createElement(Ae,null):"":[function(e){if(p(c)){let t=[];u=u||" | ";for(let a=0;a<=c.length-1;a++)e[c[a]]&&!o(e[c[a]])&&t.push(e[c[a]]);return t.join(u)}return e[c]?e[c]:""}(n),!s.isReadonly&&e.createElement(Y,{variant:"link",size:"sm",onClick:function(e){if(r(null),v(s.optionValue)&&Object.keys(s.optionValue).map(function(e,t){b({type:"SET_INPUT",payload:{key:s.optionValue[e],value:null}})}),m){let t=l(D(_,C),function(t){return t!=e}),a=l(D(E,C),function(t){return t!=e}),s=l(D(E,R),function(t){return t[y]!=e});b({type:"SET_INPUT",payload:{key:_,value:t}}),b({type:"SET_INPUT",payload:{key:E,value:a}}),b({type:"SET_PARAMETER",payload:{key:E,value:s}})}else b({type:"SET_INPUT",payload:{key:_,value:null}}),b({type:"SET_INPUT",payload:{key:E,value:null}}),b({type:"SET_PARAMETER",payload:{key:E,value:{}}})}.bind(null,n[y]),style:{borderRadius:100}},e.createElement(ee,{size:"sm",color:"#db2828",icon:se}))])}function pt(n){let{isMultiple:h,defaultValue:d,optionLabel:c,separator:u}=n,y=x(),f=k(e=>e.auth)||{},_=k(e=>e.core.input)||{},T=k(e=>e.core.filter)||{},C=k(e=>e.core.parameter)||{},[S,R]=t(!1),[M,A]=t(!1),[H,F]=t(!1),[z,G]=t(!1),[j,K]=t({}),[q,Q]=t(h?[]:{}),[X,Z]=t(0),[$,ae]=t(!1),[se,ne]=t(1),re=w(n.name,"_"),ie=w("selected_"+re,"_"),[oe,le]=t(n.label?n.label:D(re,_)),he=s(),de=be(he),[me,ce]=t([]),[ue,ye]=t({}),ge=n.primaryKey?n.primaryKey:"id";function fe(e){let t=[];if(u=u||" | ",p(c)){for(let a=0;a<=c.length-1;a++)e[c[a]]&&!o(e[c[a]])&&t.push(e[c[a]]);return t.join(u)}return e[c]?e[c]:""}let _e=[{Header:"#",id:re+"_check",Cell:t=>{let a=k(e=>e.core.input),s=!1,r=D(ie,a);try{s=h?g(r,function(e){return e===t.row.original[ge]})>-1:r===t.row.original[ge]}catch(e){}return t.row.original[ge]?e.createElement(V.Check,{inline:!0,id:w(re+"_check_"+t.row.original[ge],"_"),name:w(re+"_check_"+t.row.original[ge],"_"),style:{zIndex:100},type:h?"checkbox":"radio",value:1,checked:s,disabled:n.isReadonly,onChange:()=>function(e,t,a=!1){let s=e.row.original||{};if(h){let e=[],n=D(ie,t);a?e=l(n,e=>e&&s&&String(e)!=String(s[ge]))||[]:(e=n||[],p(e)||(e=[]),s[ge]&&e.push(s[ge])),e=E(e),e=l(e,e=>!m(e)&&!o(e))||[],y({type:"SET_INPUT",payload:{key:ie,value:e}})}else y({type:"SET_INPUT",payload:{key:ie,value:s[ge]}})}(t,a,s)}):null}},{Header:"Keterangan",id:"label",accessor:e=>fe(e)}];function Ee(){$&&ke()}N(function(){if(h){let e=l(D(ie,_),function(e){return!m(e)&&!o(e)})||[];if(e.length>0){let t=process.env.REACT_APP_API_URL+"/"+n.url,{keyword:a}=L(T,[],re),s=I({pkey:ge,selected:e,keyword:a,load:e.length,page:1,...n.parameter}),r={method:"POST",headers:P(f),url:t,data:s};F(!0),J(r).then(e=>{y({type:"SET_PARAMETER",payload:{key:ie,value:e.data.data.data}}),xe(e.data.data.data),F(!1)}).catch(e=>{F(!1)})}else y({type:"SET_PARAMETER",payload:{key:ie,value:null}})}else{let e=D(ie,_)||null;if(e){let t=process.env.REACT_APP_API_URL+"/"+n.url,{keyword:a}=L(T,[],re),s=I({pkey:ge,selected:[e],keyword:a,load:1,page:1,...n.parameter}),r={method:"POST",headers:P(f),url:t,data:s};F(!0),J(r).then(e=>{let t=e.data.data.data[0]||{};y({type:"SET_PARAMETER",payload:{key:ie,value:t}}),xe(t),F(!1)}).catch(e=>{F(!1)})}else y({type:"SET_PARAMETER",payload:{key:ie,value:null}})}},500,[D(ie,_)]),N(Ee,500,[D("keyword_"+re,T),D("page_"+re,T),D("load_"+re,T)]);let ve=e.useMemo(()=>_e,[]);function Te(){ae(!1)}function ke(){let e=process.env.REACT_APP_API_URL+"/"+n.url,{page:t,load:a,keyword:s,sorted:r,search:i}=L(T,[],re),o=I({pkey:ge,page:t,load:a,keyword:s,sorted:r,search:i,...n.parameter}),l={method:"POST",headers:P(f),url:e,data:o};return G(!0),J(l).then(e=>{let t=e.data||{};if(void 0!==t.data.data){Z(t.data.meta.last_page);try{ce(t.data.data||[])}catch(e){}try{ye(t.data.meta||{})}catch(e){}}else if(void 0!==t.data){Z(t.meta.last_page);try{ce(t.data||[])}catch(e){}try{ye(t.meta||{})}catch(e){}}G(!1)}).catch(e=>{G(!1)})}function xe(e){h?function(e){if(v(n.optionValue))Object.keys(n.optionValue).map(function(t,a){let s=n.optionValue[t],i=null;if(e)try{i=E(b(e,t))}catch(e){}r(D(s,_),i)||y({type:"SET_INPUT",payload:{key:s,value:i}})});else{let t=re,a=null;e&&(a=E(b(e,ge))),r(D(t,_),a)||y({type:"SET_INPUT",payload:{key:t,value:a}})}}(e):function(e){if(v(n.optionValue))Object.keys(n.optionValue).map(function(t,a){let s=n.optionValue[t],i=null;if(e)try{i=e[t]}catch(e){}r(D(s,_),i)||y({type:"SET_INPUT",payload:{key:s,value:i}})});else{let t=re,a=null;e&&(a=e[ge]),r(D(t,_),a)||y({type:"SET_INPUT",payload:{key:t,value:a}})}}(e)}a(()=>{r(n.parameter,j)||(K(n.parameter),Ee()),de!=S&&R(de)}),a(function(){if(S){let e=null;try{h?(e=b(d,"value"),e=l(e,e=>e)||[]):e=d.value||null}catch(e){}let t=D(ie,_)||null;r(e,t)||(m(e)&&!m(t)?y({type:"SET_INPUT",payload:{key:ie,value:t}}):!m(e)&&m(t)?y({type:"SET_INPUT",payload:{key:ie,value:e}}):m(e)||m(t)?y({type:"SET_INPUT",payload:{key:ie,value:null}}):y({type:"SET_INPUT",payload:{key:ie,value:e}}))}},[S]),a(()=>{let e=null;try{e=h?l(b(d,"value"),e=>e)||null:d.value||null}catch(e){}e&&y({type:"SET_INPUT",payload:{key:ie,value:e}})},[]);let Ce=[],Se=D(ie,_);try{Ce=h?p(Se)?Se:[]:Se?[Se]:[]}catch(e){}let Re=D(ie,C),we=null;try{we=h?p(Re)?Re:[]:v(Re)?Re:{}}catch(e){}return e.createElement("div",{ref:he},e.createElement(B,null,!n.isReadonly&&e.createElement(W,{lg:"2",md:"2",sm:"4",xs:"12"},e.createElement(Y,{size:"sm",variant:"primary",type:"button",className:"btn-icon",onClick:function(){y({type:"SET_FILTER",payload:{key:w("page_"+re,"_"),value:1}}),ae(e=>!e),ke()}},e.createElement(ee,{icon:te}))),e.createElement(W,{lg:"10",md:"10",sm:"8",xs:"12"},H?e.createElement(Ae,null):Ce.map((t,a)=>e.createElement(e.Fragment,null,e.createElement(lt,{isReadonly:n.isReadonly,name:re,optionLabel:c,separator:u,param:n.parameter,url:n.url,primaryKey:ge,isMultiple:h,id:t}),n.isReadonly?Ce.length-1==a?null:", ":null)))),e.createElement(O,{size:"lg",show:$,onHide:Te},e.createElement(O.Header,{onHide:Te,closeButton:!0},e.createElement(O.Title,null,n.placeholder||"Pilih")),e.createElement(O.Body,null,e.createElement(We,{isLoading:z},e.createElement("div",null,e.createElement(U,{style:{marginBottom:12}},e.createElement(U.Text,{style:{background:"none"}},e.createElement(ee,{icon:te})),e.createElement(V.Control,{style:{borderLeft:"none"},className:"form-control",value:D("keyword_"+re,T),onChange:e=>{y({type:"SET_MULTI_FILTER",payload:{["keyword_"+re]:e.target.value,["page_"+re]:1}})},type:"text",id:"search_"+ie,name:"search",placeholder:"Pencarian"}),e.createElement(Y,{style:{zIndex:0},variant:"primary",onClick:Ee,type:"button",disabled:n.isLoading},e.createElement(ee,{icon:pe,spin:n.isLoading}))),!z&&e.createElement(Ke,{name:re,columns:ve,data:me,primaryKey:ge,isColumnsSearchable:!0,fetchData:Ee,loading:z,customPageTotal:ue&&!i(ue)?ue.total:0,customPageCount:ue&&!i(ue)?ue.last_page:1,customPageSize:ue&&!i(ue)?ue.per_page:T["load_"+re]?T["load_"+re]:5,customPageIndex:ue&&!i(ue)?ue.current_page:T["page_"+re]?T["page_"+re]:1}))),!z&&e.createElement("div",{style:{marginTop:12}},e.createElement("p",null,"Dipilih : "),H&&e.createElement(Ae,null),e.createElement("ul",null,h?we&&we.map((t,a)=>e.createElement("li",null,o(t)||i(t)?"":fe(t))):we&&e.createElement("li",null,o(we)||i(we)?"":fe(we)))))))}function ht(t){return e.createElement(Pe,{options:{chart:{id:"basic-line"},xaxis:{categories:[1991,1992,1993,1994,1995,1996,1997,1998,1999]}},series:[{name:"series-1",data:[30,40,45,50,49,60,70,91]}],type:"line",width:"50%"})}function dt(t){return e.createElement(Pe,{options:{colors:["#7638ff","#fda600"],chart:{type:"bar",fontFamily:"Poppins, sans-serif",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"60%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"IDR (juta)"}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"IDR "+e+" "}}},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]},series:[{name:"Received",type:"column",data:[70,150,80,180,150,175,201,60,200,120,190,160,50]},{name:"Pending",type:"column",data:[23,42,35,27,43,22,17,31,22,22,12,16,80]}],type:"bar",width:"50%"})}function mt(t){return e.createElement(Pe,{options:{chart:{id:"basic-area"},xaxis:{categories:[1991,1992,1993,1994,1995,1996,1997,1998,1999]}},series:[{name:"series-1",data:[30,40,45,50,49,60,70,91]}],type:"area",width:"50%"})}function ct(t){return e.createElement(Pe,{options:{chart:{id:"basic-candlestick"},candlestick:{wick:{useFillColor:!0}}},series:[{data:[[1538856e6,[6593.34,6600,6582.63,6600]],[15388569e5,[6595.16,6604.76,6590.73,6593.86]]]}],type:"candlestick",width:"50%"})}function ut(t){return e.createElement(Pe,{options:{chart:{id:"basic-heatmap"},candlestick:{wick:{useFillColor:!0}}},series:[{name:"Series 1",data:[{x:"W1",y:22},{x:"W2",y:29},{x:"W3",y:13},{x:"W4",y:32}]},{name:"Series 2",data:[{x:"W1",y:43},{x:"W2",y:43},{x:"W3",y:43},{x:"W4",y:43}]}],type:"heatmap",width:"50%"})}function yt(t){return e.createElement(Pe,{options:{chart:{id:"basic-treemap"},candlestick:{wick:{useFillColor:!0}}},series:[{data:[{x:"New Delhi",y:218},{x:"Kolkata",y:149},{x:"Mumbai",y:184},{x:"Ahmedabad",y:55},{x:"Bangaluru",y:84},{x:"Pune",y:31},{x:"Chennai",y:70}]}],type:"treemap",width:"50%"})}function gt(t){return e.createElement(Pe,{options:{chart:{id:"basic-pie"},labels:["Apple","Mango","Orange","Watermelon"]},series:[44,55,13,33],type:"pie",width:"50%"})}function ft(t){return e.createElement(Pe,{options:{chart:{id:"basic-donut"},labels:["Apple","Mango","Orange","Watermelon"]},series:[44,55,13,33],type:"donut",width:"50%"})}function _t(t){return e.createElement(Pe,{options:{chart:{id:"basic-radar"},labels:["April","May","June","July","August","September"]},series:[{name:"Radar Series 1",data:[45,52,38,24,33,10]},{name:"Radar Series 2",data:[26,21,20,6,8,15]}],type:"radar",width:"50%"})}function Et(t){return e.createElement(Pe,{options:{chart:{height:450,type:"rangeBar"},plotOptions:{bar:{horizontal:!0,barHeight:"80%"}},xaxis:{type:"datetime"},stroke:{width:1},fill:{type:"solid",opacity:.6},legend:{position:"top",horizontalAlign:"left"}},series:[{name:"Bob",data:[{x:"Design",y:[new Date("2019-03-05").getTime(),new Date("2019-03-08").getTime()]},{x:"Code",y:[new Date("2019-03-02").getTime(),new Date("2019-03-05").getTime()]},{x:"Code",y:[new Date("2019-03-05").getTime(),new Date("2019-03-07").getTime()]},{x:"Test",y:[new Date("2019-03-03").getTime(),new Date("2019-03-09").getTime()]},{x:"Test",y:[new Date("2019-03-08").getTime(),new Date("2019-03-11").getTime()]},{x:"Validation",y:[new Date("2019-03-11").getTime(),new Date("2019-03-16").getTime()]},{x:"Design",y:[new Date("2019-03-01").getTime(),new Date("2019-03-03").getTime()]}]},{name:"Joe",data:[{x:"Design",y:[new Date("2019-03-02").getTime(),new Date("2019-03-05").getTime()]},{x:"Test",y:[new Date("2019-03-06").getTime(),new Date("2019-03-16").getTime()],goals:[{name:"Break",value:new Date("2019-03-10").getTime(),strokeColor:"#CD2F2A"}]},{x:"Code",y:[new Date("2019-03-03").getTime(),new Date("2019-03-07").getTime()]},{x:"Deployment",y:[new Date("2019-03-20").getTime(),new Date("2019-03-22").getTime()]},{x:"Design",y:[new Date("2019-03-10").getTime(),new Date("2019-03-16").getTime()]}]},{name:"Dan",data:[{x:"Code",y:[new Date("2019-03-10").getTime(),new Date("2019-03-17").getTime()]},{x:"Validation",y:[new Date("2019-03-05").getTime(),new Date("2019-03-09").getTime()],goals:[{name:"Break",value:new Date("2019-03-07").getTime(),strokeColor:"#CD2F2A"}]}]}],type:"rangeBar",width:"50%"})}function bt(t){function a(e,t,a){for(var s=0,n=[];s<t;){var r=Math.floor(750*Math.random())+1,i=Math.floor(Math.random()*(a.max-a.min+1))+a.min,o=Math.floor(61*Math.random())+15;n.push([r,i,o]),s++}return n}return e.createElement(Pe,{options:{chart:{height:350,type:"bubble"},dataLabels:{enabled:!1},fill:{opacity:.8},title:{text:"Simple Bubble Chart"},xaxis:{tickAmount:12,type:"category"},yaxis:{max:70}},series:[{name:"Bubble1",data:a(new Date("11 Feb 2017 GMT").getTime(),20,{min:10,max:60})},{name:"Bubble2",data:a(new Date("11 Feb 2017 GMT").getTime(),20,{min:10,max:60})},{name:"Bubble3",data:a(new Date("11 Feb 2017 GMT").getTime(),20,{min:10,max:60})},{name:"Bubble4",data:a(new Date("11 Feb 2017 GMT").getTime(),20,{min:10,max:60})}],type:"bubble",width:"50%"})}function vt(t){return e.createElement(Pe,{options:{chart:{type:"polarArea"},stroke:{colors:["#fff"]},fill:{opacity:.8},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]},series:[14,23,21,17,15,10,12,17,21],type:"polarArea",width:"50%"})}function Tt(t){return e.createElement(Pe,{options:{chart:{height:350,type:"radialBar"},plotOptions:{radialBar:{dataLabels:{name:{fontSize:"22px"},value:{fontSize:"16px"},total:{show:!0,label:"Total",formatter:function(e){return 249}}}}},labels:["Apples","Oranges","Bananas","Berries"]},series:[44,55,67,83],type:"radialBar",width:"50%"})}function kt(t){return e.createElement(Pe,{options:{chart:{height:350,type:"scatter",zoom:{enabled:!0,type:"xy"}},xaxis:{tickAmount:10,labels:{formatter:function(e){return parseFloat(e).toFixed(1)}}},yaxis:{tickAmount:7}},series:[{name:"SAMPLE A",data:[[16.4,5.4],[21.7,2],[25.4,3],[19,2],[10.9,1],[13.6,3.2],[10.9,7.4],[10.9,0],[10.9,8.2],[16.4,0],[16.4,1.8],[13.6,.3],[13.6,0],[29.9,0],[27.1,2.3],[16.4,0],[13.6,3.7],[10.9,5.2],[16.4,6.5],[10.9,0],[24.5,7.1],[10.9,0],[8.1,4.7],[19,0],[21.7,1.8],[27.1,0],[24.5,0],[27.1,0],[29.9,1.5],[27.1,.8],[22.1,2]]},{name:"SAMPLE B",data:[[36.4,13.4],[1.7,11],[5.4,8],[9,17],[1.9,4],[3.6,12.2],[1.9,14.4],[1.9,9],[1.9,13.2],[1.4,7],[6.4,8.8],[3.6,4.3],[1.6,10],[9.9,2],[7.1,15],[1.4,0],[3.6,13.7],[1.9,15.2],[6.4,16.5],[.9,10],[4.5,17.1],[10.9,10],[.1,14.7],[9,10],[12.7,11.8],[2.1,10],[2.5,10],[27.1,10],[2.9,11.5],[7.1,10.8],[2.1,12]]},{name:"SAMPLE C",data:[[21.7,3],[23.6,3.5],[24.6,3],[29.9,3],[21.7,20],[23,2],[10.9,3],[28,4],[27.1,.3],[16.4,4],[13.6,0],[19,5],[22.4,3],[24.5,3],[32.6,3],[27.1,4],[29.6,6],[31.6,8],[21.6,5],[20.9,4],[22.4,0],[32.6,10.3],[29.7,20.8],[24.5,.8],[21.4,0],[21.7,6.9],[28.6,7.7],[15.4,0],[18.1,0],[33.4,0],[16.4,0]]}],type:"scatter",width:"50%"})}function xt(t){return e.createElement(Pe,{options:{chart:{type:"boxPlot",height:350},title:{text:"Basic BoxPlot Chart",align:"left"},plotOptions:{boxPlot:{colors:{upper:"#5C4742",lower:"#A5978B"}}}},series:[{type:"boxPlot",data:[{x:"Jan 2015",y:[54,66,69,75,88]},{x:"Jan 2016",y:[43,65,69,76,81]},{x:"Jan 2017",y:[31,39,45,51,59]},{x:"Jan 2018",y:[39,46,55,65,71]},{x:"Jan 2019",y:[29,31,35,39,44]},{x:"Jan 2020",y:[41,49,58,61,67]},{x:"Jan 2021",y:[54,59,66,71,88]}]}],type:"boxPlot",width:"50%"})}export{mt as ChartArea,dt as ChartBar,bt as ChartBubble,ct as ChartCandleStick,ft as ChartDonut,ut as ChartHeatMap,ht as ChartLine,gt as ChartPie,vt as ChartPolarArea,_t as ChartRadar,Tt as ChartRadial,Et as ChartRangeBar,kt as ChartScatter,yt as ChartTreeMap,xt as ChartWhisker,qe as DataTable,Ke as DataTableContainer,Je as Field,Fe as InputChoose,ot as InputColor,Oe as InputDate,Xe as InputDateTime,Ve as InputFile,Ue as InputNumber,tt as InputSelect,pt as InputSelectFetch,et as InputTag,Ne as InputText,$e as InputTime,at as InputWorkflow,st as InputYear,Ae as Loading,We as LoadingOverlay,it as LoadingPage};
//# sourceMappingURL=index.modern.js.map
